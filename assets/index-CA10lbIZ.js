(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function Nv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var mf={exports:{}},fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km;function Iv(){if(km)return fr;km=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,u){var c=null;if(u!==void 0&&(c=""+u),r.key!==void 0&&(c=""+r.key),"key"in r){u={};for(var h in r)h!=="key"&&(u[h]=r[h])}else u=r;return r=u.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:u}}return fr.Fragment=t,fr.jsx=n,fr.jsxs=n,fr}var Gm;function zv(){return Gm||(Gm=1,mf.exports=Iv()),mf.exports}var S=zv(),pf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um;function jv(){if(Um)return Et;Um=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function v(R){return R===null||typeof R!="object"?null:(R=p&&R[p]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,w={};function C(R,F,k){this.props=R,this.context=F,this.refs=w,this.updater=k||E}C.prototype.isReactComponent={},C.prototype.setState=function(R,F){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,F,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=C.prototype;function N(R,F,k){this.props=R,this.context=F,this.refs=w,this.updater=k||E}var P=N.prototype=new M;P.constructor=N,T(P,C.prototype),P.isPureReactComponent=!0;var L=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function V(R,F,k,J,it,ft){return k=ft.ref,{$$typeof:a,type:R,key:F,ref:k!==void 0?k:null,props:ft}}function K(R,F){return V(R.type,F,void 0,void 0,void 0,R.props)}function Q(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function $(R){var F={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(k){return F[k]})}var ot=/\/+/g;function tt(R,F){return typeof R=="object"&&R!==null&&R.key!=null?$(""+R.key):F.toString(36)}function et(){}function nt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(et,et):(R.status="pending",R.then(function(F){R.status==="pending"&&(R.status="fulfilled",R.value=F)},function(F){R.status==="pending"&&(R.status="rejected",R.reason=F)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function ct(R,F,k,J,it){var ft=typeof R;(ft==="undefined"||ft==="boolean")&&(R=null);var ut=!1;if(R===null)ut=!0;else switch(ft){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(R.$$typeof){case a:case t:ut=!0;break;case m:return ut=R._init,ct(ut(R._payload),F,k,J,it)}}if(ut)return it=it(R),ut=J===""?"."+tt(R,0):J,L(it)?(k="",ut!=null&&(k=ut.replace(ot,"$&/")+"/"),ct(it,F,k,"",function(lt){return lt})):it!=null&&(Q(it)&&(it=K(it,k+(it.key==null||R&&R.key===it.key?"":(""+it.key).replace(ot,"$&/")+"/")+ut)),F.push(it)),1;ut=0;var zt=J===""?".":J+":";if(L(R))for(var wt=0;wt<R.length;wt++)J=R[wt],ft=zt+tt(J,wt),ut+=ct(J,F,k,ft,it);else if(wt=v(R),typeof wt=="function")for(R=wt.call(R),wt=0;!(J=R.next()).done;)J=J.value,ft=zt+tt(J,wt++),ut+=ct(J,F,k,ft,it);else if(ft==="object"){if(typeof R.then=="function")return ct(nt(R),F,k,J,it);throw F=String(R),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return ut}function I(R,F,k){if(R==null)return R;var J=[],it=0;return ct(R,J,"","",function(ft){return F.call(k,ft,it++)}),J}function X(R){if(R._status===-1){var F=R._result;F=F(),F.then(function(k){(R._status===0||R._status===-1)&&(R._status=1,R._result=k)},function(k){(R._status===0||R._status===-1)&&(R._status=2,R._result=k)}),R._status===-1&&(R._status=0,R._result=F)}if(R._status===1)return R._result.default;throw R._result}var W=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function st(){}return Et.Children={map:I,forEach:function(R,F,k){I(R,function(){F.apply(this,arguments)},k)},count:function(R){var F=0;return I(R,function(){F++}),F},toArray:function(R){return I(R,function(F){return F})||[]},only:function(R){if(!Q(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Et.Component=C,Et.Fragment=n,Et.Profiler=r,Et.PureComponent=N,Et.StrictMode=s,Et.Suspense=d,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Et.__COMPILER_RUNTIME={__proto__:null,c:function(R){return O.H.useMemoCache(R)}},Et.cache=function(R){return function(){return R.apply(null,arguments)}},Et.cloneElement=function(R,F,k){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var J=T({},R.props),it=R.key,ft=void 0;if(F!=null)for(ut in F.ref!==void 0&&(ft=void 0),F.key!==void 0&&(it=""+F.key),F)!H.call(F,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&F.ref===void 0||(J[ut]=F[ut]);var ut=arguments.length-2;if(ut===1)J.children=k;else if(1<ut){for(var zt=Array(ut),wt=0;wt<ut;wt++)zt[wt]=arguments[wt+2];J.children=zt}return V(R.type,it,void 0,void 0,ft,J)},Et.createContext=function(R){return R={$$typeof:c,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Et.createElement=function(R,F,k){var J,it={},ft=null;if(F!=null)for(J in F.key!==void 0&&(ft=""+F.key),F)H.call(F,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(it[J]=F[J]);var ut=arguments.length-2;if(ut===1)it.children=k;else if(1<ut){for(var zt=Array(ut),wt=0;wt<ut;wt++)zt[wt]=arguments[wt+2];it.children=zt}if(R&&R.defaultProps)for(J in ut=R.defaultProps,ut)it[J]===void 0&&(it[J]=ut[J]);return V(R,ft,void 0,void 0,null,it)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(R){return{$$typeof:h,render:R}},Et.isValidElement=Q,Et.lazy=function(R){return{$$typeof:m,_payload:{_status:-1,_result:R},_init:X}},Et.memo=function(R,F){return{$$typeof:_,type:R,compare:F===void 0?null:F}},Et.startTransition=function(R){var F=O.T,k={};O.T=k;try{var J=R(),it=O.S;it!==null&&it(k,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(st,W)}catch(ft){W(ft)}finally{O.T=F}},Et.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Et.use=function(R){return O.H.use(R)},Et.useActionState=function(R,F,k){return O.H.useActionState(R,F,k)},Et.useCallback=function(R,F){return O.H.useCallback(R,F)},Et.useContext=function(R){return O.H.useContext(R)},Et.useDebugValue=function(){},Et.useDeferredValue=function(R,F){return O.H.useDeferredValue(R,F)},Et.useEffect=function(R,F,k){var J=O.H;if(typeof k=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(R,F)},Et.useId=function(){return O.H.useId()},Et.useImperativeHandle=function(R,F,k){return O.H.useImperativeHandle(R,F,k)},Et.useInsertionEffect=function(R,F){return O.H.useInsertionEffect(R,F)},Et.useLayoutEffect=function(R,F){return O.H.useLayoutEffect(R,F)},Et.useMemo=function(R,F){return O.H.useMemo(R,F)},Et.useOptimistic=function(R,F){return O.H.useOptimistic(R,F)},Et.useReducer=function(R,F,k){return O.H.useReducer(R,F,k)},Et.useRef=function(R){return O.H.useRef(R)},Et.useState=function(R){return O.H.useState(R)},Et.useSyncExternalStore=function(R,F,k){return O.H.useSyncExternalStore(R,F,k)},Et.useTransition=function(){return O.H.useTransition()},Et.version="19.1.1",Et}var Pm;function dd(){return Pm||(Pm=1,pf.exports=jv()),pf.exports}var Dt=dd();const Bs=Nv(Dt);var yf={exports:{}},dr={},vf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function kv(){return Fm||(Fm=1,(function(a){function t(I,X){var W=I.length;I.push(X);t:for(;0<W;){var st=W-1>>>1,R=I[st];if(0<r(R,X))I[st]=X,I[W]=R,W=st;else break t}}function n(I){return I.length===0?null:I[0]}function s(I){if(I.length===0)return null;var X=I[0],W=I.pop();if(W!==X){I[0]=W;t:for(var st=0,R=I.length,F=R>>>1;st<F;){var k=2*(st+1)-1,J=I[k],it=k+1,ft=I[it];if(0>r(J,W))it<R&&0>r(ft,J)?(I[st]=ft,I[it]=W,st=it):(I[st]=J,I[k]=W,st=k);else if(it<R&&0>r(ft,W))I[st]=ft,I[it]=W,st=it;else break t}}return X}function r(I,X){var W=I.sortIndex-X.sortIndex;return W!==0?W:I.id-X.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var d=[],_=[],m=1,p=null,v=3,E=!1,T=!1,w=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function L(I){for(var X=n(_);X!==null;){if(X.callback===null)s(_);else if(X.startTime<=I)s(_),X.sortIndex=X.expirationTime,t(d,X);else break;X=n(_)}}function O(I){if(w=!1,L(I),!T)if(n(d)!==null)T=!0,H||(H=!0,tt());else{var X=n(_);X!==null&&ct(O,X.startTime-I)}}var H=!1,V=-1,K=5,Q=-1;function $(){return C?!0:!(a.unstable_now()-Q<K)}function ot(){if(C=!1,H){var I=a.unstable_now();Q=I;var X=!0;try{t:{T=!1,w&&(w=!1,N(V),V=-1),E=!0;var W=v;try{e:{for(L(I),p=n(d);p!==null&&!(p.expirationTime>I&&$());){var st=p.callback;if(typeof st=="function"){p.callback=null,v=p.priorityLevel;var R=st(p.expirationTime<=I);if(I=a.unstable_now(),typeof R=="function"){p.callback=R,L(I),X=!0;break e}p===n(d)&&s(d),L(I)}else s(d);p=n(d)}if(p!==null)X=!0;else{var F=n(_);F!==null&&ct(O,F.startTime-I),X=!1}}break t}finally{p=null,v=W,E=!1}X=void 0}}finally{X?tt():H=!1}}}var tt;if(typeof P=="function")tt=function(){P(ot)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,nt=et.port2;et.port1.onmessage=ot,tt=function(){nt.postMessage(null)}}else tt=function(){M(ot,0)};function ct(I,X){V=M(function(){I(a.unstable_now())},X)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(I){I.callback=null},a.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<I?Math.floor(1e3/I):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(I){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var W=v;v=X;try{return I()}finally{v=W}},a.unstable_requestPaint=function(){C=!0},a.unstable_runWithPriority=function(I,X){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=v;v=I;try{return X()}finally{v=W}},a.unstable_scheduleCallback=function(I,X,W){var st=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?st+W:st):W=st,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=W+R,I={id:m++,callback:X,priorityLevel:I,startTime:W,expirationTime:R,sortIndex:-1},W>st?(I.sortIndex=W,t(_,I),n(d)===null&&I===n(_)&&(w?(N(V),V=-1):w=!0,ct(O,W-st))):(I.sortIndex=R,t(d,I),T||E||(T=!0,H||(H=!0,tt()))),I},a.unstable_shouldYield=$,a.unstable_wrapCallback=function(I){var X=v;return function(){var W=v;v=X;try{return I.apply(this,arguments)}finally{v=W}}}})(xf)),xf}var Zm;function Gv(){return Zm||(Zm=1,vf.exports=kv()),vf.exports}var Ef={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function Uv(){if(Ym)return je;Ym=1;var a=dd();function t(d){var _="https://react.dev/errors/"+d;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)_+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function u(d,_,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:d,containerInfo:_,implementation:m}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,_){if(d==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(d,_){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(d,_,null,m)},je.flushSync=function(d){var _=c.T,m=s.p;try{if(c.T=null,s.p=2,d)return d()}finally{c.T=_,s.p=m,s.d.f()}},je.preconnect=function(d,_){typeof d=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(d,_))},je.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},je.preinit=function(d,_){if(typeof d=="string"&&_&&typeof _.as=="string"){var m=_.as,p=h(m,_.crossOrigin),v=typeof _.integrity=="string"?_.integrity:void 0,E=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;m==="style"?s.d.S(d,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:p,integrity:v,fetchPriority:E}):m==="script"&&s.d.X(d,{crossOrigin:p,integrity:v,fetchPriority:E,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(d,_){if(typeof d=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var m=h(_.as,_.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(d)},je.preload=function(d,_){if(typeof d=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var m=_.as,p=h(m,_.crossOrigin);s.d.L(d,m,{crossOrigin:p,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(d,_){if(typeof d=="string")if(_){var m=h(_.as,_.crossOrigin);s.d.m(d,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:m,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(d)},je.requestFormReset=function(d){s.d.r(d)},je.unstable_batchedUpdates=function(d,_){return d(_)},je.useFormState=function(d,_,m){return c.H.useFormState(d,_,m)},je.useFormStatus=function(){return c.H.useHostTransitionStatus()},je.version="19.1.1",je}var Xm;function Pv(){if(Xm)return Ef.exports;Xm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ef.exports=Uv(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm;function Fv(){if(Bm)return dr;Bm=1;var a=Gv(),t=dd(),n=Pv();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(s(188))}function d(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,o=i;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(o=f.return,o!==null){l=o;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return h(f),e;if(g===o)return h(f),i;g=g.sibling}throw Error(s(188))}if(l.return!==o.return)l=f,o=g;else{for(var y=!1,x=f.child;x;){if(x===l){y=!0,l=f,o=g;break}if(x===o){y=!0,o=f,l=g;break}x=x.sibling}if(!y){for(x=g.child;x;){if(x===l){y=!0,l=g,o=f;break}if(x===o){y=!0,o=g,l=f;break}x=x.sibling}if(!y)throw Error(s(189))}}if(l.alternate!==o)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function tt(e){return e===null||typeof e!="object"?null:(e=ot&&e[ot]||e["@@iterator"],typeof e=="function"?e:null)}var et=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case P:return(e.displayName||"Context")+".Provider";case N:return(e._context.displayName||"Context")+".Consumer";case L:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:nt(e.type)||"Memo";case K:i=e._payload,e=e._init;try{return nt(e(i))}catch{}}return null}var ct=Array.isArray,I=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},st=[],R=-1;function F(e){return{current:e}}function k(e){0>R||(e.current=st[R],st[R]=null,R--)}function J(e,i){R++,st[R]=e.current,e.current=i}var it=F(null),ft=F(null),ut=F(null),zt=F(null);function wt(e,i){switch(J(ut,i),J(ft,e),J(it,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?hm(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=hm(i),e=fm(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(it),J(it,e)}function lt(){k(it),k(ft),k(ut)}function _t(e){e.memoizedState!==null&&J(zt,e);var i=it.current,l=fm(i,e.type);i!==l&&(J(ft,e),J(it,l))}function rt(e){ft.current===e&&(k(it),k(ft)),zt.current===e&&(k(zt),rr._currentValue=W)}var xt=Object.prototype.hasOwnProperty,Lt=a.unstable_scheduleCallback,jt=a.unstable_cancelCallback,Xt=a.unstable_shouldYield,xe=a.unstable_requestPaint,ce=a.unstable_now,Mn=a.unstable_getCurrentPriorityLevel,$t=a.unstable_ImmediatePriority,Zn=a.unstable_UserBlockingPriority,On=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,he=a.unstable_IdlePriority,gl=a.log,_l=a.unstable_setDisableYieldValue,Yn=null,Ee=null;function Xn(e){if(typeof gl=="function"&&_l(e),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(Yn,e)}catch{}}var Ne=Math.clz32?Math.clz32:ac,qr=Math.log,ml=Math.LN2;function ac(e){return e>>>=0,e===0?32:31-(qr(e)/ml|0)|0}var ea=256,ys=4194304;function Bn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oi(e,i,l){var o=e.pendingLanes;if(o===0)return 0;var f=0,g=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var x=o&134217727;return x!==0?(o=x&~g,o!==0?f=Bn(o):(y&=x,y!==0?f=Bn(y):l||(l=x&~e,l!==0&&(f=Bn(l))))):(x=o&~g,x!==0?f=Bn(x):y!==0?f=Bn(y):l||(l=o&~e,l!==0&&(f=Bn(l)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:f}function Di(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function lc(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var e=ea;return ea<<=1,(ea&4194048)===0&&(ea=256),e}function Li(){var e=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),e}function ni(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function Dn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vr(e,i,l,o,f,g){var y=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,b=e.expirationTimes,j=e.hiddenUpdates;for(l=y&~l;0<l;){var Z=31-Ne(l),q=1<<Z;x[Z]=0,b[Z]=-1;var G=j[Z];if(G!==null)for(j[Z]=null,Z=0;Z<G.length;Z++){var U=G[Z];U!==null&&(U.lane&=-536870913)}l&=~q}o!==0&&pl(e,o,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(y&~i))}function pl(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ne(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|l&4194090}function Pe(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var o=31-Ne(l),f=1<<o;f&i|e[o]&i&&(e[o]|=i),l&=~f}}function Ln(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sn(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Dm(e.type))}function Be(e,i){var l=X.p;try{return X.p=e,i()}finally{X.p=l}}var Se=Math.random().toString(36).slice(2),te="__reactFiber$"+Se,At="__reactProps$"+Se,le="__reactContainer$"+Se,an="__reactEvents$"+Se,rc="__reactListeners$"+Se,Ry="__reactHandles$"+Se,$d="__reactResources$"+Se,yl="__reactMarker$"+Se;function oc(e){delete e[te],delete e[At],delete e[an],delete e[rc],delete e[Ry]}function ia(e){var i=e[te];if(i)return i;for(var l=e.parentNode;l;){if(i=l[le]||l[te]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=mm(e);e!==null;){if(l=e[te])return l;e=mm(e)}return i}e=l,l=e.parentNode}return null}function sa(e){if(e=e[te]||e[le]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function vl(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function aa(e){var i=e[$d];return i||(i=e[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Te(e){e[yl]=!0}var tg=new Set,eg={};function vs(e,i){la(e,i),la(e+"Capture",i)}function la(e,i){for(eg[e]=i,e=0;e<i.length;e++)tg.add(i[e])}var by=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ng={},ig={};function Cy(e){return xt.call(ig,e)?!0:xt.call(ng,e)?!1:by.test(e)?ig[e]=!0:(ng[e]=!0,!1)}function Wr(e,i,l){if(Cy(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function Qr(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function ii(e,i,l,o){if(o===null)e.removeAttribute(l);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+o)}}var uc,sg;function ra(e){if(uc===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);uc=i&&i[1]||"",sg=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uc+e+sg}var cc=!1;function hc(e,i){if(!e||cc)return"";cc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(U){var G=U}Reflect.construct(e,[],q)}else{try{q.call()}catch(U){G=U}e.call(q.prototype)}}else{try{throw Error()}catch(U){G=U}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(U){if(U&&G&&typeof U.stack=="string")return[U.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=o.DetermineComponentFrameRoot(),y=g[0],x=g[1];if(y&&x){var b=y.split(`
`),j=x.split(`
`);for(f=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(o===b.length||f===j.length)for(o=b.length-1,f=j.length-1;1<=o&&0<=f&&b[o]!==j[f];)f--;for(;1<=o&&0<=f;o--,f--)if(b[o]!==j[f]){if(o!==1||f!==1)do if(o--,f--,0>f||b[o]!==j[f]){var Z=`
`+b[o].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=o&&0<=f);break}}}finally{cc=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ra(l):""}function wy(e){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return hc(e.type,!1);case 11:return hc(e.type.render,!1);case 1:return hc(e.type,!0);case 31:return ra("Activity");default:return""}}function ag(e){try{var i="";do i+=wy(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ay(e){var i=lg(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(y){o=""+y,g.call(this,y)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Ay(e))}function rg(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),o="";return e&&(o=lg(e)?e.checked?"true":"false":e.value),e=o,e!==l?(i.setValue(e),!0):!1}function $r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function mn(e){return e.replace(My,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fc(e,i,l,o,f,g,y,x){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+_n(i)):e.value!==""+_n(i)&&(e.value=""+_n(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?dc(e,y,_n(i)):l!=null?dc(e,y,_n(l)):o!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+_n(x):e.removeAttribute("name")}function og(e,i,l,o,f,g,y,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;l=l!=null?""+_n(l):"",i=i!=null?""+_n(i):l,x||i===e.value||(e.value=i),e.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=x?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function dc(e,i,l){i==="number"&&$r(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function oa(e,i,l,o){if(e=e.options,i){i={};for(var f=0;f<l.length;f++)i["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=i.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&o&&(e[l].defaultSelected=!0)}else{for(l=""+_n(l),i=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function ug(e,i,l){if(i!=null&&(i=""+_n(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+_n(l):""}function cg(e,i,l,o){if(i==null){if(o!=null){if(l!=null)throw Error(s(92));if(ct(o)){if(1<o.length)throw Error(s(93));o=o[0]}l=o}l==null&&(l=""),i=l}l=_n(i),e.defaultValue=l,o=e.textContent,o===l&&o!==""&&o!==null&&(e.value=o)}function ua(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var Oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hg(e,i,l){var o=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,l):typeof l!="number"||l===0||Oy.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function fg(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var o in l)!l.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&l[f]!==o&&hg(e,f,o)}else for(var g in i)i.hasOwnProperty(g)&&hg(e,g,i[g])}function gc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(e){return Ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _c=null;function mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ca=null,ha=null;function dg(e){var i=sa(e);if(i&&(e=i.stateNode)){var l=e[At]||null;t:switch(e=i.stateNode,i.type){case"input":if(fc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var o=l[i];if(o!==e&&o.form===e.form){var f=o[At]||null;if(!f)throw Error(s(90));fc(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<l.length;i++)o=l[i],o.form===e.form&&rg(o)}break t;case"textarea":ug(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&oa(e,!!l.multiple,i,!1)}}}var pc=!1;function gg(e,i,l){if(pc)return e(i,l);pc=!0;try{var o=e(i);return o}finally{if(pc=!1,(ca!==null||ha!==null)&&(Po(),ca&&(i=ca,e=ha,ha=ca=null,dg(i),e)))for(i=0;i<e.length;i++)dg(e[i])}}function xl(e,i){var l=e.stateNode;if(l===null)return null;var o=l[At]||null;if(o===null)return null;l=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=!1;if(si)try{var El={};Object.defineProperty(El,"passive",{get:function(){yc=!0}}),window.addEventListener("test",El,El),window.removeEventListener("test",El,El)}catch{yc=!1}var Ni=null,vc=null,eo=null;function _g(){if(eo)return eo;var e,i=vc,l=i.length,o,f="value"in Ni?Ni.value:Ni.textContent,g=f.length;for(e=0;e<l&&i[e]===f[e];e++);var y=l-e;for(o=1;o<=y&&i[l-o]===f[g-o];o++);return eo=f.slice(e,1<o?1-o:void 0)}function no(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function io(){return!0}function mg(){return!1}function He(e){function i(l,o,f,g,y){this._reactName=l,this._targetInst=f,this.type=o,this.nativeEvent=g,this.target=y,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?io:mg,this.isPropagationStopped=mg,this}return m(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),i}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=He(xs),Sl=m({},xs,{view:0,detail:0}),Ny=He(Sl),xc,Ec,Tl,ao=m({},Sl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tl&&(Tl&&e.type==="mousemove"?(xc=e.screenX-Tl.screenX,Ec=e.screenY-Tl.screenY):Ec=xc=0,Tl=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Ec}}),pg=He(ao),Iy=m({},ao,{dataTransfer:0}),zy=He(Iy),jy=m({},Sl,{relatedTarget:0}),Sc=He(jy),ky=m({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=He(ky),Uy=m({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Py=He(Uy),Fy=m({},xs,{data:0}),yg=He(Fy),Zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function By(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Xy[e])?!!i[e]:!1}function Tc(){return By}var Hy=m({},Sl,{key:function(e){if(e.key){var i=Zy[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=no(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Yy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tc,charCode:function(e){return e.type==="keypress"?no(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?no(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ky=He(Hy),qy=m({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vg=He(qy),Vy=m({},Sl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tc}),Wy=He(Vy),Qy=m({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jy=He(Qy),$y=m({},ao,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t2=He($y),e2=m({},xs,{newState:0,oldState:0}),n2=He(e2),i2=[9,13,27,32],Rc=si&&"CompositionEvent"in window,Rl=null;si&&"documentMode"in document&&(Rl=document.documentMode);var s2=si&&"TextEvent"in window&&!Rl,xg=si&&(!Rc||Rl&&8<Rl&&11>=Rl),Eg=" ",Sg=!1;function Tg(e,i){switch(e){case"keyup":return i2.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function a2(e,i){switch(e){case"compositionend":return Rg(i);case"keypress":return i.which!==32?null:(Sg=!0,Eg);case"textInput":return e=i.data,e===Eg&&Sg?null:e;default:return null}}function l2(e,i){if(fa)return e==="compositionend"||!Rc&&Tg(e,i)?(e=_g(),eo=vc=Ni=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xg&&i.locale!=="ko"?null:i.data;default:return null}}var r2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!r2[e.type]:i==="textarea"}function Cg(e,i,l,o){ca?ha?ha.push(o):ha=[o]:ca=o,i=Ho(i,"onChange"),0<i.length&&(l=new so("onChange","change",null,l,o),e.push({event:l,listeners:i}))}var bl=null,Cl=null;function o2(e){lm(e,0)}function lo(e){var i=vl(e);if(rg(i))return e}function wg(e,i){if(e==="change")return i}var Ag=!1;if(si){var bc;if(si){var Cc="oninput"in document;if(!Cc){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),Cc=typeof Mg.oninput=="function"}bc=Cc}else bc=!1;Ag=bc&&(!document.documentMode||9<document.documentMode)}function Og(){bl&&(bl.detachEvent("onpropertychange",Dg),Cl=bl=null)}function Dg(e){if(e.propertyName==="value"&&lo(Cl)){var i=[];Cg(i,Cl,e,mc(e)),gg(o2,i)}}function u2(e,i,l){e==="focusin"?(Og(),bl=i,Cl=l,bl.attachEvent("onpropertychange",Dg)):e==="focusout"&&Og()}function c2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lo(Cl)}function h2(e,i){if(e==="click")return lo(i)}function f2(e,i){if(e==="input"||e==="change")return lo(i)}function d2(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var ln=typeof Object.is=="function"?Object.is:d2;function wl(e,i){if(ln(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),o=Object.keys(i);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var f=l[o];if(!xt.call(i,f)||!ln(e[f],i[f]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,i){var l=Lg(e);e=0;for(var o;l;){if(l.nodeType===3){if(o=e+l.textContent.length,e<=i&&o>=i)return{node:l,offset:i-e};e=o}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Lg(l)}}function Ig(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ig(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function zg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=$r(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=$r(e.document)}return i}function wc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var g2=si&&"documentMode"in document&&11>=document.documentMode,da=null,Ac=null,Al=null,Mc=!1;function jg(e,i,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Mc||da==null||da!==$r(o)||(o=da,"selectionStart"in o&&wc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Al&&wl(Al,o)||(Al=o,o=Ho(Ac,"onSelect"),0<o.length&&(i=new so("onSelect","select",null,i,l),e.push({event:i,listeners:o}),i.target=da)))}function Es(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var ga={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},Oc={},kg={};si&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ss(e){if(Oc[e])return Oc[e];if(!ga[e])return e;var i=ga[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in kg)return Oc[e]=i[l];return e}var Gg=Ss("animationend"),Ug=Ss("animationiteration"),Pg=Ss("animationstart"),_2=Ss("transitionrun"),m2=Ss("transitionstart"),p2=Ss("transitioncancel"),Fg=Ss("transitionend"),Zg=new Map,Dc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dc.push("scrollEnd");function Nn(e,i){Zg.set(e,i),vs(i,[e])}var Yg=new WeakMap;function pn(e,i){if(typeof e=="object"&&e!==null){var l=Yg.get(e);return l!==void 0?l:(i={value:e,source:i,stack:ag(i)},Yg.set(e,i),i)}return{value:e,source:i,stack:ag(i)}}var yn=[],_a=0,Lc=0;function ro(){for(var e=_a,i=Lc=_a=0;i<e;){var l=yn[i];yn[i++]=null;var o=yn[i];yn[i++]=null;var f=yn[i];yn[i++]=null;var g=yn[i];if(yn[i++]=null,o!==null&&f!==null){var y=o.pending;y===null?f.next=f:(f.next=y.next,y.next=f),o.pending=f}g!==0&&Xg(l,f,g)}}function oo(e,i,l,o){yn[_a++]=e,yn[_a++]=i,yn[_a++]=l,yn[_a++]=o,Lc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nc(e,i,l,o){return oo(e,i,l,o),uo(e)}function ma(e,i){return oo(e,null,null,i),uo(e)}function Xg(e,i,l){e.lanes|=l;var o=e.alternate;o!==null&&(o.lanes|=l);for(var f=!1,g=e.return;g!==null;)g.childLanes|=l,o=g.alternate,o!==null&&(o.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&i!==null&&(f=31-Ne(l),e=g.hiddenUpdates,o=e[f],o===null?e[f]=[i]:o.push(i),i.lane=l|536870912),g):null}function uo(e){if(50<$l)throw $l=0,Uh=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var pa={};function y2(e,i,l,o){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rn(e,i,l,o){return new y2(e,i,l,o)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,i){var l=e.alternate;return l===null?(l=rn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Bg(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function co(e,i,l,o,f,g){var y=0;if(o=e,typeof e=="function")Ic(e)&&(y=1);else if(typeof e=="string")y=xv(e,l,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=rn(31,l,i,f),e.elementType=Q,e.lanes=g,e;case T:return Ts(l.children,f,g,i);case w:y=8,f|=24;break;case C:return e=rn(12,l,i,f|2),e.elementType=C,e.lanes=g,e;case O:return e=rn(13,l,i,f),e.elementType=O,e.lanes=g,e;case H:return e=rn(19,l,i,f),e.elementType=H,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case P:y=10;break t;case N:y=9;break t;case L:y=11;break t;case V:y=14;break t;case K:y=16,o=null;break t}y=29,l=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=rn(y,l,i,f),i.elementType=e,i.type=o,i.lanes=g,i}function Ts(e,i,l,o){return e=rn(7,e,o,i),e.lanes=l,e}function zc(e,i,l){return e=rn(6,e,null,i),e.lanes=l,e}function jc(e,i,l){return i=rn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ya=[],va=0,ho=null,fo=0,vn=[],xn=0,Rs=null,li=1,ri="";function bs(e,i){ya[va++]=fo,ya[va++]=ho,ho=e,fo=i}function Hg(e,i,l){vn[xn++]=li,vn[xn++]=ri,vn[xn++]=Rs,Rs=e;var o=li;e=ri;var f=32-Ne(o)-1;o&=~(1<<f),l+=1;var g=32-Ne(i)+f;if(30<g){var y=f-f%5;g=(o&(1<<y)-1).toString(32),o>>=y,f-=y,li=1<<32-Ne(i)+f|l<<f|o,ri=g+e}else li=1<<g|l<<f|o,ri=e}function kc(e){e.return!==null&&(bs(e,1),Hg(e,1,0))}function Gc(e){for(;e===ho;)ho=ya[--va],ya[va]=null,fo=ya[--va],ya[va]=null;for(;e===Rs;)Rs=vn[--xn],vn[xn]=null,ri=vn[--xn],vn[xn]=null,li=vn[--xn],vn[xn]=null}var Fe=null,re=null,Ft=!1,Cs=null,Hn=!1,Uc=Error(s(519));function ws(e){var i=Error(s(418,""));throw Dl(pn(i,e)),Uc}function Kg(e){var i=e.stateNode,l=e.type,o=e.memoizedProps;switch(i[te]=e,i[At]=o,l){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(l=0;l<er.length;l++)Ot(er[l],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),og(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Jr(i);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),cg(i,o.value,o.defaultValue,o.children),Jr(i)}l=o.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||o.suppressHydrationWarning===!0||cm(i.textContent,l)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=Ko),i=!0):i=!1,i||ws(e)}function qg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Fe=Fe.return}}function Ml(e){if(e!==Fe)return!1;if(!Ft)return qg(e),Ft=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||ef(e.type,e.memoizedProps)),l=!l),l&&re&&ws(e),qg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){re=zn(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}re=null}}else i===27?(i=re,Vi(e.type)?(e=lf,lf=null,re=e):re=i):re=Fe?zn(e.stateNode.nextSibling):null;return!0}function Ol(){re=Fe=null,Ft=!1}function Vg(){var e=Cs;return e!==null&&(Ve===null?Ve=e:Ve.push.apply(Ve,e),Cs=null),e}function Dl(e){Cs===null?Cs=[e]:Cs.push(e)}var Pc=F(null),As=null,oi=null;function Ii(e,i,l){J(Pc,i._currentValue),i._currentValue=l}function ui(e){e._currentValue=Pc.current,k(Pc)}function Fc(e,i,l){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===l)break;e=e.return}}function Zc(e,i,l,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var y=f.child;g=g.firstContext;t:for(;g!==null;){var x=g;g=f;for(var b=0;b<i.length;b++)if(x.context===i[b]){g.lanes|=l,x=g.alternate,x!==null&&(x.lanes|=l),Fc(g.return,l,e),o||(y=null);break t}g=x.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=l,g=y.alternate,g!==null&&(g.lanes|=l),Fc(y,l,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ll(e,i,l,o){e=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var x=f.type;ln(f.pendingProps.value,y.value)||(e!==null?e.push(x):e=[x])}}else if(f===zt.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(rr):e=[rr])}f=f.return}e!==null&&Zc(i,e,l,o),i.flags|=262144}function go(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ms(e){As=e,oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ze(e){return Wg(As,e)}function _o(e,i){return As===null&&Ms(e),Wg(e,i)}function Wg(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},oi===null){if(e===null)throw Error(s(308));oi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else oi=oi.next=i;return l}var v2=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},x2=a.unstable_scheduleCallback,E2=a.unstable_NormalPriority,me={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new v2,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&x2(E2,function(){e.controller.abort()})}var Il=null,Xc=0,xa=0,Ea=null;function S2(e,i){if(Il===null){var l=Il=[];Xc=0,xa=Hh(),Ea={status:"pending",value:void 0,then:function(o){l.push(o)}}}return Xc++,i.then(Qg,Qg),i}function Qg(){if(--Xc===0&&Il!==null){Ea!==null&&(Ea.status="fulfilled");var e=Il;Il=null,xa=0,Ea=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function T2(e,i){var l=[],o={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<l.length;f++)(0,l[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),o}var Jg=I.S;I.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&S2(e,i),Jg!==null&&Jg(e,i)};var Os=F(null);function Bc(){var e=Os.current;return e!==null?e:ee.pooledCache}function mo(e,i){i===null?J(Os,Os.current):J(Os,i.pool)}function $g(){var e=Bc();return e===null?null:{parent:me._currentValue,pool:e}}var zl=Error(s(460)),t0=Error(s(474)),po=Error(s(542)),Hc={then:function(){}};function e0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yo(){}function n0(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(yo,yo),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,s0(e),e;default:if(typeof i.status=="string")i.then(yo,yo);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,s0(e),e}throw jl=i,zl}}var jl=null;function i0(){if(jl===null)throw Error(s(459));var e=jl;return jl=null,e}function s0(e){if(e===zl||e===po)throw Error(s(483))}var zi=!1;function Kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ki(e,i,l){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=uo(e),Xg(e,null,l),i}return oo(e,o,i,l),uo(e)}function kl(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,Pe(e,l)}}function Vc(e,i){var l=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var y={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=y:g=g.next=y,l=l.next}while(l!==null);g===null?f=g=i:g=g.next=i}else f=g=i;l={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:o.shared,callbacks:o.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var Wc=!1;function Gl(){if(Wc){var e=Ea;if(e!==null)throw e}}function Ul(e,i,l,o){Wc=!1;var f=e.updateQueue;zi=!1;var g=f.firstBaseUpdate,y=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var b=x,j=b.next;b.next=null,y===null?g=j:y.next=j,y=b;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,x=Z.lastBaseUpdate,x!==y&&(x===null?Z.firstBaseUpdate=j:x.next=j,Z.lastBaseUpdate=b))}if(g!==null){var q=f.baseState;y=0,Z=j=b=null,x=g;do{var G=x.lane&-536870913,U=G!==x.lane;if(U?(It&G)===G:(o&G)===G){G!==0&&G===xa&&(Wc=!0),Z!==null&&(Z=Z.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var yt=e,mt=x;G=i;var Qt=l;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){q=yt.call(Qt,q,G);break t}q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,G=typeof yt=="function"?yt.call(Qt,q,G):yt,G==null)break t;q=m({},q,G);break t;case 2:zi=!0}}G=x.callback,G!==null&&(e.flags|=64,U&&(e.flags|=8192),U=f.callbacks,U===null?f.callbacks=[G]:U.push(G))}else U={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Z===null?(j=Z=U,b=q):Z=Z.next=U,y|=G;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;U=x,x=U.next,U.next=null,f.lastBaseUpdate=U,f.shared.pending=null}}while(!0);Z===null&&(b=q),f.baseState=b,f.firstBaseUpdate=j,f.lastBaseUpdate=Z,g===null&&(f.shared.lanes=0),Bi|=y,e.lanes=y,e.memoizedState=q}}function a0(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function l0(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)a0(l[e],i)}var Sa=F(null),vo=F(0);function r0(e,i){e=mi,J(vo,e),J(Sa,i),mi=e|i.baseLanes}function Qc(){J(vo,mi),J(Sa,Sa.current)}function Jc(){mi=vo.current,k(Sa),k(vo)}var Gi=0,bt=null,Vt=null,ge=null,xo=!1,Ta=!1,Ds=!1,Eo=0,Pl=0,Ra=null,R2=0;function fe(){throw Error(s(321))}function $c(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!ln(e[l],i[l]))return!1;return!0}function th(e,i,l,o,f,g){return Gi=g,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,I.H=e===null||e.memoizedState===null?X0:B0,Ds=!1,g=l(o,f),Ds=!1,Ta&&(g=u0(i,l,o,f)),o0(e),g}function o0(e){I.H=wo;var i=Vt!==null&&Vt.next!==null;if(Gi=0,ge=Vt=bt=null,xo=!1,Pl=0,Ra=null,i)throw Error(s(300));e===null||Re||(e=e.dependencies,e!==null&&go(e)&&(Re=!0))}function u0(e,i,l,o){bt=e;var f=0;do{if(Ta&&(Ra=null),Pl=0,Ta=!1,25<=f)throw Error(s(301));if(f+=1,ge=Vt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}I.H=D2,g=i(l,o)}while(Ta);return g}function b2(){var e=I.H,i=e.useState()[0];return i=typeof i.then=="function"?Fl(i):i,e=e.useState()[0],(Vt!==null?Vt.memoizedState:null)!==e&&(bt.flags|=1024),i}function eh(){var e=Eo!==0;return Eo=0,e}function nh(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function ih(e){if(xo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}xo=!1}Gi=0,ge=Vt=bt=null,Ta=!1,Pl=Eo=0,Ra=null}function Ke(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function _e(){if(Vt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Vt.next;var i=ge===null?bt.memoizedState:ge.next;if(i!==null)ge=i,Vt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Vt=e,e={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(e){var i=Pl;return Pl+=1,Ra===null&&(Ra=[]),e=n0(Ra,e,i),i=bt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,I.H=i===null||i.memoizedState===null?X0:B0),e}function So(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fl(e);if(e.$$typeof===P)return ze(e)}throw Error(s(438,String(e)))}function ah(e){var i=null,l=bt.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=sh(),bt.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),o=0;o<e;o++)l[o]=$;return i.index++,l}function ci(e,i){return typeof i=="function"?i(e):i}function To(e){var i=_e();return lh(i,Vt,e)}function lh(e,i,l){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=l;var f=e.baseQueue,g=o.pending;if(g!==null){if(f!==null){var y=f.next;f.next=g.next,g.next=y}i.baseQueue=f=g,o.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{i=f.next;var x=y=null,b=null,j=i,Z=!1;do{var q=j.lane&-536870913;if(q!==j.lane?(It&q)===q:(Gi&q)===q){var G=j.revertLane;if(G===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),q===xa&&(Z=!0);else if((Gi&G)===G){j=j.next,G===xa&&(Z=!0);continue}else q={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(x=b=q,y=g):b=b.next=q,bt.lanes|=G,Bi|=G;q=j.action,Ds&&l(g,q),g=j.hasEagerState?j.eagerState:l(g,q)}else G={lane:q,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},b===null?(x=b=G,y=g):b=b.next=G,bt.lanes|=q,Bi|=q;j=j.next}while(j!==null&&j!==i);if(b===null?y=g:b.next=x,!ln(g,e.memoizedState)&&(Re=!0,Z&&(l=Ea,l!==null)))throw l;e.memoizedState=g,e.baseState=y,e.baseQueue=b,o.lastRenderedState=g}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function rh(e){var i=_e(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var o=l.dispatch,f=l.pending,g=i.memoizedState;if(f!==null){l.pending=null;var y=f=f.next;do g=e(g,y.action),y=y.next;while(y!==f);ln(g,i.memoizedState)||(Re=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,o]}function c0(e,i,l){var o=bt,f=_e(),g=Ft;if(g){if(l===void 0)throw Error(s(407));l=l()}else l=i();var y=!ln((Vt||f).memoizedState,l);y&&(f.memoizedState=l,Re=!0),f=f.queue;var x=d0.bind(null,o,f,e);if(Zl(2048,8,x,[e]),f.getSnapshot!==i||y||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ba(9,Ro(),f0.bind(null,o,f,l,i),null),ee===null)throw Error(s(349));g||(Gi&124)!==0||h0(o,i,l)}return l}function h0(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=bt.updateQueue,i===null?(i=sh(),bt.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function f0(e,i,l,o){i.value=l,i.getSnapshot=o,g0(i)&&_0(e)}function d0(e,i,l){return l(function(){g0(i)&&_0(e)})}function g0(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!ln(e,l)}catch{return!0}}function _0(e){var i=ma(e,2);i!==null&&fn(i,e,2)}function oh(e){var i=Ke();if(typeof e=="function"){var l=e;if(e=l(),Ds){Xn(!0);try{l()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:e},i}function m0(e,i,l,o){return e.baseState=l,lh(e,Vt,typeof o=="function"?o:ci)}function C2(e,i,l,o,f){if(Co(e))throw Error(s(485));if(e=i.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){g.listeners.push(y)}};I.T!==null?l(!0):g.isTransition=!1,o(g),l=i.pending,l===null?(g.next=i.pending=g,p0(i,g)):(g.next=l.next,i.pending=l.next=g)}}function p0(e,i){var l=i.action,o=i.payload,f=e.state;if(i.isTransition){var g=I.T,y={};I.T=y;try{var x=l(f,o),b=I.S;b!==null&&b(y,x),y0(e,i,x)}catch(j){uh(e,i,j)}finally{I.T=g}}else try{g=l(f,o),y0(e,i,g)}catch(j){uh(e,i,j)}}function y0(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(o){v0(e,i,o)},function(o){return uh(e,i,o)}):v0(e,i,l)}function v0(e,i,l){i.status="fulfilled",i.value=l,x0(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,p0(e,l)))}function uh(e,i,l){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=l,x0(i),i=i.next;while(i!==o)}e.action=null}function x0(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function E0(e,i){return i}function S0(e,i){if(Ft){var l=ee.formState;if(l!==null){t:{var o=bt;if(Ft){if(re){e:{for(var f=re,g=Hn;f.nodeType!==8;){if(!g){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){re=zn(f.nextSibling),o=f.data==="F!";break t}}ws(o)}o=!1}o&&(i=l[0])}}return l=Ke(),l.memoizedState=l.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:E0,lastRenderedState:i},l.queue=o,l=F0.bind(null,bt,o),o.dispatch=l,o=oh(!1),g=gh.bind(null,bt,!1,o.queue),o=Ke(),f={state:i,dispatch:null,action:e,pending:null},o.queue=f,l=C2.bind(null,bt,f,g,l),f.dispatch=l,o.memoizedState=e,[i,l,!1]}function T0(e){var i=_e();return R0(i,Vt,e)}function R0(e,i,l){if(i=lh(e,i,E0)[0],e=To(ci)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Fl(i)}catch(y){throw y===zl?po:y}else o=i;i=_e();var f=i.queue,g=f.dispatch;return l!==i.memoizedState&&(bt.flags|=2048,ba(9,Ro(),w2.bind(null,f,l),null)),[o,g,e]}function w2(e,i){e.action=i}function b0(e){var i=_e(),l=Vt;if(l!==null)return R0(i,l,e);_e(),i=i.memoizedState,l=_e();var o=l.queue.dispatch;return l.memoizedState=e,[i,o,!1]}function ba(e,i,l,o){return e={tag:e,create:l,deps:o,inst:i,next:null},i=bt.updateQueue,i===null&&(i=sh(),bt.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(o=l.next,l.next=e,e.next=o,i.lastEffect=e),e}function Ro(){return{destroy:void 0,resource:void 0}}function C0(){return _e().memoizedState}function bo(e,i,l,o){var f=Ke();o=o===void 0?null:o,bt.flags|=e,f.memoizedState=ba(1|i,Ro(),l,o)}function Zl(e,i,l,o){var f=_e();o=o===void 0?null:o;var g=f.memoizedState.inst;Vt!==null&&o!==null&&$c(o,Vt.memoizedState.deps)?f.memoizedState=ba(i,g,l,o):(bt.flags|=e,f.memoizedState=ba(1|i,g,l,o))}function w0(e,i){bo(8390656,8,e,i)}function A0(e,i){Zl(2048,8,e,i)}function M0(e,i){return Zl(4,2,e,i)}function O0(e,i){return Zl(4,4,e,i)}function D0(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function L0(e,i,l){l=l!=null?l.concat([e]):null,Zl(4,4,D0.bind(null,i,e),l)}function ch(){}function N0(e,i){var l=_e();i=i===void 0?null:i;var o=l.memoizedState;return i!==null&&$c(i,o[1])?o[0]:(l.memoizedState=[e,i],e)}function I0(e,i){var l=_e();i=i===void 0?null:i;var o=l.memoizedState;if(i!==null&&$c(i,o[1]))return o[0];if(o=e(),Ds){Xn(!0);try{e()}finally{Xn(!1)}}return l.memoizedState=[o,i],o}function hh(e,i,l){return l===void 0||(Gi&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=k_(),bt.lanes|=e,Bi|=e,l)}function z0(e,i,l,o){return ln(l,i)?l:Sa.current!==null?(e=hh(e,l,o),ln(e,i)||(Re=!0),e):(Gi&42)===0?(Re=!0,e.memoizedState=l):(e=k_(),bt.lanes|=e,Bi|=e,i)}function j0(e,i,l,o,f){var g=X.p;X.p=g!==0&&8>g?g:8;var y=I.T,x={};I.T=x,gh(e,!1,i,l);try{var b=f(),j=I.S;if(j!==null&&j(x,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var Z=T2(b,o);Yl(e,i,Z,hn(e))}else Yl(e,i,o,hn(e))}catch(q){Yl(e,i,{then:function(){},status:"rejected",reason:q},hn())}finally{X.p=g,I.T=y}}function A2(){}function fh(e,i,l,o){if(e.tag!==5)throw Error(s(476));var f=k0(e).queue;j0(e,f,i,W,l===null?A2:function(){return G0(e),l(o)})}function k0(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:W},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function G0(e){var i=k0(e).next.queue;Yl(e,i,{},hn())}function dh(){return ze(rr)}function U0(){return _e().memoizedState}function P0(){return _e().memoizedState}function M2(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=hn();e=ji(l);var o=ki(i,e,l);o!==null&&(fn(o,i,l),kl(o,i,l)),i={cache:Yc()},e.payload=i;return}i=i.return}}function O2(e,i,l){var o=hn();l={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Co(e)?Z0(i,l):(l=Nc(e,i,l,o),l!==null&&(fn(l,e,o),Y0(l,i,o)))}function F0(e,i,l){var o=hn();Yl(e,i,l,o)}function Yl(e,i,l,o){var f={lane:o,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Co(e))Z0(i,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var y=i.lastRenderedState,x=g(y,l);if(f.hasEagerState=!0,f.eagerState=x,ln(x,y))return oo(e,i,f,0),ee===null&&ro(),!1}catch{}finally{}if(l=Nc(e,i,f,o),l!==null)return fn(l,e,o),Y0(l,i,o),!0}return!1}function gh(e,i,l,o){if(o={lane:2,revertLane:Hh(),action:o,hasEagerState:!1,eagerState:null,next:null},Co(e)){if(i)throw Error(s(479))}else i=Nc(e,l,o,2),i!==null&&fn(i,e,2)}function Co(e){var i=e.alternate;return e===bt||i!==null&&i===bt}function Z0(e,i){Ta=xo=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function Y0(e,i,l){if((l&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,l|=o,i.lanes=l,Pe(e,l)}}var wo={readContext:ze,use:So,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},X0={readContext:ze,use:So,useCallback:function(e,i){return Ke().memoizedState=[e,i===void 0?null:i],e},useContext:ze,useEffect:w0,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,bo(4194308,4,D0.bind(null,i,e),l)},useLayoutEffect:function(e,i){return bo(4194308,4,e,i)},useInsertionEffect:function(e,i){bo(4,2,e,i)},useMemo:function(e,i){var l=Ke();i=i===void 0?null:i;var o=e();if(Ds){Xn(!0);try{e()}finally{Xn(!1)}}return l.memoizedState=[o,i],o},useReducer:function(e,i,l){var o=Ke();if(l!==void 0){var f=l(i);if(Ds){Xn(!0);try{l(i)}finally{Xn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=O2.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var i=Ke();return e={current:e},i.memoizedState=e},useState:function(e){e=oh(e);var i=e.queue,l=F0.bind(null,bt,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:ch,useDeferredValue:function(e,i){var l=Ke();return hh(l,e,i)},useTransition:function(){var e=oh(!1);return e=j0.bind(null,bt,e.queue,!0,!1),Ke().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var o=bt,f=Ke();if(Ft){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),ee===null)throw Error(s(349));(It&124)!==0||h0(o,i,l)}f.memoizedState=l;var g={value:l,getSnapshot:i};return f.queue=g,w0(d0.bind(null,o,g,e),[e]),o.flags|=2048,ba(9,Ro(),f0.bind(null,o,g,l,i),null),l},useId:function(){var e=Ke(),i=ee.identifierPrefix;if(Ft){var l=ri,o=li;l=(o&~(1<<32-Ne(o)-1)).toString(32)+l,i="«"+i+"R"+l,l=Eo++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=R2++,i="«"+i+"r"+l.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:dh,useFormState:S0,useActionState:S0,useOptimistic:function(e){var i=Ke();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=gh.bind(null,bt,!0,l),l.dispatch=i,[e,i]},useMemoCache:ah,useCacheRefresh:function(){return Ke().memoizedState=M2.bind(null,bt)}},B0={readContext:ze,use:So,useCallback:N0,useContext:ze,useEffect:A0,useImperativeHandle:L0,useInsertionEffect:M0,useLayoutEffect:O0,useMemo:I0,useReducer:To,useRef:C0,useState:function(){return To(ci)},useDebugValue:ch,useDeferredValue:function(e,i){var l=_e();return z0(l,Vt.memoizedState,e,i)},useTransition:function(){var e=To(ci)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Fl(e),i]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:dh,useFormState:T0,useActionState:T0,useOptimistic:function(e,i){var l=_e();return m0(l,Vt,e,i)},useMemoCache:ah,useCacheRefresh:P0},D2={readContext:ze,use:So,useCallback:N0,useContext:ze,useEffect:A0,useImperativeHandle:L0,useInsertionEffect:M0,useLayoutEffect:O0,useMemo:I0,useReducer:rh,useRef:C0,useState:function(){return rh(ci)},useDebugValue:ch,useDeferredValue:function(e,i){var l=_e();return Vt===null?hh(l,e,i):z0(l,Vt.memoizedState,e,i)},useTransition:function(){var e=rh(ci)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Fl(e),i]},useSyncExternalStore:c0,useId:U0,useHostTransitionStatus:dh,useFormState:b0,useActionState:b0,useOptimistic:function(e,i){var l=_e();return Vt!==null?m0(l,Vt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ah,useCacheRefresh:P0},Ca=null,Xl=0;function Ao(e){var i=Xl;return Xl+=1,Ca===null&&(Ca=[]),n0(Ca,e,i)}function Bl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Mo(e,i){throw i.$$typeof===p?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function H0(e){var i=e._init;return i(e._payload)}function K0(e){function i(D,A){if(e){var z=D.deletions;z===null?(D.deletions=[A],D.flags|=16):z.push(A)}}function l(D,A){if(!e)return null;for(;A!==null;)i(D,A),A=A.sibling;return null}function o(D){for(var A=new Map;D!==null;)D.key!==null?A.set(D.key,D):A.set(D.index,D),D=D.sibling;return A}function f(D,A){return D=ai(D,A),D.index=0,D.sibling=null,D}function g(D,A,z){return D.index=z,e?(z=D.alternate,z!==null?(z=z.index,z<A?(D.flags|=67108866,A):z):(D.flags|=67108866,A)):(D.flags|=1048576,A)}function y(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function x(D,A,z,B){return A===null||A.tag!==6?(A=zc(z,D.mode,B),A.return=D,A):(A=f(A,z),A.return=D,A)}function b(D,A,z,B){var at=z.type;return at===T?Z(D,A,z.props.children,B,z.key):A!==null&&(A.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===K&&H0(at)===A.type)?(A=f(A,z.props),Bl(A,z),A.return=D,A):(A=co(z.type,z.key,z.props,null,D.mode,B),Bl(A,z),A.return=D,A)}function j(D,A,z,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=jc(z,D.mode,B),A.return=D,A):(A=f(A,z.children||[]),A.return=D,A)}function Z(D,A,z,B,at){return A===null||A.tag!==7?(A=Ts(z,D.mode,B,at),A.return=D,A):(A=f(A,z),A.return=D,A)}function q(D,A,z){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=zc(""+A,D.mode,z),A.return=D,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case v:return z=co(A.type,A.key,A.props,null,D.mode,z),Bl(z,A),z.return=D,z;case E:return A=jc(A,D.mode,z),A.return=D,A;case K:var B=A._init;return A=B(A._payload),q(D,A,z)}if(ct(A)||tt(A))return A=Ts(A,D.mode,z,null),A.return=D,A;if(typeof A.then=="function")return q(D,Ao(A),z);if(A.$$typeof===P)return q(D,_o(D,A),z);Mo(D,A)}return null}function G(D,A,z,B){var at=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:x(D,A,""+z,B);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return z.key===at?b(D,A,z,B):null;case E:return z.key===at?j(D,A,z,B):null;case K:return at=z._init,z=at(z._payload),G(D,A,z,B)}if(ct(z)||tt(z))return at!==null?null:Z(D,A,z,B,null);if(typeof z.then=="function")return G(D,A,Ao(z),B);if(z.$$typeof===P)return G(D,A,_o(D,z),B);Mo(D,z)}return null}function U(D,A,z,B,at){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return D=D.get(z)||null,x(A,D,""+B,at);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case v:return D=D.get(B.key===null?z:B.key)||null,b(A,D,B,at);case E:return D=D.get(B.key===null?z:B.key)||null,j(A,D,B,at);case K:var Ct=B._init;return B=Ct(B._payload),U(D,A,z,B,at)}if(ct(B)||tt(B))return D=D.get(z)||null,Z(A,D,B,at,null);if(typeof B.then=="function")return U(D,A,z,Ao(B),at);if(B.$$typeof===P)return U(D,A,z,_o(A,B),at);Mo(A,B)}return null}function yt(D,A,z,B){for(var at=null,Ct=null,ht=A,pt=A=0,Ce=null;ht!==null&&pt<z.length;pt++){ht.index>pt?(Ce=ht,ht=null):Ce=ht.sibling;var Gt=G(D,ht,z[pt],B);if(Gt===null){ht===null&&(ht=Ce);break}e&&ht&&Gt.alternate===null&&i(D,ht),A=g(Gt,A,pt),Ct===null?at=Gt:Ct.sibling=Gt,Ct=Gt,ht=Ce}if(pt===z.length)return l(D,ht),Ft&&bs(D,pt),at;if(ht===null){for(;pt<z.length;pt++)ht=q(D,z[pt],B),ht!==null&&(A=g(ht,A,pt),Ct===null?at=ht:Ct.sibling=ht,Ct=ht);return Ft&&bs(D,pt),at}for(ht=o(ht);pt<z.length;pt++)Ce=U(ht,D,pt,z[pt],B),Ce!==null&&(e&&Ce.alternate!==null&&ht.delete(Ce.key===null?pt:Ce.key),A=g(Ce,A,pt),Ct===null?at=Ce:Ct.sibling=Ce,Ct=Ce);return e&&ht.forEach(function(ts){return i(D,ts)}),Ft&&bs(D,pt),at}function mt(D,A,z,B){if(z==null)throw Error(s(151));for(var at=null,Ct=null,ht=A,pt=A=0,Ce=null,Gt=z.next();ht!==null&&!Gt.done;pt++,Gt=z.next()){ht.index>pt?(Ce=ht,ht=null):Ce=ht.sibling;var ts=G(D,ht,Gt.value,B);if(ts===null){ht===null&&(ht=Ce);break}e&&ht&&ts.alternate===null&&i(D,ht),A=g(ts,A,pt),Ct===null?at=ts:Ct.sibling=ts,Ct=ts,ht=Ce}if(Gt.done)return l(D,ht),Ft&&bs(D,pt),at;if(ht===null){for(;!Gt.done;pt++,Gt=z.next())Gt=q(D,Gt.value,B),Gt!==null&&(A=g(Gt,A,pt),Ct===null?at=Gt:Ct.sibling=Gt,Ct=Gt);return Ft&&bs(D,pt),at}for(ht=o(ht);!Gt.done;pt++,Gt=z.next())Gt=U(ht,D,pt,Gt.value,B),Gt!==null&&(e&&Gt.alternate!==null&&ht.delete(Gt.key===null?pt:Gt.key),A=g(Gt,A,pt),Ct===null?at=Gt:Ct.sibling=Gt,Ct=Gt);return e&&ht.forEach(function(Lv){return i(D,Lv)}),Ft&&bs(D,pt),at}function Qt(D,A,z,B){if(typeof z=="object"&&z!==null&&z.type===T&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case v:t:{for(var at=z.key;A!==null;){if(A.key===at){if(at=z.type,at===T){if(A.tag===7){l(D,A.sibling),B=f(A,z.props.children),B.return=D,D=B;break t}}else if(A.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===K&&H0(at)===A.type){l(D,A.sibling),B=f(A,z.props),Bl(B,z),B.return=D,D=B;break t}l(D,A);break}else i(D,A);A=A.sibling}z.type===T?(B=Ts(z.props.children,D.mode,B,z.key),B.return=D,D=B):(B=co(z.type,z.key,z.props,null,D.mode,B),Bl(B,z),B.return=D,D=B)}return y(D);case E:t:{for(at=z.key;A!==null;){if(A.key===at)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){l(D,A.sibling),B=f(A,z.children||[]),B.return=D,D=B;break t}else{l(D,A);break}else i(D,A);A=A.sibling}B=jc(z,D.mode,B),B.return=D,D=B}return y(D);case K:return at=z._init,z=at(z._payload),Qt(D,A,z,B)}if(ct(z))return yt(D,A,z,B);if(tt(z)){if(at=tt(z),typeof at!="function")throw Error(s(150));return z=at.call(z),mt(D,A,z,B)}if(typeof z.then=="function")return Qt(D,A,Ao(z),B);if(z.$$typeof===P)return Qt(D,A,_o(D,z),B);Mo(D,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,A!==null&&A.tag===6?(l(D,A.sibling),B=f(A,z),B.return=D,D=B):(l(D,A),B=zc(z,D.mode,B),B.return=D,D=B),y(D)):l(D,A)}return function(D,A,z,B){try{Xl=0;var at=Qt(D,A,z,B);return Ca=null,at}catch(ht){if(ht===zl||ht===po)throw ht;var Ct=rn(29,ht,null,D.mode);return Ct.lanes=B,Ct.return=D,Ct}finally{}}}var wa=K0(!0),q0=K0(!1),En=F(null),Kn=null;function Ui(e){var i=e.alternate;J(pe,pe.current&1),J(En,e),Kn===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(Kn=e)}function V0(e){if(e.tag===22){if(J(pe,pe.current),J(En,e),Kn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Kn=e)}}else Pi()}function Pi(){J(pe,pe.current),J(En,En.current)}function hi(e){k(En),Kn===e&&(Kn=null),k(pe)}var pe=F(0);function Oo(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||af(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function _h(e,i,l,o){i=e.memoizedState,l=l(o,i),l=l==null?i:m({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var mh={enqueueSetState:function(e,i,l){e=e._reactInternals;var o=hn(),f=ji(o);f.payload=i,l!=null&&(f.callback=l),i=ki(e,f,o),i!==null&&(fn(i,e,o),kl(i,e,o))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var o=hn(),f=ji(o);f.tag=1,f.payload=i,l!=null&&(f.callback=l),i=ki(e,f,o),i!==null&&(fn(i,e,o),kl(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=hn(),o=ji(l);o.tag=2,i!=null&&(o.callback=i),i=ki(e,o,l),i!==null&&(fn(i,e,l),kl(i,e,l))}};function W0(e,i,l,o,f,g,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,g,y):i.prototype&&i.prototype.isPureReactComponent?!wl(l,o)||!wl(f,g):!0}function Q0(e,i,l,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,o),i.state!==e&&mh.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var l=i;if("ref"in i){l={};for(var o in i)o!=="ref"&&(l[o]=i[o])}if(e=e.defaultProps){l===i&&(l=m({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}var Do=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function J0(e){Do(e)}function $0(e){console.error(e)}function t_(e){Do(e)}function Lo(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function e_(e,i,l){try{var o=e.onCaughtError;o(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function ph(e,i,l){return l=ji(l),l.tag=3,l.payload={element:null},l.callback=function(){Lo(e,i)},l}function n_(e){return e=ji(e),e.tag=3,e}function i_(e,i,l,o){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=o.value;e.payload=function(){return f(g)},e.callback=function(){e_(i,l,o)}}var y=l.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){e_(i,l,o),typeof f!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function L2(e,i,l,o,f){if(l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=l.alternate,i!==null&&Ll(i,l,f,!0),l=En.current,l!==null){switch(l.tag){case 13:return Kn===null?Fh():l.alternate===null&&oe===0&&(oe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,o===Hc?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([o]):i.add(o),Yh(e,o,f)),!1;case 22:return l.flags|=65536,o===Hc?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([o]):l.add(o)),Yh(e,o,f)),!1}throw Error(s(435,l.tag))}return Yh(e,o,f),Fh(),!1}if(Ft)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Uc&&(e=Error(s(422),{cause:o}),Dl(pn(e,l)))):(o!==Uc&&(i=Error(s(423),{cause:o}),Dl(pn(i,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=pn(o,l),f=ph(e.stateNode,o,f),Vc(e,f),oe!==4&&(oe=2)),!1;var g=Error(s(520),{cause:o});if(g=pn(g,l),Jl===null?Jl=[g]:Jl.push(g),oe!==4&&(oe=2),i===null)return!0;o=pn(o,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=ph(l.stateNode,o,e),Vc(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Hi===null||!Hi.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=n_(f),i_(f,e,l,o),Vc(l,f),!1}l=l.return}while(l!==null);return!1}var s_=Error(s(461)),Re=!1;function Me(e,i,l,o){i.child=e===null?q0(i,null,l,o):wa(i,e.child,l,o)}function a_(e,i,l,o,f){l=l.render;var g=i.ref;if("ref"in o){var y={};for(var x in o)x!=="ref"&&(y[x]=o[x])}else y=o;return Ms(i),o=th(e,i,l,y,g,f),x=eh(),e!==null&&!Re?(nh(e,i,f),fi(e,i,f)):(Ft&&x&&kc(i),i.flags|=1,Me(e,i,o,f),i.child)}function l_(e,i,l,o,f){if(e===null){var g=l.type;return typeof g=="function"&&!Ic(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,r_(e,i,g,o,f)):(e=co(l.type,null,o,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!bh(e,f)){var y=g.memoizedProps;if(l=l.compare,l=l!==null?l:wl,l(y,o)&&e.ref===i.ref)return fi(e,i,f)}return i.flags|=1,e=ai(g,o),e.ref=i.ref,e.return=i,i.child=e}function r_(e,i,l,o,f){if(e!==null){var g=e.memoizedProps;if(wl(g,o)&&e.ref===i.ref)if(Re=!1,i.pendingProps=o=g,bh(e,f))(e.flags&131072)!==0&&(Re=!0);else return i.lanes=e.lanes,fi(e,i,f)}return yh(e,i,l,o,f)}function o_(e,i,l){var o=i.pendingProps,f=o.children,g=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=g!==null?g.baseLanes|l:l,e!==null){for(f=i.child=e.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~o}else i.childLanes=0,i.child=null;return u_(e,i,o,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(i,g!==null?g.cachePool:null),g!==null?r0(i,g):Qc(),V0(i);else return i.lanes=i.childLanes=536870912,u_(e,i,g!==null?g.baseLanes|l:l,l)}else g!==null?(mo(i,g.cachePool),r0(i,g),Pi(),i.memoizedState=null):(e!==null&&mo(i,null),Qc(),Pi());return Me(e,i,f,l),i.child}function u_(e,i,l,o){var f=Bc();return f=f===null?null:{parent:me._currentValue,pool:f},i.memoizedState={baseLanes:l,cachePool:f},e!==null&&mo(i,null),Qc(),V0(i),e!==null&&Ll(e,i,o,!0),null}function No(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function yh(e,i,l,o,f){return Ms(i),l=th(e,i,l,o,void 0,f),o=eh(),e!==null&&!Re?(nh(e,i,f),fi(e,i,f)):(Ft&&o&&kc(i),i.flags|=1,Me(e,i,l,f),i.child)}function c_(e,i,l,o,f,g){return Ms(i),i.updateQueue=null,l=u0(i,o,l,f),o0(e),o=eh(),e!==null&&!Re?(nh(e,i,g),fi(e,i,g)):(Ft&&o&&kc(i),i.flags|=1,Me(e,i,l,g),i.child)}function h_(e,i,l,o,f){if(Ms(i),i.stateNode===null){var g=pa,y=l.contextType;typeof y=="object"&&y!==null&&(g=ze(y)),g=new l(o,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=mh,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=o,g.state=i.memoizedState,g.refs={},Kc(i),y=l.contextType,g.context=typeof y=="object"&&y!==null?ze(y):pa,g.state=i.memoizedState,y=l.getDerivedStateFromProps,typeof y=="function"&&(_h(i,l,y,o),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(y=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),y!==g.state&&mh.enqueueReplaceState(g,g.state,null),Ul(i,o,g,f),Gl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){g=i.stateNode;var x=i.memoizedProps,b=Ls(l,x);g.props=b;var j=g.context,Z=l.contextType;y=pa,typeof Z=="object"&&Z!==null&&(y=ze(Z));var q=l.getDerivedStateFromProps;Z=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,Z||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||j!==y)&&Q0(i,g,o,y),zi=!1;var G=i.memoizedState;g.state=G,Ul(i,o,g,f),Gl(),j=i.memoizedState,x||G!==j||zi?(typeof q=="function"&&(_h(i,l,q,o),j=i.memoizedState),(b=zi||W0(i,l,b,o,G,j,y))?(Z||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),g.props=o,g.state=j,g.context=y,o=b):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{g=i.stateNode,qc(e,i),y=i.memoizedProps,Z=Ls(l,y),g.props=Z,q=i.pendingProps,G=g.context,j=l.contextType,b=pa,typeof j=="object"&&j!==null&&(b=ze(j)),x=l.getDerivedStateFromProps,(j=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(y!==q||G!==b)&&Q0(i,g,o,b),zi=!1,G=i.memoizedState,g.state=G,Ul(i,o,g,f),Gl();var U=i.memoizedState;y!==q||G!==U||zi||e!==null&&e.dependencies!==null&&go(e.dependencies)?(typeof x=="function"&&(_h(i,l,x,o),U=i.memoizedState),(Z=zi||W0(i,l,Z,o,G,U,b)||e!==null&&e.dependencies!==null&&go(e.dependencies))?(j||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,U,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,U,b)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=U),g.props=o,g.state=U,g.context=b,o=Z):(typeof g.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),o=!1)}return g=o,No(e,i),o=(i.flags&128)!==0,g||o?(g=i.stateNode,l=o&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&o?(i.child=wa(i,e.child,null,f),i.child=wa(i,null,l,f)):Me(e,i,l,f),i.memoizedState=g.state,e=i.child):e=fi(e,i,f),e}function f_(e,i,l,o){return Ol(),i.flags|=256,Me(e,i,l,o),i.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xh(e){return{baseLanes:e,cachePool:$g()}}function Eh(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=Sn),e}function d_(e,i,l){var o=i.pendingProps,f=!1,g=(i.flags&128)!==0,y;if((y=g)||(y=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),y&&(f=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ft){if(f?Ui(i):Pi(),Ft){var x=re,b;if(b=x){t:{for(b=x,x=Hn;b.nodeType!==8;){if(!x){x=null;break t}if(b=zn(b.nextSibling),b===null){x=null;break t}}x=b}x!==null?(i.memoizedState={dehydrated:x,treeContext:Rs!==null?{id:li,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},b=rn(18,null,null,0),b.stateNode=x,b.return=i,i.child=b,Fe=i,re=null,b=!0):b=!1}b||ws(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return af(x)?i.lanes=32:i.lanes=536870912,null;hi(i)}return x=o.children,o=o.fallback,f?(Pi(),f=i.mode,x=Io({mode:"hidden",children:x},f),o=Ts(o,f,l,null),x.return=i,o.return=i,x.sibling=o,i.child=x,f=i.child,f.memoizedState=xh(l),f.childLanes=Eh(e,y,l),i.memoizedState=vh,o):(Ui(i),Sh(i,x))}if(b=e.memoizedState,b!==null&&(x=b.dehydrated,x!==null)){if(g)i.flags&256?(Ui(i),i.flags&=-257,i=Th(e,i,l)):i.memoizedState!==null?(Pi(),i.child=e.child,i.flags|=128,i=null):(Pi(),f=o.fallback,x=i.mode,o=Io({mode:"visible",children:o.children},x),f=Ts(f,x,l,null),f.flags|=2,o.return=i,f.return=i,o.sibling=f,i.child=o,wa(i,e.child,null,l),o=i.child,o.memoizedState=xh(l),o.childLanes=Eh(e,y,l),i.memoizedState=vh,i=f);else if(Ui(i),af(x)){if(y=x.nextSibling&&x.nextSibling.dataset,y)var j=y.dgst;y=j,o=Error(s(419)),o.stack="",o.digest=y,Dl({value:o,source:null,stack:null}),i=Th(e,i,l)}else if(Re||Ll(e,i,l,!1),y=(l&e.childLanes)!==0,Re||y){if(y=ee,y!==null&&(o=l&-l,o=(o&42)!==0?1:Ln(o),o=(o&(y.suspendedLanes|l))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,ma(e,o),fn(y,e,o),s_;x.data==="$?"||Fh(),i=Th(e,i,l)}else x.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,re=zn(x.nextSibling),Fe=i,Ft=!0,Cs=null,Hn=!1,e!==null&&(vn[xn++]=li,vn[xn++]=ri,vn[xn++]=Rs,li=e.id,ri=e.overflow,Rs=i),i=Sh(i,o.children),i.flags|=4096);return i}return f?(Pi(),f=o.fallback,x=i.mode,b=e.child,j=b.sibling,o=ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,j!==null?f=ai(j,f):(f=Ts(f,x,l,null),f.flags|=2),f.return=i,o.return=i,o.sibling=f,i.child=o,o=f,f=i.child,x=e.child.memoizedState,x===null?x=xh(l):(b=x.cachePool,b!==null?(j=me._currentValue,b=b.parent!==j?{parent:j,pool:j}:b):b=$g(),x={baseLanes:x.baseLanes|l,cachePool:b}),f.memoizedState=x,f.childLanes=Eh(e,y,l),i.memoizedState=vh,o):(Ui(i),l=e.child,e=l.sibling,l=ai(l,{mode:"visible",children:o.children}),l.return=i,l.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=l,i.memoizedState=null,l)}function Sh(e,i){return i=Io({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Io(e,i){return e=rn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Th(e,i,l){return wa(i,e.child,null,l),e=Sh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function g_(e,i,l){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Fc(e.return,i,l)}function Rh(e,i,l,o,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=l,g.tailMode=f)}function __(e,i,l){var o=i.pendingProps,f=o.revealOrder,g=o.tail;if(Me(e,i,o.children,l),o=pe.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g_(e,l,i);else if(e.tag===19)g_(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(pe,o),f){case"forwards":for(l=i.child,f=null;l!==null;)e=l.alternate,e!==null&&Oo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=i.child,i.child=null):(f=l.sibling,l.sibling=null),Rh(i,!1,f,l,g);break;case"backwards":for(l=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&Oo(e)===null){i.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}Rh(i,!0,l,null,g);break;case"together":Rh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function fi(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),Bi|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Ll(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=ai(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=ai(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function bh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&go(e)))}function N2(e,i,l){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),Ii(i,me,e.memoizedState.cache),Ol();break;case 27:case 5:_t(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ui(i),i.flags|=128,null):(l&i.child.childLanes)!==0?d_(e,i,l):(Ui(i),e=fi(e,i,l),e!==null?e.sibling:null);Ui(i);break;case 19:var f=(e.flags&128)!==0;if(o=(l&i.childLanes)!==0,o||(Ll(e,i,l,!1),o=(l&i.childLanes)!==0),f){if(o)return __(e,i,l);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(pe,pe.current),o)break;return null;case 22:case 23:return i.lanes=0,o_(e,i,l);case 24:Ii(i,me,e.memoizedState.cache)}return fi(e,i,l)}function m_(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)Re=!0;else{if(!bh(e,l)&&(i.flags&128)===0)return Re=!1,N2(e,i,l);Re=(e.flags&131072)!==0}else Re=!1,Ft&&(i.flags&1048576)!==0&&Hg(i,fo,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,f=o._init;if(o=f(o._payload),i.type=o,typeof o=="function")Ic(o)?(e=Ls(o,e),i.tag=1,i=h_(null,i,o,e,l)):(i.tag=0,i=yh(null,i,o,e,l));else{if(o!=null){if(f=o.$$typeof,f===L){i.tag=11,i=a_(null,i,o,e,l);break t}else if(f===V){i.tag=14,i=l_(null,i,o,e,l);break t}}throw i=nt(o)||o,Error(s(306,i,""))}}return i;case 0:return yh(e,i,i.type,i.pendingProps,l);case 1:return o=i.type,f=Ls(o,i.pendingProps),h_(e,i,o,f,l);case 3:t:{if(wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var g=i.memoizedState;f=g.element,qc(e,i),Ul(i,o,null,l);var y=i.memoizedState;if(o=y.cache,Ii(i,me,o),o!==g.cache&&Zc(i,[me],l,!0),Gl(),o=y.element,g.isDehydrated)if(g={element:o,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=f_(e,i,o,l);break t}else if(o!==f){f=pn(Error(s(424)),i),Dl(f),i=f_(e,i,o,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=zn(e.firstChild),Fe=i,Ft=!0,Cs=null,Hn=!0,l=q0(i,null,o,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ol(),o===f){i=fi(e,i,l);break t}Me(e,i,o,l)}i=i.child}return i;case 26:return No(e,i),e===null?(l=xm(i.type,null,i.pendingProps,null))?i.memoizedState=l:Ft||(l=i.type,e=i.pendingProps,o=qo(ut.current).createElement(l),o[te]=i,o[At]=e,De(o,l,e),Te(o),i.stateNode=o):i.memoizedState=xm(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return _t(i),e===null&&Ft&&(o=i.stateNode=pm(i.type,i.pendingProps,ut.current),Fe=i,Hn=!0,f=re,Vi(i.type)?(lf=f,re=zn(o.firstChild)):re=f),Me(e,i,i.pendingProps.children,l),No(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ft&&((f=o=re)&&(o=rv(o,i.type,i.pendingProps,Hn),o!==null?(i.stateNode=o,Fe=i,re=zn(o.firstChild),Hn=!1,f=!0):f=!1),f||ws(i)),_t(i),f=i.type,g=i.pendingProps,y=e!==null?e.memoizedProps:null,o=g.children,ef(f,g)?o=null:y!==null&&ef(f,y)&&(i.flags|=32),i.memoizedState!==null&&(f=th(e,i,b2,null,null,l),rr._currentValue=f),No(e,i),Me(e,i,o,l),i.child;case 6:return e===null&&Ft&&((e=l=re)&&(l=ov(l,i.pendingProps,Hn),l!==null?(i.stateNode=l,Fe=i,re=null,e=!0):e=!1),e||ws(i)),null;case 13:return d_(e,i,l);case 4:return wt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=wa(i,null,o,l):Me(e,i,o,l),i.child;case 11:return a_(e,i,i.type,i.pendingProps,l);case 7:return Me(e,i,i.pendingProps,l),i.child;case 8:return Me(e,i,i.pendingProps.children,l),i.child;case 12:return Me(e,i,i.pendingProps.children,l),i.child;case 10:return o=i.pendingProps,Ii(i,i.type,o.value),Me(e,i,o.children,l),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ms(i),f=ze(f),o=o(f),i.flags|=1,Me(e,i,o,l),i.child;case 14:return l_(e,i,i.type,i.pendingProps,l);case 15:return r_(e,i,i.type,i.pendingProps,l);case 19:return __(e,i,l);case 31:return o=i.pendingProps,l=i.mode,o={mode:o.mode,children:o.children},e===null?(l=Io(o,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ai(e.child,o),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return o_(e,i,l);case 24:return Ms(i),o=ze(me),e===null?(f=Bc(),f===null&&(f=ee,g=Yc(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),i.memoizedState={parent:o,cache:f},Kc(i),Ii(i,me,f)):((e.lanes&l)!==0&&(qc(e,i),Ul(i,null,null,l),Gl()),f=e.memoizedState,g=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ii(i,me,o)):(o=g.cache,Ii(i,me,o),o!==f.cache&&Zc(i,[me],l,!0))),Me(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function di(e){e.flags|=4}function p_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bm(i)){if(i=En.current,i!==null&&((It&4194048)===It?Kn!==null:(It&62914560)!==It&&(It&536870912)===0||i!==Kn))throw jl=Hc,t0;e.flags|=8192}}function zo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Li():536870912,e.lanes|=i,Da|=i)}function Hl(e,i){if(!Ft)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,o=0;if(i)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=l,i}function I2(e,i,l){var o=i.pendingProps;switch(Gc(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(i),null;case 1:return se(i),null;case 3:return l=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ui(me),lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ml(i)?di(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vg())),se(i),null;case 26:return l=i.memoizedState,e===null?(di(i),l!==null?(se(i),p_(i,l)):(se(i),i.flags&=-16777217)):l?l!==e.memoizedState?(di(i),se(i),p_(i,l)):(se(i),i.flags&=-16777217):(e.memoizedProps!==o&&di(i),se(i),i.flags&=-16777217),null;case 27:rt(i),l=ut.current;var f=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&di(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}e=it.current,Ml(i)?Kg(i):(e=pm(f,o,l),i.stateNode=e,di(i))}return se(i),null;case 5:if(rt(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&di(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return se(i),null}if(e=it.current,Ml(i))Kg(i);else{switch(f=qo(ut.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(l,{is:o.is}):f.createElement(l)}}e[te]=i,e[At]=o;t:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break t;for(;f.sibling===null;){if(f.return===null||f.return===i)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=e;t:switch(De(e,l,o),l){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&di(i)}}return se(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&di(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=ut.current,Ml(i)){if(e=i.stateNode,l=i.memoizedProps,o=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[te]=i,e=!!(e.nodeValue===l||o!==null&&o.suppressHydrationWarning===!0||cm(e.nodeValue,l)),e||ws(i)}else e=qo(e).createTextNode(o),e[te]=i,i.stateNode=e}return se(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ml(i),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[te]=i}else Ol(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;se(i),f=!1}else f=Vg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(hi(i),i):(hi(i),null)}if(hi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=o!==null,e=e!==null&&e.memoizedState!==null,l){o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var g=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==f&&(o.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),zo(i,i.updateQueue),se(i),null;case 4:return lt(),e===null&&Wh(i.stateNode.containerInfo),se(i),null;case 10:return ui(i.type),se(i),null;case 19:if(k(pe),f=i.memoizedState,f===null)return se(i),null;if(o=(i.flags&128)!==0,g=f.rendering,g===null)if(o)Hl(f,!1);else{if(oe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Oo(e),g!==null){for(i.flags|=128,Hl(f,!1),e=g.updateQueue,i.updateQueue=e,zo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)Bg(l,e),l=l.sibling;return J(pe,pe.current&1|2),i.child}e=e.sibling}f.tail!==null&&ce()>Go&&(i.flags|=128,o=!0,Hl(f,!1),i.lanes=4194304)}else{if(!o)if(e=Oo(g),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,zo(i,e),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Ft)return se(i),null}else 2*ce()-f.renderingStartTime>Go&&l!==536870912&&(i.flags|=128,o=!0,Hl(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(e=f.last,e!==null?e.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=ce(),i.sibling=null,e=pe.current,J(pe,o?e&1|2:e&1),i):(se(i),null);case 22:case 23:return hi(i),Jc(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(l&536870912)!==0&&(i.flags&128)===0&&(se(i),i.subtreeFlags&6&&(i.flags|=8192)):se(i),l=i.updateQueue,l!==null&&zo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048),e!==null&&k(Os),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ui(me),se(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function z2(e,i){switch(Gc(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ui(me),lt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return rt(i),null;case 13:if(hi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ol()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return k(pe),null;case 4:return lt(),null;case 10:return ui(i.type),null;case 22:case 23:return hi(i),Jc(),e!==null&&k(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ui(me),null;case 25:return null;default:return null}}function y_(e,i){switch(Gc(i),i.tag){case 3:ui(me),lt();break;case 26:case 27:case 5:rt(i);break;case 4:lt();break;case 13:hi(i);break;case 19:k(pe);break;case 10:ui(i.type);break;case 22:case 23:hi(i),Jc(),e!==null&&k(Os);break;case 24:ui(me)}}function Kl(e,i){try{var l=i.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var f=o.next;l=f;do{if((l.tag&e)===e){o=void 0;var g=l.create,y=l.inst;o=g(),y.destroy=o}l=l.next}while(l!==f)}}catch(x){Jt(i,i.return,x)}}function Fi(e,i,l){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var g=f.next;o=g;do{if((o.tag&e)===e){var y=o.inst,x=y.destroy;if(x!==void 0){y.destroy=void 0,f=i;var b=l,j=x;try{j()}catch(Z){Jt(f,b,Z)}}}o=o.next}while(o!==g)}}catch(Z){Jt(i,i.return,Z)}}function v_(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{l0(i,l)}catch(o){Jt(e,e.return,o)}}}function x_(e,i,l){l.props=Ls(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(o){Jt(e,i,o)}}function ql(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof l=="function"?e.refCleanup=l(o):l.current=o}}catch(f){Jt(e,i,f)}}function qn(e,i){var l=e.ref,o=e.refCleanup;if(l!==null)if(typeof o=="function")try{o()}catch(f){Jt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Jt(e,i,f)}else l.current=null}function E_(e){var i=e.type,l=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&o.focus();break t;case"img":l.src?o.src=l.src:l.srcSet&&(o.srcset=l.srcSet)}}catch(f){Jt(e,e.return,f)}}function Ch(e,i,l){try{var o=e.stateNode;nv(o,e.type,l,i),o[At]=i}catch(f){Jt(e,e.return,f)}}function S_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vi(e.type)||e.tag===4}function wh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||S_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ah(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Ko));else if(o!==4&&(o===27&&Vi(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Ah(e,i,l),e=e.sibling;e!==null;)Ah(e,i,l),e=e.sibling}function jo(e,i,l){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(o!==4&&(o===27&&Vi(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(jo(e,i,l),e=e.sibling;e!==null;)jo(e,i,l),e=e.sibling}function T_(e){var i=e.stateNode,l=e.memoizedProps;try{for(var o=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);De(i,o,l),i[te]=e,i[At]=l}catch(g){Jt(e,e.return,g)}}var gi=!1,de=!1,Mh=!1,R_=typeof WeakSet=="function"?WeakSet:Set,be=null;function j2(e,i){if(e=e.containerInfo,$h=tu,e=zg(e),wc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var f=o.anchorOffset,g=o.focusNode;o=o.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break t}var y=0,x=-1,b=-1,j=0,Z=0,q=e,G=null;e:for(;;){for(var U;q!==l||f!==0&&q.nodeType!==3||(x=y+f),q!==g||o!==0&&q.nodeType!==3||(b=y+o),q.nodeType===3&&(y+=q.nodeValue.length),(U=q.firstChild)!==null;)G=q,q=U;for(;;){if(q===e)break e;if(G===l&&++j===f&&(x=y),G===g&&++Z===o&&(b=y),(U=q.nextSibling)!==null)break;q=G,G=q.parentNode}q=U}l=x===-1||b===-1?null:{start:x,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(tf={focusedElem:e,selectionRange:l},tu=!1,be=i;be!==null;)if(i=be,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,be=e;else for(;be!==null;){switch(i=be,g=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,f=g.memoizedProps,g=g.memoizedState,o=l.stateNode;try{var yt=Ls(l.type,f,l.elementType===l.type);e=o.getSnapshotBeforeUpdate(yt,g),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Jt(l,l.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)sf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,be=e;break}be=i.return}}function b_(e,i,l){var o=l.flags;switch(l.tag){case 0:case 11:case 15:Zi(e,l),o&4&&Kl(5,l);break;case 1:if(Zi(e,l),o&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(y){Jt(l,l.return,y)}else{var f=Ls(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Jt(l,l.return,y)}}o&64&&v_(l),o&512&&ql(l,l.return);break;case 3:if(Zi(e,l),o&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{l0(e,i)}catch(y){Jt(l,l.return,y)}}break;case 27:i===null&&o&4&&T_(l);case 26:case 5:Zi(e,l),i===null&&o&4&&E_(l),o&512&&ql(l,l.return);break;case 12:Zi(e,l);break;case 13:Zi(e,l),o&4&&A_(e,l),o&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=B2.bind(null,l),uv(e,l))));break;case 22:if(o=l.memoizedState!==null||gi,!o){i=i!==null&&i.memoizedState!==null||de,f=gi;var g=de;gi=o,(de=i)&&!g?Yi(e,l,(l.subtreeFlags&8772)!==0):Zi(e,l),gi=f,de=g}break;case 30:break;default:Zi(e,l)}}function C_(e){var i=e.alternate;i!==null&&(e.alternate=null,C_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&oc(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,qe=!1;function _i(e,i,l){for(l=l.child;l!==null;)w_(e,i,l),l=l.sibling}function w_(e,i,l){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(Yn,l)}catch{}switch(l.tag){case 26:de||qn(l,i),_i(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:de||qn(l,i);var o=ie,f=qe;Vi(l.type)&&(ie=l.stateNode,qe=!1),_i(e,i,l),ir(l.stateNode),ie=o,qe=f;break;case 5:de||qn(l,i);case 6:if(o=ie,f=qe,ie=null,_i(e,i,l),ie=o,qe=f,ie!==null)if(qe)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(l.stateNode)}catch(g){Jt(l,i,g)}else try{ie.removeChild(l.stateNode)}catch(g){Jt(l,i,g)}break;case 18:ie!==null&&(qe?(e=ie,_m(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),hr(e)):_m(ie,l.stateNode));break;case 4:o=ie,f=qe,ie=l.stateNode.containerInfo,qe=!0,_i(e,i,l),ie=o,qe=f;break;case 0:case 11:case 14:case 15:de||Fi(2,l,i),de||Fi(4,l,i),_i(e,i,l);break;case 1:de||(qn(l,i),o=l.stateNode,typeof o.componentWillUnmount=="function"&&x_(l,i,o)),_i(e,i,l);break;case 21:_i(e,i,l);break;case 22:de=(o=de)||l.memoizedState!==null,_i(e,i,l),de=o;break;default:_i(e,i,l)}}function A_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hr(e)}catch(l){Jt(i,i.return,l)}}function k2(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new R_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new R_),i;default:throw Error(s(435,e.tag))}}function Oh(e,i){var l=k2(e);i.forEach(function(o){var f=H2.bind(null,e,o);l.has(o)||(l.add(o),o.then(f,f))})}function on(e,i){var l=i.deletions;if(l!==null)for(var o=0;o<l.length;o++){var f=l[o],g=e,y=i,x=y;t:for(;x!==null;){switch(x.tag){case 27:if(Vi(x.type)){ie=x.stateNode,qe=!1;break t}break;case 5:ie=x.stateNode,qe=!1;break t;case 3:case 4:ie=x.stateNode.containerInfo,qe=!0;break t}x=x.return}if(ie===null)throw Error(s(160));w_(g,y,f),ie=null,qe=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)M_(i,e),i=i.sibling}var In=null;function M_(e,i){var l=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(i,e),un(e),o&4&&(Fi(3,e,e.return),Kl(3,e),Fi(5,e,e.return));break;case 1:on(i,e),un(e),o&512&&(de||l===null||qn(l,l.return)),o&64&&gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?o:l.concat(o))));break;case 26:var f=In;if(on(i,e),un(e),o&512&&(de||l===null||qn(l,l.return)),o&4){var g=l!==null?l.memoizedState:null;if(o=e.memoizedState,l===null)if(o===null)if(e.stateNode===null){t:{o=e.type,l=e.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":g=f.getElementsByTagName("title")[0],(!g||g[yl]||g[te]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(o),f.head.insertBefore(g,f.querySelector("head > title"))),De(g,o,l),g[te]=e,Te(g),o=g;break t;case"link":var y=Tm("link","href",f).get(o+(l.href||""));if(y){for(var x=0;x<y.length;x++)if(g=y[x],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){y.splice(x,1);break e}}g=f.createElement(o),De(g,o,l),f.head.appendChild(g);break;case"meta":if(y=Tm("meta","content",f).get(o+(l.content||""))){for(x=0;x<y.length;x++)if(g=y[x],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){y.splice(x,1);break e}}g=f.createElement(o),De(g,o,l),f.head.appendChild(g);break;default:throw Error(s(468,o))}g[te]=e,Te(g),o=g}e.stateNode=o}else Rm(f,e.type,e.stateNode);else e.stateNode=Sm(f,o,e.memoizedProps);else g!==o?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,o===null?Rm(f,e.type,e.stateNode):Sm(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Ch(e,e.memoizedProps,l.memoizedProps)}break;case 27:on(i,e),un(e),o&512&&(de||l===null||qn(l,l.return)),l!==null&&o&4&&Ch(e,e.memoizedProps,l.memoizedProps);break;case 5:if(on(i,e),un(e),o&512&&(de||l===null||qn(l,l.return)),e.flags&32){f=e.stateNode;try{ua(f,"")}catch(U){Jt(e,e.return,U)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Ch(e,f,l!==null?l.memoizedProps:f)),o&1024&&(Mh=!0);break;case 6:if(on(i,e),un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,l=e.stateNode;try{l.nodeValue=o}catch(U){Jt(e,e.return,U)}}break;case 3:if(Qo=null,f=In,In=Vo(i.containerInfo),on(i,e),In=f,un(e),o&4&&l!==null&&l.memoizedState.isDehydrated)try{hr(i.containerInfo)}catch(U){Jt(e,e.return,U)}Mh&&(Mh=!1,O_(e));break;case 4:o=In,In=Vo(e.stateNode.containerInfo),on(i,e),un(e),In=o;break;case 12:on(i,e),un(e);break;case 13:on(i,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jh=ce()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oh(e,o)));break;case 22:f=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,j=gi,Z=de;if(gi=j||f,de=Z||b,on(i,e),de=Z,gi=j,un(e),o&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(l===null||b||gi||de||Ns(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){b=l=i;try{if(g=b.stateNode,f)y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{x=b.stateNode;var q=b.memoizedProps.style,G=q!=null&&q.hasOwnProperty("display")?q.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(U){Jt(b,b.return,U)}}}else if(i.tag===6){if(l===null){b=i;try{b.stateNode.nodeValue=f?"":b.memoizedProps}catch(U){Jt(b,b.return,U)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(l=o.retryQueue,l!==null&&(o.retryQueue=null,Oh(e,l))));break;case 19:on(i,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Oh(e,o)));break;case 30:break;case 21:break;default:on(i,e),un(e)}}function un(e){var i=e.flags;if(i&2){try{for(var l,o=e.return;o!==null;){if(S_(o)){l=o;break}o=o.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var f=l.stateNode,g=wh(e);jo(e,g,f);break;case 5:var y=l.stateNode;l.flags&32&&(ua(y,""),l.flags&=-33);var x=wh(e);jo(e,x,y);break;case 3:case 4:var b=l.stateNode.containerInfo,j=wh(e);Ah(e,j,b);break;default:throw Error(s(161))}}catch(Z){Jt(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function O_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;O_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)b_(e,i.alternate,i),i=i.sibling}function Ns(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),Ns(i);break;case 1:qn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&x_(i,i.return,l),Ns(i);break;case 27:ir(i.stateNode);case 26:case 5:qn(i,i.return),Ns(i);break;case 22:i.memoizedState===null&&Ns(i);break;case 30:Ns(i);break;default:Ns(i)}e=e.sibling}}function Yi(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=e,g=i,y=g.flags;switch(g.tag){case 0:case 11:case 15:Yi(f,g,l),Kl(4,g);break;case 1:if(Yi(f,g,l),o=g,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Jt(o,o.return,j)}if(o=g,f=o.updateQueue,f!==null){var x=o.stateNode;try{var b=f.shared.hiddenCallbacks;if(b!==null)for(f.shared.hiddenCallbacks=null,f=0;f<b.length;f++)a0(b[f],x)}catch(j){Jt(o,o.return,j)}}l&&y&64&&v_(g),ql(g,g.return);break;case 27:T_(g);case 26:case 5:Yi(f,g,l),l&&o===null&&y&4&&E_(g),ql(g,g.return);break;case 12:Yi(f,g,l);break;case 13:Yi(f,g,l),l&&y&4&&A_(f,g);break;case 22:g.memoizedState===null&&Yi(f,g,l),ql(g,g.return);break;case 30:break;default:Yi(f,g,l)}i=i.sibling}}function Dh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Nl(l))}function Lh(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nl(e))}function Vn(e,i,l,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)D_(e,i,l,o),i=i.sibling}function D_(e,i,l,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Vn(e,i,l,o),f&2048&&Kl(9,i);break;case 1:Vn(e,i,l,o);break;case 3:Vn(e,i,l,o),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Nl(e)));break;case 12:if(f&2048){Vn(e,i,l,o),e=i.stateNode;try{var g=i.memoizedProps,y=g.id,x=g.onPostCommit;typeof x=="function"&&x(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Jt(i,i.return,b)}}else Vn(e,i,l,o);break;case 13:Vn(e,i,l,o);break;case 23:break;case 22:g=i.stateNode,y=i.alternate,i.memoizedState!==null?g._visibility&2?Vn(e,i,l,o):Vl(e,i):g._visibility&2?Vn(e,i,l,o):(g._visibility|=2,Aa(e,i,l,o,(i.subtreeFlags&10256)!==0)),f&2048&&Dh(y,i);break;case 24:Vn(e,i,l,o),f&2048&&Lh(i.alternate,i);break;default:Vn(e,i,l,o)}}function Aa(e,i,l,o,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=e,y=i,x=l,b=o,j=y.flags;switch(y.tag){case 0:case 11:case 15:Aa(g,y,x,b,f),Kl(8,y);break;case 23:break;case 22:var Z=y.stateNode;y.memoizedState!==null?Z._visibility&2?Aa(g,y,x,b,f):Vl(g,y):(Z._visibility|=2,Aa(g,y,x,b,f)),f&&j&2048&&Dh(y.alternate,y);break;case 24:Aa(g,y,x,b,f),f&&j&2048&&Lh(y.alternate,y);break;default:Aa(g,y,x,b,f)}i=i.sibling}}function Vl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,o=i,f=o.flags;switch(o.tag){case 22:Vl(l,o),f&2048&&Dh(o.alternate,o);break;case 24:Vl(l,o),f&2048&&Lh(o.alternate,o);break;default:Vl(l,o)}i=i.sibling}}var Wl=8192;function Ma(e){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)L_(e),e=e.sibling}function L_(e){switch(e.tag){case 26:Ma(e),e.flags&Wl&&e.memoizedState!==null&&Sv(In,e.memoizedState,e.memoizedProps);break;case 5:Ma(e);break;case 3:case 4:var i=In;In=Vo(e.stateNode.containerInfo),Ma(e),In=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Wl,Wl=16777216,Ma(e),Wl=i):Ma(e));break;default:Ma(e)}}function N_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Ql(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];be=o,z_(o,e)}N_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)I_(e),e=e.sibling}function I_(e){switch(e.tag){case 0:case 11:case 15:Ql(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:Ql(e);break;case 12:Ql(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,ko(e)):Ql(e);break;default:Ql(e)}}function ko(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var o=i[l];be=o,z_(o,e)}N_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),ko(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,ko(i));break;default:ko(i)}e=e.sibling}}function z_(e,i){for(;be!==null;){var l=be;switch(l.tag){case 0:case 11:case 15:Fi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var o=l.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Nl(l.memoizedState.cache)}if(o=l.child,o!==null)o.return=l,be=o;else t:for(l=e;be!==null;){o=be;var f=o.sibling,g=o.return;if(C_(o),o===l){be=null;break t}if(f!==null){f.return=g,be=f;break t}be=g}}}var G2={getCacheForType:function(e){var i=ze(me),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},U2=typeof WeakMap=="function"?WeakMap:Map,Bt=0,ee=null,Mt=null,It=0,Ht=0,cn=null,Xi=!1,Oa=!1,Nh=!1,mi=0,oe=0,Bi=0,Is=0,Ih=0,Sn=0,Da=0,Jl=null,Ve=null,zh=!1,jh=0,Go=1/0,Uo=null,Hi=null,Oe=0,Ki=null,La=null,Na=0,kh=0,Gh=null,j_=null,$l=0,Uh=null;function hn(){if((Bt&2)!==0&&It!==0)return It&-It;if(I.T!==null){var e=xa;return e!==0?e:Hh()}return sn()}function k_(){Sn===0&&(Sn=(It&536870912)===0||Ft?na():536870912);var e=En.current;return e!==null&&(e.flags|=32),Sn}function fn(e,i,l){(e===ee&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)&&(Ia(e,0),qi(e,It,Sn,!1)),Dn(e,l),((Bt&2)===0||e!==ee)&&(e===ee&&((Bt&2)===0&&(Is|=l),oe===4&&qi(e,It,Sn,!1)),Wn(e))}function G_(e,i,l){if((Bt&6)!==0)throw Error(s(327));var o=!l&&(i&124)===0&&(i&e.expiredLanes)===0||Di(e,i),f=o?Z2(e,i):Zh(e,i,!0),g=o;do{if(f===0){Oa&&!o&&qi(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!P2(l)){f=Zh(e,i,!1),g=!1;continue}if(f===2){if(g=i,e.errorRecoveryDisabledLanes&g)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var x=e;f=Jl;var b=x.current.memoizedState.isDehydrated;if(b&&(Ia(x,y).flags|=256),y=Zh(x,y,!1),y!==2){if(Nh&&!b){x.errorRecoveryDisabledLanes|=g,Is|=g,f=4;break t}g=Ve,Ve=f,g!==null&&(Ve===null?Ve=g:Ve.push.apply(Ve,g))}f=y}if(g=!1,f!==2)continue}}if(f===1){Ia(e,0),qi(e,i,0,!0);break}t:{switch(o=e,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qi(o,i,Sn,!Xi);break t;case 2:Ve=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=jh+300-ce(),10<f)){if(qi(o,i,Sn,!Xi),Oi(o,0,!0)!==0)break t;o.timeoutHandle=dm(U_.bind(null,o,l,Ve,Uo,zh,i,Sn,Is,Da,Xi,g,2,-0,0),f);break t}U_(o,l,Ve,Uo,zh,i,Sn,Is,Da,Xi,g,0,-0,0)}}break}while(!0);Wn(e)}function U_(e,i,l,o,f,g,y,x,b,j,Z,q,G,U){if(e.timeoutHandle=-1,q=i.subtreeFlags,(q&8192||(q&16785408)===16785408)&&(lr={stylesheets:null,count:0,unsuspend:Ev},L_(i),q=Tv(),q!==null)){e.cancelPendingCommit=q(H_.bind(null,e,i,g,l,o,f,y,x,b,Z,1,G,U)),qi(e,g,y,!j);return}H_(e,i,g,l,o,f,y,x,b)}function P2(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var o=0;o<l.length;o++){var f=l[o],g=f.getSnapshot;f=f.value;try{if(!ln(g(),f))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(e,i,l,o){i&=~Ih,i&=~Is,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var f=i;0<f;){var g=31-Ne(f),y=1<<g;o[g]=-1,f&=~y}l!==0&&pl(e,l,i)}function Po(){return(Bt&6)===0?(tr(0),!1):!0}function Ph(){if(Mt!==null){if(Ht===0)var e=Mt.return;else e=Mt,oi=As=null,ih(e),Ca=null,Xl=0,e=Mt;for(;e!==null;)y_(e.alternate,e),e=e.return;Mt=null}}function Ia(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,sv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ph(),ee=e,Mt=l=ai(e.current,null),It=i,Ht=0,cn=null,Xi=!1,Oa=Di(e,i),Nh=!1,Da=Sn=Ih=Is=Bi=oe=0,Ve=Jl=null,zh=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var f=31-Ne(o),g=1<<f;i|=e[f],o&=~g}return mi=i,ro(),l}function P_(e,i){bt=null,I.H=wo,i===zl||i===po?(i=i0(),Ht=3):i===t0?(i=i0(),Ht=4):Ht=i===s_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,cn=i,Mt===null&&(oe=1,Lo(e,pn(i,e.current)))}function F_(){var e=I.H;return I.H=wo,e===null?wo:e}function Z_(){var e=I.A;return I.A=G2,e}function Fh(){oe=4,Xi||(It&4194048)!==It&&En.current!==null||(Oa=!0),(Bi&134217727)===0&&(Is&134217727)===0||ee===null||qi(ee,It,Sn,!1)}function Zh(e,i,l){var o=Bt;Bt|=2;var f=F_(),g=Z_();(ee!==e||It!==i)&&(Uo=null,Ia(e,i)),i=!1;var y=oe;t:do try{if(Ht!==0&&Mt!==null){var x=Mt,b=cn;switch(Ht){case 8:Ph(),y=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Ht;if(Ht=0,cn=null,za(e,x,b,j),l&&Oa){y=0;break t}break;default:j=Ht,Ht=0,cn=null,za(e,x,b,j)}}F2(),y=oe;break}catch(Z){P_(e,Z)}while(!0);return i&&e.shellSuspendCounter++,oi=As=null,Bt=o,I.H=f,I.A=g,Mt===null&&(ee=null,It=0,ro()),y}function F2(){for(;Mt!==null;)Y_(Mt)}function Z2(e,i){var l=Bt;Bt|=2;var o=F_(),f=Z_();ee!==e||It!==i?(Uo=null,Go=ce()+500,Ia(e,i)):Oa=Di(e,i);t:do try{if(Ht!==0&&Mt!==null){i=Mt;var g=cn;e:switch(Ht){case 1:Ht=0,cn=null,za(e,i,g,1);break;case 2:case 9:if(e0(g)){Ht=0,cn=null,X_(i);break}i=function(){Ht!==2&&Ht!==9||ee!==e||(Ht=7),Wn(e)},g.then(i,i);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:e0(g)?(Ht=0,cn=null,X_(i)):(Ht=0,cn=null,za(e,i,g,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var x=Mt;if(!y||bm(y)){Ht=0,cn=null;var b=x.sibling;if(b!==null)Mt=b;else{var j=x.return;j!==null?(Mt=j,Fo(j)):Mt=null}break e}}Ht=0,cn=null,za(e,i,g,5);break;case 6:Ht=0,cn=null,za(e,i,g,6);break;case 8:Ph(),oe=6;break t;default:throw Error(s(462))}}Y2();break}catch(Z){P_(e,Z)}while(!0);return oi=As=null,I.H=o,I.A=f,Bt=l,Mt!==null?0:(ee=null,It=0,ro(),oe)}function Y2(){for(;Mt!==null&&!Xt();)Y_(Mt)}function Y_(e){var i=m_(e.alternate,e,mi);e.memoizedProps=e.pendingProps,i===null?Fo(e):Mt=i}function X_(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=c_(l,i,i.pendingProps,i.type,void 0,It);break;case 11:i=c_(l,i,i.pendingProps,i.type.render,i.ref,It);break;case 5:ih(i);default:y_(l,i),i=Mt=Bg(i,mi),i=m_(l,i,mi)}e.memoizedProps=e.pendingProps,i===null?Fo(e):Mt=i}function za(e,i,l,o){oi=As=null,ih(i),Ca=null,Xl=0;var f=i.return;try{if(L2(e,f,i,l,It)){oe=1,Lo(e,pn(l,e.current)),Mt=null;return}}catch(g){if(f!==null)throw Mt=f,g;oe=1,Lo(e,pn(l,e.current)),Mt=null;return}i.flags&32768?(Ft||o===1?e=!0:Oa||(It&536870912)!==0?e=!1:(Xi=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),B_(i,e)):Fo(i)}function Fo(e){var i=e;do{if((i.flags&32768)!==0){B_(i,Xi);return}e=i.return;var l=I2(i.alternate,i,mi);if(l!==null){Mt=l;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);oe===0&&(oe=5)}function B_(e,i){do{var l=z2(e.alternate,e);if(l!==null){l.flags&=32767,Mt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=l}while(e!==null);oe=6,Mt=null}function H_(e,i,l,o,f,g,y,x,b){e.cancelPendingCommit=null;do Zo();while(Oe!==0);if((Bt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(g=i.lanes|i.childLanes,g|=Lc,Vr(e,l,g,y,x,b),e===ee&&(Mt=ee=null,It=0),La=i,Ki=e,Na=l,kh=g,Gh=f,j_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,K2(On,function(){return Q_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=I.T,I.T=null,f=X.p,X.p=2,y=Bt,Bt|=4;try{j2(e,i,l)}finally{Bt=y,X.p=f,I.T=o}}Oe=1,K_(),q_(),V_()}}function K_(){if(Oe===1){Oe=0;var e=Ki,i=La,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=I.T,I.T=null;var o=X.p;X.p=2;var f=Bt;Bt|=4;try{M_(i,e);var g=tf,y=zg(e.containerInfo),x=g.focusedElem,b=g.selectionRange;if(y!==x&&x&&x.ownerDocument&&Ig(x.ownerDocument.documentElement,x)){if(b!==null&&wc(x)){var j=b.start,Z=b.end;if(Z===void 0&&(Z=j),"selectionStart"in x)x.selectionStart=j,x.selectionEnd=Math.min(Z,x.value.length);else{var q=x.ownerDocument||document,G=q&&q.defaultView||window;if(G.getSelection){var U=G.getSelection(),yt=x.textContent.length,mt=Math.min(b.start,yt),Qt=b.end===void 0?mt:Math.min(b.end,yt);!U.extend&&mt>Qt&&(y=Qt,Qt=mt,mt=y);var D=Ng(x,mt),A=Ng(x,Qt);if(D&&A&&(U.rangeCount!==1||U.anchorNode!==D.node||U.anchorOffset!==D.offset||U.focusNode!==A.node||U.focusOffset!==A.offset)){var z=q.createRange();z.setStart(D.node,D.offset),U.removeAllRanges(),mt>Qt?(U.addRange(z),U.extend(A.node,A.offset)):(z.setEnd(A.node,A.offset),U.addRange(z))}}}}for(q=[],U=x;U=U.parentNode;)U.nodeType===1&&q.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<q.length;x++){var B=q[x];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}tu=!!$h,tf=$h=null}finally{Bt=f,X.p=o,I.T=l}}e.current=i,Oe=2}}function q_(){if(Oe===2){Oe=0;var e=Ki,i=La,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=I.T,I.T=null;var o=X.p;X.p=2;var f=Bt;Bt|=4;try{b_(e,i.alternate,i)}finally{Bt=f,X.p=o,I.T=l}}Oe=3}}function V_(){if(Oe===4||Oe===3){Oe=0,xe();var e=Ki,i=La,l=Na,o=j_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Oe=5:(Oe=0,La=Ki=null,W_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Hi=null),Ie(l),i=i.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(Yn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=I.T,f=X.p,X.p=2,I.T=null;try{for(var g=e.onRecoverableError,y=0;y<o.length;y++){var x=o[y];g(x.value,{componentStack:x.stack})}}finally{I.T=i,X.p=f}}(Na&3)!==0&&Zo(),Wn(e),f=e.pendingLanes,(l&4194090)!==0&&(f&42)!==0?e===Uh?$l++:($l=0,Uh=e):$l=0,tr(0)}}function W_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Nl(i)))}function Zo(e){return K_(),q_(),V_(),Q_()}function Q_(){if(Oe!==5)return!1;var e=Ki,i=kh;kh=0;var l=Ie(Na),o=I.T,f=X.p;try{X.p=32>l?32:l,I.T=null,l=Gh,Gh=null;var g=Ki,y=Na;if(Oe=0,La=Ki=null,Na=0,(Bt&6)!==0)throw Error(s(331));var x=Bt;if(Bt|=4,I_(g.current),D_(g,g.current,y,l),Bt=x,tr(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(Yn,g)}catch{}return!0}finally{X.p=f,I.T=o,W_(e,i)}}function J_(e,i,l){i=pn(l,i),i=ph(e.stateNode,i,2),e=ki(e,i,2),e!==null&&(Dn(e,2),Wn(e))}function Jt(e,i,l){if(e.tag===3)J_(e,e,l);else for(;i!==null;){if(i.tag===3){J_(i,e,l);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hi===null||!Hi.has(o))){e=pn(l,e),l=n_(2),o=ki(i,l,2),o!==null&&(i_(l,o,i,e),Dn(o,2),Wn(o));break}}i=i.return}}function Yh(e,i,l){var o=e.pingCache;if(o===null){o=e.pingCache=new U2;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(l)||(Nh=!0,f.add(l),e=X2.bind(null,e,i,l),i.then(e,e))}function X2(e,i,l){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,ee===e&&(It&l)===l&&(oe===4||oe===3&&(It&62914560)===It&&300>ce()-jh?(Bt&2)===0&&Ia(e,0):Ih|=l,Da===It&&(Da=0)),Wn(e)}function $_(e,i){i===0&&(i=Li()),e=ma(e,i),e!==null&&(Dn(e,i),Wn(e))}function B2(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),$_(e,l)}function H2(e,i){var l=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),$_(e,l)}function K2(e,i){return Lt(e,i)}var Yo=null,ja=null,Xh=!1,Xo=!1,Bh=!1,zs=0;function Wn(e){e!==ja&&e.next===null&&(ja===null?Yo=ja=e:ja=ja.next=e),Xo=!0,Xh||(Xh=!0,V2())}function tr(e,i){if(!Bh&&Xo){Bh=!0;do for(var l=!1,o=Yo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var g=0;else{var y=o.suspendedLanes,x=o.pingedLanes;g=(1<<31-Ne(42|e)+1)-1,g&=f&~(y&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,im(o,g))}else g=It,g=Oi(o,o===ee?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(g&3)===0||Di(o,g)||(l=!0,im(o,g));o=o.next}while(l);Bh=!1}}function q2(){tm()}function tm(){Xo=Xh=!1;var e=0;zs!==0&&(iv()&&(e=zs),zs=0);for(var i=ce(),l=null,o=Yo;o!==null;){var f=o.next,g=em(o,i);g===0?(o.next=null,l===null?Yo=f:l.next=f,f===null&&(ja=l)):(l=o,(e!==0||(g&3)!==0)&&(Xo=!0)),o=f}tr(e)}function em(e,i){for(var l=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var y=31-Ne(g),x=1<<y,b=f[y];b===-1?((x&l)===0||(x&o)!==0)&&(f[y]=lc(x,i)):b<=i&&(e.expiredLanes|=x),g&=~x}if(i=ee,l=It,l=Oi(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,l===0||e===i&&(Ht===2||Ht===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&jt(o),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Di(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(o!==null&&jt(o),Ie(l)){case 2:case 8:l=Zn;break;case 32:l=On;break;case 268435456:l=he;break;default:l=On}return o=nm.bind(null,e),l=Lt(l,o),e.callbackPriority=i,e.callbackNode=l,i}return o!==null&&o!==null&&jt(o),e.callbackPriority=2,e.callbackNode=null,2}function nm(e,i){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Zo()&&e.callbackNode!==l)return null;var o=It;return o=Oi(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(G_(e,o,i),em(e,ce()),e.callbackNode!=null&&e.callbackNode===l?nm.bind(null,e):null)}function im(e,i){if(Zo())return null;G_(e,i,!0)}function V2(){av(function(){(Bt&6)!==0?Lt($t,q2):tm()})}function Hh(){return zs===0&&(zs=na()),zs}function sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:to(""+e)}function am(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function W2(e,i,l,o,f){if(i==="submit"&&l&&l.stateNode===f){var g=sm((f[At]||null).action),y=o.submitter;y&&(i=(i=y[At]||null)?sm(i.formAction):y.getAttribute("formAction"),i!==null&&(g=i,y=null));var x=new so("action","action",null,o,f);e.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zs!==0){var b=y?am(f,y):new FormData(f);fh(l,{pending:!0,data:b,method:f.method,action:g},null,b)}}else typeof g=="function"&&(x.preventDefault(),b=y?am(f,y):new FormData(f),fh(l,{pending:!0,data:b,method:f.method,action:g},g,b))},currentTarget:f}]})}}for(var Kh=0;Kh<Dc.length;Kh++){var qh=Dc[Kh],Q2=qh.toLowerCase(),J2=qh[0].toUpperCase()+qh.slice(1);Nn(Q2,"on"+J2)}Nn(Gg,"onAnimationEnd"),Nn(Ug,"onAnimationIteration"),Nn(Pg,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(_2,"onTransitionRun"),Nn(m2,"onTransitionStart"),Nn(p2,"onTransitionCancel"),Nn(Fg,"onTransitionEnd"),la("onMouseEnter",["mouseout","mouseover"]),la("onMouseLeave",["mouseout","mouseover"]),la("onPointerEnter",["pointerout","pointerover"]),la("onPointerLeave",["pointerout","pointerover"]),vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vs("onBeforeInput",["compositionend","keypress","textInput","paste"]),vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(er));function lm(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var o=e[l],f=o.event;o=o.listeners;t:{var g=void 0;if(i)for(var y=o.length-1;0<=y;y--){var x=o[y],b=x.instance,j=x.currentTarget;if(x=x.listener,b!==g&&f.isPropagationStopped())break t;g=x,f.currentTarget=j;try{g(f)}catch(Z){Do(Z)}f.currentTarget=null,g=b}else for(y=0;y<o.length;y++){if(x=o[y],b=x.instance,j=x.currentTarget,x=x.listener,b!==g&&f.isPropagationStopped())break t;g=x,f.currentTarget=j;try{g(f)}catch(Z){Do(Z)}f.currentTarget=null,g=b}}}}function Ot(e,i){var l=i[an];l===void 0&&(l=i[an]=new Set);var o=e+"__bubble";l.has(o)||(rm(i,e,2,!1),l.add(o))}function Vh(e,i,l){var o=0;i&&(o|=4),rm(l,e,o,i)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function Wh(e){if(!e[Bo]){e[Bo]=!0,tg.forEach(function(l){l!=="selectionchange"&&($2.has(l)||Vh(l,!1,e),Vh(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Bo]||(i[Bo]=!0,Vh("selectionchange",!1,i))}}function rm(e,i,l,o){switch(Dm(i)){case 2:var f=Cv;break;case 8:f=wv;break;default:f=hf}l=f.bind(null,i,l,e),f=void 0,!yc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(i,l,{capture:!0,passive:f}):e.addEventListener(i,l,!0):f!==void 0?e.addEventListener(i,l,{passive:f}):e.addEventListener(i,l,!1)}function Qh(e,i,l,o,f){var g=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var x=o.stateNode.containerInfo;if(x===f)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;x!==null;){if(y=ia(x),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=g=y;continue t}x=x.parentNode}}o=o.return}gg(function(){var j=g,Z=mc(l),q=[];t:{var G=Zg.get(e);if(G!==void 0){var U=so,yt=e;switch(e){case"keypress":if(no(l)===0)break t;case"keydown":case"keyup":U=Ky;break;case"focusin":yt="focus",U=Sc;break;case"focusout":yt="blur",U=Sc;break;case"beforeblur":case"afterblur":U=Sc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Wy;break;case Gg:case Ug:case Pg:U=Gy;break;case Fg:U=Jy;break;case"scroll":case"scrollend":U=Ny;break;case"wheel":U=t2;break;case"copy":case"cut":case"paste":U=Py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=vg;break;case"toggle":case"beforetoggle":U=n2}var mt=(i&4)!==0,Qt=!mt&&(e==="scroll"||e==="scrollend"),D=mt?G!==null?G+"Capture":null:G;mt=[];for(var A=j,z;A!==null;){var B=A;if(z=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||z===null||D===null||(B=xl(A,D),B!=null&&mt.push(nr(A,B,z))),Qt)break;A=A.return}0<mt.length&&(G=new U(G,yt,null,l,Z),q.push({event:G,listeners:mt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",G&&l!==_c&&(yt=l.relatedTarget||l.fromElement)&&(ia(yt)||yt[le]))break t;if((U||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,U?(yt=l.relatedTarget||l.toElement,U=j,yt=yt?ia(yt):null,yt!==null&&(Qt=u(yt),mt=yt.tag,yt!==Qt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(U=null,yt=j),U!==yt)){if(mt=pg,B="onMouseLeave",D="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(mt=vg,B="onPointerLeave",D="onPointerEnter",A="pointer"),Qt=U==null?G:vl(U),z=yt==null?G:vl(yt),G=new mt(B,A+"leave",U,l,Z),G.target=Qt,G.relatedTarget=z,B=null,ia(Z)===j&&(mt=new mt(D,A+"enter",yt,l,Z),mt.target=z,mt.relatedTarget=Qt,B=mt),Qt=B,U&&yt)e:{for(mt=U,D=yt,A=0,z=mt;z;z=ka(z))A++;for(z=0,B=D;B;B=ka(B))z++;for(;0<A-z;)mt=ka(mt),A--;for(;0<z-A;)D=ka(D),z--;for(;A--;){if(mt===D||D!==null&&mt===D.alternate)break e;mt=ka(mt),D=ka(D)}mt=null}else mt=null;U!==null&&om(q,G,U,mt,!1),yt!==null&&Qt!==null&&om(q,Qt,yt,mt,!0)}}t:{if(G=j?vl(j):window,U=G.nodeName&&G.nodeName.toLowerCase(),U==="select"||U==="input"&&G.type==="file")var at=wg;else if(bg(G))if(Ag)at=f2;else{at=c2;var Ct=u2}else U=G.nodeName,!U||U.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?j&&gc(j.elementType)&&(at=wg):at=h2;if(at&&(at=at(e,j))){Cg(q,at,l,Z);break t}Ct&&Ct(e,G,j),e==="focusout"&&j&&G.type==="number"&&j.memoizedProps.value!=null&&dc(G,"number",G.value)}switch(Ct=j?vl(j):window,e){case"focusin":(bg(Ct)||Ct.contentEditable==="true")&&(da=Ct,Ac=j,Al=null);break;case"focusout":Al=Ac=da=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,jg(q,l,Z);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":jg(q,l,Z)}var ht;if(Rc)t:{switch(e){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else fa?Tg(e,l)&&(pt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(pt="onCompositionStart");pt&&(xg&&l.locale!=="ko"&&(fa||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&fa&&(ht=_g()):(Ni=Z,vc="value"in Ni?Ni.value:Ni.textContent,fa=!0)),Ct=Ho(j,pt),0<Ct.length&&(pt=new yg(pt,e,null,l,Z),q.push({event:pt,listeners:Ct}),ht?pt.data=ht:(ht=Rg(l),ht!==null&&(pt.data=ht)))),(ht=s2?a2(e,l):l2(e,l))&&(pt=Ho(j,"onBeforeInput"),0<pt.length&&(Ct=new yg("onBeforeInput","beforeinput",null,l,Z),q.push({event:Ct,listeners:pt}),Ct.data=ht)),W2(q,e,j,l,Z)}lm(q,i)})}function nr(e,i,l){return{instance:e,listener:i,currentTarget:l}}function Ho(e,i){for(var l=i+"Capture",o=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=xl(e,l),f!=null&&o.unshift(nr(e,f,g)),f=xl(e,i),f!=null&&o.push(nr(e,f,g))),e.tag===3)return o;e=e.return}return[]}function ka(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function om(e,i,l,o,f){for(var g=i._reactName,y=[];l!==null&&l!==o;){var x=l,b=x.alternate,j=x.stateNode;if(x=x.tag,b!==null&&b===o)break;x!==5&&x!==26&&x!==27||j===null||(b=j,f?(j=xl(l,g),j!=null&&y.unshift(nr(l,j,b))):f||(j=xl(l,g),j!=null&&y.push(nr(l,j,b)))),l=l.return}y.length!==0&&e.push({event:i,listeners:y})}var tv=/\r\n?/g,ev=/\u0000|\uFFFD/g;function um(e){return(typeof e=="string"?e:""+e).replace(tv,`
`).replace(ev,"")}function cm(e,i){return i=um(i),um(e)===i}function Ko(){}function Wt(e,i,l,o,f,g){switch(l){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||ua(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&ua(e,""+o);break;case"className":Qr(e,"class",o);break;case"tabIndex":Qr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(e,l,o);break;case"style":fg(e,o,g);break;case"data":if(i!=="object"){Qr(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=to(""+o),e.setAttribute(l,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Wt(e,i,"name",f.name,f,null),Wt(e,i,"formEncType",f.formEncType,f,null),Wt(e,i,"formMethod",f.formMethod,f,null),Wt(e,i,"formTarget",f.formTarget,f,null)):(Wt(e,i,"encType",f.encType,f,null),Wt(e,i,"method",f.method,f,null),Wt(e,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(l);break}o=to(""+o),e.setAttribute(l,o);break;case"onClick":o!=null&&(e.onclick=Ko);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}l=to(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""+o):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":o===!0?e.setAttribute(l,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(l,o):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(l,o):e.removeAttribute(l);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(l):e.setAttribute(l,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":ii(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ii(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ii(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ii(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ii(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ii(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ii(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ii(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ii(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Dy.get(l)||l,Wr(e,l,o))}}function Jh(e,i,l,o,f,g){switch(l){case"style":fg(e,o,g);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(l=o.__html,l!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof o=="string"?ua(e,o):(typeof o=="number"||typeof o=="bigint")&&ua(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ko);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!eg.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),i=l.slice(2,f?l.length-7:void 0),g=e[At]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,f),typeof o=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,o,f);break t}l in e?e[l]=o:o===!0?e.setAttribute(l,""):Wr(e,l,o)}}}function De(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var y=l[g];if(y!=null)switch(g){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,g,y,l,null)}}f&&Wt(e,i,"srcSet",l.srcSet,l,null),o&&Wt(e,i,"src",l.src,l,null);return;case"input":Ot("invalid",e);var x=g=y=f=null,b=null,j=null;for(o in l)if(l.hasOwnProperty(o)){var Z=l[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":y=Z;break;case"checked":b=Z;break;case"defaultChecked":j=Z;break;case"value":g=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Wt(e,i,o,Z,l,null)}}og(e,g,x,b,j,y,f,!1),Jr(e);return;case"select":Ot("invalid",e),o=y=g=null;for(f in l)if(l.hasOwnProperty(f)&&(x=l[f],x!=null))switch(f){case"value":g=x;break;case"defaultValue":y=x;break;case"multiple":o=x;default:Wt(e,i,f,x,l,null)}i=g,l=y,e.multiple=!!o,i!=null?oa(e,!!o,i,!1):l!=null&&oa(e,!!o,l,!0);return;case"textarea":Ot("invalid",e),g=f=o=null;for(y in l)if(l.hasOwnProperty(y)&&(x=l[y],x!=null))switch(y){case"value":o=x;break;case"defaultValue":f=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Wt(e,i,y,x,l,null)}cg(e,o,f,g),Jr(e);return;case"option":for(b in l)if(l.hasOwnProperty(b)&&(o=l[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Wt(e,i,b,o,l,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<er.length;o++)Ot(er[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in l)if(l.hasOwnProperty(j)&&(o=l[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Wt(e,i,j,o,l,null)}return;default:if(gc(i)){for(Z in l)l.hasOwnProperty(Z)&&(o=l[Z],o!==void 0&&Jh(e,i,Z,o,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(o=l[x],o!=null&&Wt(e,i,x,o,l,null))}function nv(e,i,l,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,y=null,x=null,b=null,j=null,Z=null;for(U in l){var q=l[U];if(l.hasOwnProperty(U)&&q!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":b=q;default:o.hasOwnProperty(U)||Wt(e,i,U,null,o,q)}}for(var G in o){var U=o[G];if(q=l[G],o.hasOwnProperty(G)&&(U!=null||q!=null))switch(G){case"type":g=U;break;case"name":f=U;break;case"checked":j=U;break;case"defaultChecked":Z=U;break;case"value":y=U;break;case"defaultValue":x=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,i));break;default:U!==q&&Wt(e,i,G,U,o,q)}}fc(e,y,x,b,j,Z,g,f);return;case"select":U=y=x=G=null;for(g in l)if(b=l[g],l.hasOwnProperty(g)&&b!=null)switch(g){case"value":break;case"multiple":U=b;default:o.hasOwnProperty(g)||Wt(e,i,g,null,o,b)}for(f in o)if(g=o[f],b=l[f],o.hasOwnProperty(f)&&(g!=null||b!=null))switch(f){case"value":G=g;break;case"defaultValue":x=g;break;case"multiple":y=g;default:g!==b&&Wt(e,i,f,g,o,b)}i=x,l=y,o=U,G!=null?oa(e,!!l,G,!1):!!o!=!!l&&(i!=null?oa(e,!!l,i,!0):oa(e,!!l,l?[]:"",!1));return;case"textarea":U=G=null;for(x in l)if(f=l[x],l.hasOwnProperty(x)&&f!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Wt(e,i,x,null,o,f)}for(y in o)if(f=o[y],g=l[y],o.hasOwnProperty(y)&&(f!=null||g!=null))switch(y){case"value":G=f;break;case"defaultValue":U=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&Wt(e,i,y,f,o,g)}ug(e,G,U);return;case"option":for(var yt in l)if(G=l[yt],l.hasOwnProperty(yt)&&G!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Wt(e,i,yt,null,o,G)}for(b in o)if(G=o[b],U=l[b],o.hasOwnProperty(b)&&G!==U&&(G!=null||U!=null))switch(b){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Wt(e,i,b,G,o,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in l)G=l[mt],l.hasOwnProperty(mt)&&G!=null&&!o.hasOwnProperty(mt)&&Wt(e,i,mt,null,o,G);for(j in o)if(G=o[j],U=l[j],o.hasOwnProperty(j)&&G!==U&&(G!=null||U!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Wt(e,i,j,G,o,U)}return;default:if(gc(i)){for(var Qt in l)G=l[Qt],l.hasOwnProperty(Qt)&&G!==void 0&&!o.hasOwnProperty(Qt)&&Jh(e,i,Qt,void 0,o,G);for(Z in o)G=o[Z],U=l[Z],!o.hasOwnProperty(Z)||G===U||G===void 0&&U===void 0||Jh(e,i,Z,G,o,U);return}}for(var D in l)G=l[D],l.hasOwnProperty(D)&&G!=null&&!o.hasOwnProperty(D)&&Wt(e,i,D,null,o,G);for(q in o)G=o[q],U=l[q],!o.hasOwnProperty(q)||G===U||G==null&&U==null||Wt(e,i,q,G,o,U)}var $h=null,tf=null;function qo(e){return e.nodeType===9?e:e.ownerDocument}function hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fm(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ef(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var nf=null;function iv(){var e=window.event;return e&&e.type==="popstate"?e===nf?!1:(nf=e,!0):(nf=null,!1)}var dm=typeof setTimeout=="function"?setTimeout:void 0,sv=typeof clearTimeout=="function"?clearTimeout:void 0,gm=typeof Promise=="function"?Promise:void 0,av=typeof queueMicrotask=="function"?queueMicrotask:typeof gm<"u"?function(e){return gm.resolve(null).then(e).catch(lv)}:dm;function lv(e){setTimeout(function(){throw e})}function Vi(e){return e==="head"}function _m(e,i){var l=i,o=0,f=0;do{var g=l.nextSibling;if(e.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<o&&8>o){l=o;var y=e.ownerDocument;if(l&1&&ir(y.documentElement),l&2&&ir(y.body),l&4)for(l=y.head,ir(l),y=l.firstChild;y;){var x=y.nextSibling,b=y.nodeName;y[yl]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=x}}if(f===0){e.removeChild(g),hr(i);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:o=l.charCodeAt(0)-48;else o=0;l=g}while(l);hr(i)}function sf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":sf(l),oc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function rv(e,i,l,o){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[yl])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function ov(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=zn(e.nextSibling),e===null))return null;return e}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function uv(e,i){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")i();else{var o=function(){i(),l.removeEventListener("DOMContentLoaded",o)};l.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var lf=null;function mm(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function pm(e,i,l){switch(i=qo(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ir(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);oc(e)}var Tn=new Map,ym=new Set;function Vo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var pi=X.d;X.d={f:cv,r:hv,D:fv,C:dv,L:gv,m:_v,X:pv,S:mv,M:yv};function cv(){var e=pi.f(),i=Po();return e||i}function hv(e){var i=sa(e);i!==null&&i.tag===5&&i.type==="form"?G0(i):pi.r(e)}var Ga=typeof document>"u"?null:document;function vm(e,i,l){var o=Ga;if(o&&typeof i=="string"&&i){var f=mn(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),ym.has(f)||(ym.add(f),e={rel:e,crossOrigin:l,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),De(i,"link",e),Te(i),o.head.appendChild(i)))}}function fv(e){pi.D(e),vm("dns-prefetch",e,null)}function dv(e,i){pi.C(e,i),vm("preconnect",e,i)}function gv(e,i,l){pi.L(e,i,l);var o=Ga;if(o&&e&&i){var f='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+mn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+mn(l.imageSizes)+'"]')):f+='[href="'+mn(e)+'"]';var g=f;switch(i){case"style":g=Ua(e);break;case"script":g=Pa(e)}Tn.has(g)||(e=m({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Tn.set(g,e),o.querySelector(f)!==null||i==="style"&&o.querySelector(sr(g))||i==="script"&&o.querySelector(ar(g))||(i=o.createElement("link"),De(i,"link",e),Te(i),o.head.appendChild(i)))}}function _v(e,i){pi.m(e,i);var l=Ga;if(l&&e){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(e)+'"]',g=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pa(e)}if(!Tn.has(g)&&(e=m({rel:"modulepreload",href:e},i),Tn.set(g,e),l.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ar(g)))return}o=l.createElement("link"),De(o,"link",e),Te(o),l.head.appendChild(o)}}}function mv(e,i,l){pi.S(e,i,l);var o=Ga;if(o&&e){var f=aa(o).hoistableStyles,g=Ua(e);i=i||"default";var y=f.get(g);if(!y){var x={loading:0,preload:null};if(y=o.querySelector(sr(g)))x.loading=5;else{e=m({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Tn.get(g))&&rf(e,l);var b=y=o.createElement("link");Te(b),De(b,"link",e),b._p=new Promise(function(j,Z){b.onload=j,b.onerror=Z}),b.addEventListener("load",function(){x.loading|=1}),b.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Wo(y,i,o)}y={type:"stylesheet",instance:y,count:1,state:x},f.set(g,y)}}}function pv(e,i){pi.X(e,i);var l=Ga;if(l&&e){var o=aa(l).hoistableScripts,f=Pa(e),g=o.get(f);g||(g=l.querySelector(ar(f)),g||(e=m({src:e,async:!0},i),(i=Tn.get(f))&&of(e,i),g=l.createElement("script"),Te(g),De(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function yv(e,i){pi.M(e,i);var l=Ga;if(l&&e){var o=aa(l).hoistableScripts,f=Pa(e),g=o.get(f);g||(g=l.querySelector(ar(f)),g||(e=m({src:e,async:!0,type:"module"},i),(i=Tn.get(f))&&of(e,i),g=l.createElement("script"),Te(g),De(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},o.set(f,g))}}function xm(e,i,l,o){var f=(f=ut.current)?Vo(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ua(l.href),l=aa(f).hoistableStyles,o=l.get(i),o||(o={type:"style",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ua(l.href);var g=aa(f).hoistableStyles,y=g.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,y),(g=f.querySelector(sr(e)))&&!g._p&&(y.instance=g,y.state.loading=5),Tn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tn.set(e,l),g||vv(f,e,l,y.state))),i&&o===null)throw Error(s(528,""));return y}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Pa(l),l=aa(f).hoistableScripts,o=l.get(i),o||(o={type:"script",instance:null,count:0,state:null},l.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ua(e){return'href="'+mn(e)+'"'}function sr(e){return'link[rel="stylesheet"]['+e+"]"}function Em(e){return m({},e,{"data-precedence":e.precedence,precedence:null})}function vv(e,i,l,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),De(i,"link",l),Te(i),e.head.appendChild(i))}function Pa(e){return'[src="'+mn(e)+'"]'}function ar(e){return"script[async]"+e}function Sm(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+mn(l.href)+'"]');if(o)return i.instance=o,Te(o),o;var f=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),De(o,"style",f),Wo(o,l.precedence,e),i.instance=o;case"stylesheet":f=Ua(l.href);var g=e.querySelector(sr(f));if(g)return i.state.loading|=4,i.instance=g,Te(g),g;o=Em(l),(f=Tn.get(f))&&rf(o,f),g=(e.ownerDocument||e).createElement("link"),Te(g);var y=g;return y._p=new Promise(function(x,b){y.onload=x,y.onerror=b}),De(g,"link",o),i.state.loading|=4,Wo(g,l.precedence,e),i.instance=g;case"script":return g=Pa(l.src),(f=e.querySelector(ar(g)))?(i.instance=f,Te(f),f):(o=l,(f=Tn.get(g))&&(o=m({},l),of(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),Te(f),De(f,"link",o),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Wo(o,l.precedence,e));return i.instance}function Wo(e,i,l){for(var o=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,g=f,y=0;y<o.length;y++){var x=o[y];if(x.dataset.precedence===i)g=x;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function rf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function of(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Qo=null;function Tm(e,i,l){if(Qo===null){var o=new Map,f=Qo=new Map;f.set(l,o)}else f=Qo,o=f.get(l),o||(o=new Map,f.set(l,o));if(o.has(e))return o;for(o.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var g=l[f];if(!(g[yl]||g[te]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var y=g.getAttribute(i)||"";y=e+y;var x=o.get(y);x?x.push(g):o.set(y,[g])}}return o}function Rm(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function xv(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var lr=null;function Ev(){}function Sv(e,i,l){if(lr===null)throw Error(s(475));var o=lr;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ua(l.href),g=e.querySelector(sr(f));if(g){e=g._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Jo.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=g,Te(g);return}g=e.ownerDocument||e,l=Em(l),(f=Tn.get(f))&&rf(l,f),g=g.createElement("link"),Te(g);var y=g;y._p=new Promise(function(x,b){y.onload=x,y.onerror=b}),De(g,"link",l),i.instance=g}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=Jo.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function Tv(){if(lr===null)throw Error(s(475));var e=lr;return e.stylesheets&&e.count===0&&uf(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&uf(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function Jo(){if(this.count--,this.count===0){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $o=null;function uf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$o=new Map,i.forEach(Rv,e),$o=null,Jo.call(e))}function Rv(e,i){if(!(i.state.loading&4)){var l=$o.get(e);if(l)var o=l.get(null);else{l=new Map,$o.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var y=f[g];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(l.set(y.dataset.precedence,y),o=y)}o&&l.set(null,o)}f=i.instance,y=f.getAttribute("data-precedence"),g=l.get(y)||o,g===o&&l.set(null,f),l.set(y,f),this.count++,o=Jo.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var rr={$$typeof:P,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function bv(e,i,l,o,f,g,y,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Cm(e,i,l,o,f,g,y,x,b,j,Z,q){return e=new bv(e,i,l,y,x,b,j,q),i=1,g===!0&&(i|=24),g=rn(3,null,null,i),e.current=g,g.stateNode=e,i=Yc(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:o,isDehydrated:l,cache:i},Kc(g),e}function wm(e){return e?(e=pa,e):pa}function Am(e,i,l,o,f,g){f=wm(f),o.context===null?o.context=f:o.pendingContext=f,o=ji(i),o.payload={element:l},g=g===void 0?null:g,g!==null&&(o.callback=g),l=ki(e,o,i),l!==null&&(fn(l,e,i),kl(l,e,i))}function Mm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function cf(e,i){Mm(e,i),(e=e.alternate)&&Mm(e,i)}function Om(e){if(e.tag===13){var i=ma(e,67108864);i!==null&&fn(i,e,67108864),cf(e,67108864)}}var tu=!0;function Cv(e,i,l,o){var f=I.T;I.T=null;var g=X.p;try{X.p=2,hf(e,i,l,o)}finally{X.p=g,I.T=f}}function wv(e,i,l,o){var f=I.T;I.T=null;var g=X.p;try{X.p=8,hf(e,i,l,o)}finally{X.p=g,I.T=f}}function hf(e,i,l,o){if(tu){var f=ff(o);if(f===null)Qh(e,i,o,eu,l),Lm(e,o);else if(Mv(f,e,i,l,o))o.stopPropagation();else if(Lm(e,o),i&4&&-1<Av.indexOf(e)){for(;f!==null;){var g=sa(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var y=Bn(g.pendingLanes);if(y!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;y;){var b=1<<31-Ne(y);x.entanglements[1]|=b,y&=~b}Wn(g),(Bt&6)===0&&(Go=ce()+500,tr(0))}}break;case 13:x=ma(g,2),x!==null&&fn(x,g,2),Po(),cf(g,2)}if(g=ff(o),g===null&&Qh(e,i,o,eu,l),g===f)break;f=g}f!==null&&o.stopPropagation()}else Qh(e,i,o,null,l)}}function ff(e){return e=mc(e),df(e)}var eu=null;function df(e){if(eu=null,e=ia(e),e!==null){var i=u(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=c(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return eu=e,null}function Dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case $t:return 2;case Zn:return 8;case On:case Mi:return 32;case he:return 268435456;default:return 32}default:return 32}}var gf=!1,Wi=null,Qi=null,Ji=null,or=new Map,ur=new Map,$i=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,i){switch(e){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":or.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ur.delete(i.pointerId)}}function cr(e,i,l,o,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:o,nativeEvent:g,targetContainers:[f]},i!==null&&(i=sa(i),i!==null&&Om(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function Mv(e,i,l,o,f){switch(i){case"focusin":return Wi=cr(Wi,e,i,l,o,f),!0;case"dragenter":return Qi=cr(Qi,e,i,l,o,f),!0;case"mouseover":return Ji=cr(Ji,e,i,l,o,f),!0;case"pointerover":var g=f.pointerId;return or.set(g,cr(or.get(g)||null,e,i,l,o,f)),!0;case"gotpointercapture":return g=f.pointerId,ur.set(g,cr(ur.get(g)||null,e,i,l,o,f)),!0}return!1}function Nm(e){var i=ia(e.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){e.blockedOn=i,Be(e.priority,function(){if(l.tag===13){var o=hn();o=Ln(o);var f=ma(l,o);f!==null&&fn(f,l,o),cf(l,o)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=ff(e.nativeEvent);if(l===null){l=e.nativeEvent;var o=new l.constructor(l.type,l);_c=o,l.target.dispatchEvent(o),_c=null}else return i=sa(l),i!==null&&Om(i),e.blockedOn=l,!1;i.shift()}return!0}function Im(e,i,l){nu(e)&&l.delete(i)}function Ov(){gf=!1,Wi!==null&&nu(Wi)&&(Wi=null),Qi!==null&&nu(Qi)&&(Qi=null),Ji!==null&&nu(Ji)&&(Ji=null),or.forEach(Im),ur.forEach(Im)}function iu(e,i){e.blockedOn===i&&(e.blockedOn=null,gf||(gf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ov)))}var su=null;function zm(e){su!==e&&(su=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){su===e&&(su=null);for(var i=0;i<e.length;i+=3){var l=e[i],o=e[i+1],f=e[i+2];if(typeof o!="function"){if(df(o||l)===null)continue;break}var g=sa(l);g!==null&&(e.splice(i,3),i-=3,fh(g,{pending:!0,data:f,method:l.method,action:o},o,f))}}))}function hr(e){function i(b){return iu(b,e)}Wi!==null&&iu(Wi,e),Qi!==null&&iu(Qi,e),Ji!==null&&iu(Ji,e),or.forEach(i),ur.forEach(i);for(var l=0;l<$i.length;l++){var o=$i[l];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$i.length&&(l=$i[0],l.blockedOn===null);)Nm(l),l.blockedOn===null&&$i.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(o=0;o<l.length;o+=3){var f=l[o],g=l[o+1],y=f[At]||null;if(typeof g=="function")y||zm(l);else if(y){var x=null;if(g&&g.hasAttribute("formAction")){if(f=g,y=g[At]||null)x=y.formAction;else if(df(f)!==null)continue}else x=y.action;typeof x=="function"?l[o+1]=x:(l.splice(o,3),o-=3),zm(l)}}}function _f(e){this._internalRoot=e}au.prototype.render=_f.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,o=hn();Am(l,o,e,i,null,null)},au.prototype.unmount=_f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Am(e.current,2,null,e,null,null),Po(),i[le]=null}};function au(e){this._internalRoot=e}au.prototype.unstable_scheduleHydration=function(e){if(e){var i=sn();e={blockedOn:null,target:e,priority:i};for(var l=0;l<$i.length&&i!==0&&i<$i[l].priority;l++);$i.splice(l,0,e),l===0&&Nm(e)}};var jm=t.version;if(jm!=="19.1.1")throw Error(s(527,jm,"19.1.1"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=d(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Dv={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Yn=lu.inject(Dv),Ee=lu}catch{}}return dr.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,o="",f=J0,g=$0,y=t_,x=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=Cm(e,1,!1,null,null,l,o,f,g,y,x,null),e[le]=i.current,Wh(e),new _f(i)},dr.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var o=!1,f="",g=J0,y=$0,x=t_,b=null,j=null;return l!=null&&(l.unstable_strictMode===!0&&(o=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(b=l.unstable_transitionCallbacks),l.formState!==void 0&&(j=l.formState)),i=Cm(e,1,!0,i,l??null,o,f,g,y,x,b,j),i.context=wm(null),l=i.current,o=hn(),o=Ln(o),f=ji(o),f.callback=null,ki(l,f,o),l=o,i.current.lanes=l,Dn(i,l),Wn(i),e[le]=i.current,Wh(e),new au(i)},dr.version="19.1.1",dr}var Hm;function Zv(){if(Hm)return yf.exports;Hm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),yf.exports=Fv(),yf.exports}var a1=Zv(),l1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Km=Bs.createContext&&Bs.createContext(l1),Yv=["attr","size","title"];function Xv(a,t){if(a==null)return{};var n=Bv(a,t),s,r;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(r=0;r<u.length;r++)s=u[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(n[s]=a[s])}return n}function Bv(a,t){if(a==null)return{};var n={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;n[s]=a[s]}return n}function xu(){return xu=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},xu.apply(this,arguments)}function qm(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,s)}return n}function Eu(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qm(Object(n),!0).forEach(function(s){Hv(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):qm(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function Hv(a,t,n){return t=Kv(t),t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function Kv(a){var t=qv(a,"string");return typeof t=="symbol"?t:t+""}function qv(a,t){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var s=n.call(a,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function r1(a){return a&&a.map((t,n)=>Bs.createElement(t.tag,Eu({key:n},t.attr),r1(t.child)))}function Xe(a){return t=>Bs.createElement(Vv,xu({attr:Eu({},a.attr)},t),r1(a.child))}function Vv(a){var t=n=>{var{attr:s,size:r,title:u}=a,c=Xv(a,Yv),h=r||n.size||"1em",d;return n.className&&(d=n.className),a.className&&(d=(d?d+" ":"")+a.className),Bs.createElement("svg",xu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:d,style:Eu(Eu({color:a.color||n.color},n.style),a.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),u&&Bs.createElement("title",null,u),a.children)};return Km!==void 0?Bs.createElement(Km.Consumer,null,n=>t(n)):t(l1)}function Wv(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(a)}function Qv(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"},child:[]}]})(a)}function Jv(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(a)}function Vm(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(a)}function o1(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(a)}function $v(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(a)}function tx(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(a)}function Wm(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(a)}function ex(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(a)}function nx(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(a)}function Qm(a){return Xe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(a)}function u1(a){return Xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(a)}function ix(a){return Xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(a)}function sx(a){return Xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(a)}function ax(a){return Xe({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10 2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"},child:[]}]})(a)}const We={ADD:"add",REMOVE:"remove"},sl={PROPERTYCHANGE:"propertychange"},Tt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class ju{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function lx(a,t,n){let s,r;n=n||Ti;let u=0,c=a.length,h=!1;for(;u<c;)s=u+(c-u>>1),r=+n(a[s],t),r<0?u=s+1:(c=s,h=!r);return h?u:~u}function Ti(a,t){return a>t?1:a<t?-1:0}function rx(a,t){return a<t?1:a>t?-1:0}function gd(a,t,n){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const u=a[r];if(u===t)return r;if(u<t)return n(t,a[r-1],u)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function ox(a,t,n){for(;t<n;){const s=a[t];a[t]=a[n],a[n]=s,++t,--n}}function ku(a,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)a[a.length]=n[r]}function ms(a,t){const n=a.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(a[s]!==t[s])return!1;return!0}function ux(a,t,n){const s=t||Ti;return a.every(function(r,u){if(u===0)return!0;const c=s(a[u-1],r);return!(c>0||c===0)})}function wr(){return!0}function Gu(){return!1}function Ar(){}function c1(a){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!ms(r,n))&&(s=this,n=r,t=a.apply(this,arguments)),t}}function cx(a){function t(){let n;try{n=a()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function Ur(a){for(const t in a)delete a[t]}function al(a){let t;for(t in a)return!1;return!t}class wi{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Uu extends ju{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const u=n?new wi(t):t;u.target||(u.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let d;for(let _=0,m=r.length;_<m;++_)if("handleEvent"in r[_]?d=r[_].handleEvent(u):d=r[_].call(this,u),d===!1||u.propagationStopped){d=!1;break}if(--c[s]===0){let _=h[s];for(delete h[s];_--;)this.removeEventListener(s,Ar);delete c[s]}return d}disposeInternal(){this.listeners_&&Ur(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=Ar,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function kt(a,t,n,s,r){if(r){const c=n;n=function(h){return a.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==a&&(n=n.bind(s));const u={target:a,type:t,listener:n};return a.addEventListener(t,n),u}function Su(a,t,n,s){return kt(a,t,n,s,!0)}function ne(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),Ur(a))}class Pr extends Uu{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Tt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=kt(this,t[u],n);return r}return kt(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let u=0;u<r;++u)s[u]=Su(this,t[u],n)}else s=Su(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)hx(s);else if(Array.isArray(t))for(let r=0,u=t.length;r<u;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}Pr.prototype.on;Pr.prototype.once;Pr.prototype.un;function hx(a){if(Array.isArray(a))for(let t=0,n=a.length;t<n;++t)ne(a[t]);else ne(a)}function Ut(){throw new Error("Unimplemented abstract method.")}let fx=0;function Pt(a){return a.ol_uid||(a.ol_uid=String(++fx))}class Jm extends wi{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class Fn extends Pr{constructor(t){super(),this.on,this.once,this.un,Pt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new Jm(s,t,n)),s=sl.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new Jm(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const u=r[t];r[t]=n,u!==n&&this.notify(t,u)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],al(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const $m={LENGTH:"length"};class ru extends wi{constructor(t,n,s){super(t),this.element=n,this.index=s}}class ti extends Fn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get($m.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new ru(We.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new ru(We.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new ru(We.REMOVE,r,t)),this.dispatchEvent(new ru(We.ADD,n,t))}updateLength_(){this.set($m.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}class qa extends wi{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class os extends qa{constructor(t,n,s,r,u,c){super(t,n,u),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ue={SINGLECLICK:"singleclick",CLICK:Tt.CLICK,DBLCLICK:Tt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},qs=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",dx=qs.includes("safari")&&!qs.includes("chrom");dx&&(qs.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(qs));const gx=qs.includes("webkit")&&!qs.includes("edge"),h1=qs.includes("macintosh"),_x=typeof devicePixelRatio<"u"?devicePixelRatio:1,_d=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,f1=typeof Image<"u"&&Image.prototype.decode,d1=(function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a})(),Vf={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class mx extends Uu{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=kt(s,Vf.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=kt(s,Vf.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Tt.TOUCHMOVE,this.boundHandleTouchMove_,d1?{passive:!1}:!1)}emulateClick_(t){let n=new os(ue.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new os(ue.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new os(ue.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==ue.POINTERUP||n.type==ue.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==ue.POINTERDOWN||n.type==ue.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new os(ue.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(ne),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new os(ue.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(kt(s,ue.POINTERMOVE,this.handlePointerMove_,this),kt(s,ue.POINTERUP,this.handlePointerUp_,this),kt(this.element_,ue.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(kt(this.element_.getRootNode(),ue.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new os(ue.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new os(ue.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(ne(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Tt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(ne(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(ne),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Ei={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Ge={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},gt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Yt(a,t){if(!a)throw new Error(t)}const Tu=1/0;class px{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ur(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){Yt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Tu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,u=n[t],c=s[t],h=t;for(;t<r>>1;){const d=this.getLeftChildIndex_(t),_=this.getRightChildIndex_(t),m=_<r&&s[_]<s[d]?_:d;n[t]=n[m],s[t]=s[m],t=m}n[t]=u,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,u=s[n],c=r[n];for(;n>t;){const h=this.getParentIndex_(n);if(r[h]>c)s[n]=s[h],r[n]=r[h],n=h;else break}s[n]=u,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const u=n.length;let c,h,d;for(h=0;h<u;++h)c=n[h],d=t(c),d==Tu?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=d,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class yx extends px{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(Tt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===gt.LOADED||s===gt.ERROR||s===gt.EMPTY){s!==gt.ERROR&&n.removeEventListener(Tt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],u=r.getKey();r.getState()===gt.IDLE&&!(u in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[u]=!0,++this.tilesLoading_,++s,r.load())}}}function vx(a,t,n,s,r){if(!a||!(n in a.wantedTiles)||!a.wantedTiles[n][t.getKey()])return Tu;const u=a.viewState.center,c=s[0]-u[0],h=s[1]-u[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}const Ue={ANIMATING:0,INTERACTING:1},jn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function ae(a,t,n){return Math.min(Math.max(a,t),n)}function xx(a,t,n,s,r,u){const c=r-n,h=u-s;if(c!==0||h!==0){const d=((a-n)*c+(t-s)*h)/(c*c+h*h);d>1?(n=r,s=u):d>0&&(n+=c*d,s+=h*d)}return tl(a,t,n,s)}function tl(a,t,n,s){const r=n-a,u=s-t;return r*r+u*u}function Ex(a){const t=a.length;for(let s=0;s<t;s++){let r=s,u=Math.abs(a[s][s]);for(let h=s+1;h<t;h++){const d=Math.abs(a[h][s]);d>u&&(u=d,r=h)}if(u===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let h=s+1;h<t;h++){const d=-a[h][s]/a[s][s];for(let _=s;_<t+1;_++)s==_?a[h][_]=0:a[h][_]+=d*a[s][_]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*n[s]}return n}function tp(a){return a*180/Math.PI}function ds(a){return a*Math.PI/180}function Hs(a,t){const n=a%t;return n*t<0?n+t:n}function dn(a,t,n){return a+n*(t-a)}function Pu(a,t){const n=Math.pow(10,t);return Math.round(a*n)/n}function ou(a,t){return Math.floor(Pu(a,t))}function uu(a,t){return Math.ceil(Pu(a,t))}function Wf(a,t,n){if(a>=t&&a<n)return a;const s=n-t;return((a-t)%s+s)%s+t}function ep(a,t,n){return(function(s,r,u,c,h){if(!s)return;if(!r&&!t)return s;const d=t?0:u[0]*r,_=t?0:u[1]*r,m=h?h[0]:0,p=h?h[1]:0;let v=a[0]+d/2+m,E=a[2]-d/2+m,T=a[1]+_/2+p,w=a[3]-_/2+p;v>E&&(v=(E+v)/2,E=v),T>w&&(T=(w+T)/2,w=T);let C=ae(s[0],v,E),M=ae(s[1],T,w);if(c&&n&&r){const N=30*r;C+=-N*Math.log(1+Math.max(0,v-s[0])/N)+N*Math.log(1+Math.max(0,s[0]-E)/N),M+=-N*Math.log(1+Math.max(0,T-s[1])/N)+N*Math.log(1+Math.max(0,s[1]-w)/N)}return[C,M]})}function Sx(a){return a}const we={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function np(a){const t=An();for(let n=0,s=a.length;n<s;++n)br(t,a[n]);return t}function md(a,t,n){return n?(n[0]=a[0]-t,n[1]=a[1]-t,n[2]=a[2]+t,n[3]=a[3]+t,n):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function g1(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function pd(a,t,n){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,n<a[1]?r=a[1]-n:a[3]<n?r=n-a[3]:r=0,s*s+r*r}function ll(a,t){return _1(a,t[0],t[1])}function Ja(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function _1(a,t,n){return a[0]<=t&&t<=a[2]&&a[1]<=n&&n<=a[3]}function Qf(a,t){const n=a[0],s=a[1],r=a[2],u=a[3],c=t[0],h=t[1];let d=we.UNKNOWN;return c<n?d=d|we.LEFT:c>r&&(d=d|we.RIGHT),h<s?d=d|we.BELOW:h>u&&(d=d|we.ABOVE),d===we.UNKNOWN&&(d=we.INTERSECTING),d}function An(){return[1/0,1/0,-1/0,-1/0]}function _s(a,t,n,s,r){return r?(r[0]=a,r[1]=t,r[2]=n,r[3]=s,r):[a,t,n,s]}function Fu(a){return _s(1/0,1/0,-1/0,-1/0,a)}function m1(a,t){const n=a[0],s=a[1];return _s(n,s,n,s,t)}function yd(a,t,n,s,r){const u=Fu(r);return p1(u,a,t,n,s)}function Mr(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function Tx(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function br(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function p1(a,t,n,s,r){for(;n<s;n+=r)Rx(a,t[n],t[n+1]);return a}function Rx(a,t,n){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],n),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],n)}function y1(a,t){let n;return n=t(Zu(a)),n||(n=t(Yu(a)),n)||(n=t(Xu(a)),n)||(n=t(Qs(a)),n)?n:!1}function Jf(a){let t=0;return Bu(a)||(t=qt(a)*Ye(a)),t}function Zu(a){return[a[0],a[1]]}function Yu(a){return[a[2],a[1]]}function Vs(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function bx(a,t){let n;if(t==="bottom-left")n=Zu(a);else if(t==="bottom-right")n=Yu(a);else if(t==="top-left")n=Qs(a);else if(t==="top-right")n=Xu(a);else throw new Error("Invalid corner");return n}function $f(a,t,n,s,r){const[u,c,h,d,_,m,p,v]=v1(a,t,n,s);return _s(Math.min(u,h,_,p),Math.min(c,d,m,v),Math.max(u,h,_,p),Math.max(c,d,m,v),r)}function v1(a,t,n,s){const r=t*s[0]/2,u=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),d=r*c,_=r*h,m=u*c,p=u*h,v=a[0],E=a[1];return[v-d+p,E-_-m,v-d-p,E-_+m,v+d-p,E+_+m,v+d+p,E+_-m,v-d+p,E-_-m]}function Ye(a){return a[3]-a[1]}function Ks(a,t,n){const s=n||An();return $e(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):Fu(s),s}function Qs(a){return[a[0],a[3]]}function Xu(a){return[a[2],a[3]]}function qt(a){return a[2]-a[0]}function $e(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function Bu(a){return a[2]<a[0]||a[3]<a[1]}function Cx(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function wx(a,t,n){let s=!1;const r=Qf(a,t),u=Qf(a,n);if(r===we.INTERSECTING||u===we.INTERSECTING)s=!0;else{const c=a[0],h=a[1],d=a[2],_=a[3],m=t[0],p=t[1],v=n[0],E=n[1],T=(E-p)/(v-m);let w,C;u&we.ABOVE&&!(r&we.ABOVE)&&(w=v-(E-_)/T,s=w>=c&&w<=d),!s&&u&we.RIGHT&&!(r&we.RIGHT)&&(C=E-(v-d)*T,s=C>=h&&C<=_),!s&&u&we.BELOW&&!(r&we.BELOW)&&(w=v-(E-h)/T,s=w>=c&&w<=d),!s&&u&we.LEFT&&!(r&we.LEFT)&&(C=E-(v-c)*T,s=C>=h&&C<=_)}return s}function x1(a,t){const n=t.getExtent(),s=Vs(a);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=qt(n),c=Math.floor((s[0]-n[0])/r)*r;a[0]-=c,a[2]-=c}return a}function E1(a,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];x1(a,t);const r=qt(s);if(qt(a)>r&&!n)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function Ax(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function Ru(a,t){let n=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){n=!1;break}return n}function vd(a,t){const n=Math.cos(t),s=Math.sin(t),r=a[0]*n-a[1]*s,u=a[1]*n+a[0]*s;return a[0]=r,a[1]=u,a}function Mx(a,t){return a[0]*=t,a[1]*=t,a}function S1(a,t){if(t.canWrapX()){const n=qt(t.getExtent()),s=Ox(a,t,n);s&&(a[0]-=s*n)}return a}function Ox(a,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(n=n||qt(s),r=Math.floor((a[0]-s[0])/n)),r}function T1(a){return Math.pow(a,3)}function fl(a){return 1-T1(1-a)}function Dx(a){return 3*a*a-2*a*a*a}function Lx(a){return a}const Nx=63710088e-1;function ip(a,t,n){n=n||Nx;const s=ds(a[1]),r=ds(t[1]),u=(r-s)/2,c=ds(t[0]-a[0])/2,h=Math.sin(u)*Math.sin(u)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function R1(...a){console.warn(...a)}const xd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ed{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||xd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Fr=6378137,$a=Math.PI*Fr,Ix=[-$a,-$a,$a,$a],zx=[-180,-85,180,85],cu=Fr*Math.log(Math.tan(Math.PI/2));class Fa extends Ed{constructor(t){super({code:t,units:"m",extent:Ix,global:!0,worldExtent:zx,getPointResolution:function(n,s){return n/Math.cosh(s[1]/Fr)}})}}const sp=[new Fa("EPSG:3857"),new Fa("EPSG:102100"),new Fa("EPSG:102113"),new Fa("EPSG:900913"),new Fa("http://www.opengis.net/def/crs/EPSG/0/3857"),new Fa("http://www.opengis.net/gml/srs/epsg.xml#3857")];function jx(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s){t[u]=$a*a[u]/180;let c=Fr*Math.log(Math.tan(Math.PI*(+a[u+1]+90)/360));c>cu?c=cu:c<-cu&&(c=-cu),t[u+1]=c}return t}function kx(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let u=0;u<r;u+=s)t[u]=180*a[u]/$a,t[u+1]=360*Math.atan(Math.exp(a[u+1]/Fr))/Math.PI-90;return t}const Gx=6378137,ap=[-180,-90,180,90],Ux=Math.PI*Gx/180;class js extends Ed{constructor(t,n){super({code:t,units:"degrees",extent:ap,axisOrientation:n,global:!0,metersPerUnit:Ux,worldExtent:ap})}}const lp=[new js("CRS:84"),new js("EPSG:4326","neu"),new js("urn:ogc:def:crs:OGC:1.3:CRS84"),new js("urn:ogc:def:crs:OGC:2:84"),new js("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new js("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new js("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let td={};function Px(a){return td[a]||td[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Fx(a,t){td[a]=t}let el={};function Or(a,t,n){const s=a.getCode(),r=t.getCode();s in el||(el[s]={}),el[s][r]=n}function Sf(a,t){return a in el&&t in el[a]?el[a][t]:null}const bu=.9996,wn=.00669438,Hu=wn*wn,Ku=Hu*wn,Ps=wn/(1-wn),rp=Math.sqrt(1-wn),rl=(1-rp)/(1+rp),b1=rl*rl,Sd=b1*rl,Td=Sd*rl,C1=Td*rl,w1=1-wn/4-3*Hu/64-5*Ku/256,Zx=3*wn/8+3*Hu/32+45*Ku/1024,Yx=15*Hu/256+45*Ku/1024,Xx=35*Ku/3072,Bx=3/2*rl-27/32*Sd+269/512*C1,Hx=21/16*b1-55/32*Td,Kx=151/96*Sd-417/128*C1,qx=1097/512*Td,Cu=6378137;function Vx(a,t,n){const s=a-5e5,c=(n.north?t:t-1e7)/bu/(Cu*w1),h=c+Bx*Math.sin(2*c)+Hx*Math.sin(4*c)+Kx*Math.sin(6*c)+qx*Math.sin(8*c),d=Math.sin(h),_=d*d,m=Math.cos(h),p=d/m,v=p*p,E=v*v,T=1-wn*_,w=Math.sqrt(1-wn*_),C=Cu/w,M=(1-wn)/T,N=Ps*m**2,P=N*N,L=s/(C*bu),O=L*L,H=O*L,V=H*L,K=V*L,Q=K*L,$=h-p/M*(O/2-V/24*(5+3*v+10*N-4*P-9*Ps))+Q/720*(61+90*v+298*N+45*E-252*Ps-3*P);let ot=(L-H/6*(1+2*v+N)+K/120*(5-2*N+28*v-3*P+8*Ps+24*E))/m;return ot=Wf(ot+ds(A1(n.number)),-Math.PI,Math.PI),[tp(ot),tp($)]}const op=-80,up=84,Wx=-180,Qx=180;function Jx(a,t,n){a=Wf(a,Wx,Qx),t<op?t=op:t>up&&(t=up);const s=ds(t),r=Math.sin(s),u=Math.cos(s),c=r/u,h=c*c,d=h*h,_=ds(a),m=A1(n.number),p=ds(m),v=Cu/Math.sqrt(1-wn*r**2),E=Ps*u**2,T=u*Wf(_-p,-Math.PI,Math.PI),w=T*T,C=w*T,M=C*T,N=M*T,P=N*T,L=Cu*(w1*s-Zx*Math.sin(2*s)+Yx*Math.sin(4*s)-Xx*Math.sin(6*s)),O=bu*v*(T+C/6*(1-h+E)+N/120*(5-18*h+d+72*E-58*Ps))+5e5;let H=bu*(L+v*c*(w/2+M/24*(5-h+9*E+4*E**2)+P/720*(61-58*h+d+600*E-330*Ps)));return n.north||(H+=1e7),[O,H]}function A1(a){return(a-1)*6-180+3}const $x=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function M1(a){let t=0;for(const r of $x){const u=a.match(r);if(u){t=parseInt(u[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function cp(a,t){return function(n,s,r,u){const c=n.length;r=r>1?r:2,u=u??r,s||(r>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=u){const d=n[h],_=n[h+1],m=a(d,_,t);s[h]=m[0],s[h+1]=m[1]}return s}}function tE(a){return M1(a)?new Ed({code:a,units:"m"}):null}function eE(a){const t=M1(a.getCode());return t?{forward:cp(Jx,t),inverse:cp(Vx,t)}:null}const nE=[eE],iE=[tE];let ed=!0;function O1(a){ed=!1}function Rd(a,t){if(t!==void 0){for(let n=0,s=a.length;n<s;++n)t[n]=a[n];t=t}else t=a.slice();return t}function nd(a){Fx(a.getCode(),a),Or(a,a,Rd)}function sE(a){a.forEach(nd)}function nn(a){if(typeof a!="string")return a;const t=Px(a);if(t)return t;for(const n of iE){const s=n(a);if(s)return s}return null}function hp(a,t,n,s){a=nn(a);let r;const u=a.getPointResolutionFunc();if(u)r=u(t,n);else{const c=a.getUnits();if(c=="degrees"&&!s||s=="degrees")r=t;else{const h=Cd(a,nn("EPSG:4326"));if(!h&&c!=="degrees")r=t*a.getMetersPerUnit();else{let _=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];_=h(_,_,2);const m=ip(_.slice(0,2),_.slice(2,4)),p=ip(_.slice(4,6),_.slice(6,8));r=(m+p)/2}const d=a.getMetersPerUnit();d!==void 0&&(r/=d)}}return r}function fp(a){sE(a),a.forEach(function(t){a.forEach(function(n){t!==n&&Or(t,n,Rd)})})}function aE(a,t,n,s){a.forEach(function(r){t.forEach(function(u){Or(r,u,n),Or(u,r,s)})})}function bd(a,t){return a?typeof a=="string"?nn(a):a:nn(t)}function lE(a){return(function(t,n,s,r){const u=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(u);for(let c=0;c<u;c+=r){const h=a(t.slice(c,c+s)),d=h.length;for(let _=0,m=r;_<m;++_)n[c+_]=_>=d?t[c+_]:h[_]}return n})}function cs(a,t){return O1(),qu(a,"EPSG:4326","EPSG:3857")}function Tf(a,t){const n=qu(a,"EPSG:3857","EPSG:4326"),s=n[0];return(s<-180||s>180)&&(n[0]=Hs(s+180,360)-180),n}function Rf(a,t){if(a===t)return!0;const n=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||Cd(a,t)===Rd)&&n}function Cd(a,t){const n=a.getCode(),s=t.getCode();let r=Sf(n,s);if(r)return r;let u=null,c=null;for(const d of nE)u||(u=d(a)),c||(c=d(t));if(!u&&!c)return null;const h="EPSG:4326";if(c)if(u)r=bf(u.inverse,c.forward);else{const d=Sf(n,h);d&&(r=bf(d,c.forward))}else{const d=Sf(h,s);d&&(r=bf(u.inverse,d))}return r&&(nd(a),nd(t),Or(a,t,r)),r}function bf(a,t){return function(n,s,r,u){return s=a(n,s,r,u),t(s,s,r,u)}}function wu(a,t){const n=nn(a),s=nn(t);return Cd(n,s)}function qu(a,t,n){const s=wu(t,n);if(!s){const r=nn(t).getCode(),u=nn(n).getCode();throw new Error(`No transform available between ${r} and ${u}`)}return s(a,void 0,a.length)}function id(a,t){return a}function xi(a,t){return ed&&!Ru(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(ed=!1,R1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function D1(a,t){return a}function hs(a,t){return a}function rE(){fp(sp),fp(lp),aE(lp,sp,jx,kx)}rE();new Array(6);function Un(){return[1,0,0,1,0,0]}function oE(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function Ae(a,t){const n=t[0],s=t[1];return t[0]=a[0]*n+a[2]*s+a[4],t[1]=a[1]*n+a[3]*s+a[5],t}function Ci(a,t,n,s,r,u,c,h){const d=Math.sin(u),_=Math.cos(u);return a[0]=s*_,a[1]=r*d,a[2]=-s*d,a[3]=r*_,a[4]=c*s*_-h*s*d+t,a[5]=c*r*d+h*r*_+n,a}function L1(a,t){const n=uE(t);Yt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],u=t[2],c=t[3],h=t[4],d=t[5];return a[0]=c/n,a[1]=-r/n,a[2]=-u/n,a[3]=s/n,a[4]=(u*d-c*h)/n,a[5]=-(s*d-r*h)/n,a}function uE(a){return a[0]*a[3]-a[1]*a[2]}const cE=[1e5,1e5,1e5,1e5,2,2];function hE(a){return"matrix("+a.join(", ")+")"}function dp(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function fE(a,t){const n=dp(a),s=dp(t);for(let r=0;r<6;++r)if(Math.round((n[r]-s[r])*cE[r])!==0)return!1;return!0}function gs(a,t,n,s,r,u,c){u=u||[],c=c||2;let h=0;for(let d=t;d<n;d+=s){const _=a[d],m=a[d+1];u[h++]=r[0]*_+r[2]*m+r[4],u[h++]=r[1]*_+r[3]*m+r[5];for(let p=2;p<c;p++)u[h++]=a[d+p]}return u&&u.length!=h&&(u.length=h),u}function N1(a,t,n,s,r,u,c){c=c||[];const h=Math.cos(r),d=Math.sin(r),_=u[0],m=u[1];let p=0;for(let v=t;v<n;v+=s){const E=a[v]-_,T=a[v+1]-m;c[p++]=_+E*h-T*d,c[p++]=m+E*d+T*h;for(let w=v+2;w<v+s;++w)c[p++]=a[w]}return c&&c.length!=p&&(c.length=p),c}function dE(a,t,n,s,r,u,c,h){h=h||[];const d=c[0],_=c[1];let m=0;for(let p=t;p<n;p+=s){const v=a[p]-d,E=a[p+1]-_;h[m++]=d+r*v,h[m++]=_+u*E;for(let T=p+2;T<p+s;++T)h[m++]=a[T]}return h&&h.length!=m&&(h.length=m),h}function gE(a,t,n,s,r,u,c){c=c||[];let h=0;for(let d=t;d<n;d+=s){c[h++]=a[d]+r,c[h++]=a[d+1]+u;for(let _=d+2;_<d+s;++_)c[h++]=a[_]}return c&&c.length!=h&&(c.length=h),c}const gp=Un(),_E=[NaN,NaN];class mE extends Fn{constructor(){super(),this.extent_=An(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=c1((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Ut()}closestPointXY(t,n,s,r){return Ut()}containsXY(t,n){return this.closestPointXY(t,n,_E,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Ut()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&Fu(n),this.extentRevision_=this.getRevision()}return Cx(this.extent_,t)}rotate(t,n){Ut()}scale(t,n,s){Ut()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Ut()}getType(){return Ut()}applyTransform(t){Ut()}intersectsExtent(t){return Ut()}translate(t,n){Ut()}transform(t,n){const s=nn(t),r=s.getUnits()=="tile-pixels"?function(u,c,h){const d=s.getExtent(),_=s.getWorldExtent(),m=Ye(_)/Ye(d);Ci(gp,_[0],_[3],m,-m,0,0,0);const p=gs(u,0,u.length,h,gp,c),v=wu(s,n);return v?v(p,p,h):p}:wu(s,n);return this.applyTransform(r),this}}class Vu extends mE{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return yd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Ut()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=_p(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Ut()}setLayout(t,n,s){let r;if(t)r=_p(t);else{for(let u=0;u<s;++u){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=pE(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();N1(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=Vs(this.getExtent()));const r=this.getFlatCoordinates();if(r){const u=this.getStride();dE(r,0,r.length,u,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();gE(s,0,s.length,r,t,n,s),this.changed()}}}function pE(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function _p(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function yE(a,t,n){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return gs(s,0,s.length,r,t,n)}function I1(a,t,n,s){let r=0;const u=a[n-s],c=a[n-s+1];let h=0,d=0;for(;t<n;t+=s){const _=a[t]-u,m=a[t+1]-c;r+=d*_-h*m,h=_,d=m}return r/2}function vE(a,t,n,s){let r=0;for(let u=0,c=n.length;u<c;++u){const h=n[u];r+=I1(a,t,h,s),t=h}return r}function mp(a,t,n,s,r,u,c){const h=a[t],d=a[t+1],_=a[n]-h,m=a[n+1]-d;let p;if(_===0&&m===0)p=t;else{const v=((r-h)*_+(u-d)*m)/(_*_+m*m);if(v>1)p=n;else if(v>0){for(let E=0;E<s;++E)c[E]=dn(a[t+E],a[n+E],v);c.length=s;return}else p=t}for(let v=0;v<s;++v)c[v]=a[p+v];c.length=s}function wd(a,t,n,s,r){let u=a[t],c=a[t+1];for(t+=s;t<n;t+=s){const h=a[t],d=a[t+1],_=tl(u,c,h,d);_>r&&(r=_),u=h,c=d}return r}function xE(a,t,n,s,r){for(let u=0,c=n.length;u<c;++u){const h=n[u];r=wd(a,t,h,s,r),t=h}return r}function Ad(a,t,n,s,r,u,c,h,d,_,m){if(t==n)return _;let p,v;if(r===0){if(v=tl(c,h,a[t],a[t+1]),v<_){for(p=0;p<s;++p)d[p]=a[t+p];return d.length=s,v}return _}m=m||[NaN,NaN];let E=t+s;for(;E<n;)if(mp(a,E-s,E,s,c,h,m),v=tl(c,h,m[0],m[1]),v<_){for(_=v,p=0;p<s;++p)d[p]=m[p];d.length=s,E+=s}else E+=s*Math.max((Math.sqrt(v)-Math.sqrt(_))/r|0,1);if(u&&(mp(a,n-s,t,s,c,h,m),v=tl(c,h,m[0],m[1]),v<_)){for(_=v,p=0;p<s;++p)d[p]=m[p];d.length=s}return _}function EE(a,t,n,s,r,u,c,h,d,_,m){m=m||[NaN,NaN];for(let p=0,v=n.length;p<v;++p){const E=n[p];_=Ad(a,t,E,s,r,u,c,h,d,_,m),t=E}return _}function SE(a,t,n,s){for(let r=0,u=n.length;r<u;++r)a[t++]=n[r];return t}function Md(a,t,n,s){for(let r=0,u=n.length;r<u;++r){const c=n[r];for(let h=0;h<s;++h)a[t++]=c[h]}return t}function TE(a,t,n,s,r){r=r||[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=Md(a,t,n[c],s);r[u++]=d,t=d}return r.length=u,r}function Fs(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=t;c<n;c+=s)r[u++]=a.slice(c,c+s);return r.length=u,r}function Au(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[u++]=Fs(a,t,d,s,r[u]),t=d}return r.length=u,r}function pp(a,t,n,s,r){r=r!==void 0?r:[];let u=0;for(let c=0,h=n.length;c<h;++c){const d=n[c];r[u++]=d.length===1&&d[0]===t?[]:Au(a,t,d,s,r[u]),t=d[d.length-1]}return r.length=u,r}function Wu(a,t,n,s,r,u,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)u[c++]=a[t],u[c++]=a[t+1];return c}const d=new Array(h);d[0]=1,d[h-1]=1;const _=[t,n-s];let m=0;for(;_.length>0;){const p=_.pop(),v=_.pop();let E=0;const T=a[v],w=a[v+1],C=a[p],M=a[p+1];for(let N=v+s;N<p;N+=s){const P=a[N],L=a[N+1],O=xx(P,L,T,w,C,M);O>E&&(m=N,E=O)}E>r&&(d[(m-t)/s]=1,v+s<m&&_.push(v,m),m+s<p&&_.push(m,p))}for(let p=0;p<h;++p)d[p]&&(u[c++]=a[t+p*s],u[c++]=a[t+p*s+1]);return c}function RE(a,t,n,s,r,u,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=Wu(a,t,m,s,r,u,c),h.push(c),t=m}return c}function Gs(a,t){return t*Math.round(a/t)}function bE(a,t,n,s,r,u,c){if(t==n)return c;let h=Gs(a[t],r),d=Gs(a[t+1],r);t+=s,u[c++]=h,u[c++]=d;let _,m;do if(_=Gs(a[t],r),m=Gs(a[t+1],r),t+=s,t==n)return u[c++]=_,u[c++]=m,c;while(_==h&&m==d);for(;t<n;){const p=Gs(a[t],r),v=Gs(a[t+1],r);if(t+=s,p==_&&v==m)continue;const E=_-h,T=m-d,w=p-h,C=v-d;if(E*C==T*w&&(E<0&&w<E||E==w||E>0&&w>E)&&(T<0&&C<T||T==C||T>0&&C>T)){_=p,m=v;continue}u[c++]=_,u[c++]=m,h=_,d=m,_=p,m=v}return u[c++]=_,u[c++]=m,c}function z1(a,t,n,s,r,u,c,h){for(let d=0,_=n.length;d<_;++d){const m=n[d];c=bE(a,t,m,s,r,u,c),h.push(c),t=m}return c}class Dr extends Vu{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Dr(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<pd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ad(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return I1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Fs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=Wu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Dr(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Md(this.flatCoordinates,0,t,this.stride),this.changed()}}class Js extends Vu{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Js(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const u=this.flatCoordinates,c=tl(t,n,u[0],u[1]);if(c<r){const h=this.stride;for(let d=0;d<h;++d)s[d]=u[d];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return m1(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return _1(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=SE(this.flatCoordinates,0,t,this.stride),this.changed()}}function CE(a,t,n,s,r){return!y1(r,function(c){return!Zs(a,t,n,s,c[0],c[1])})}function Zs(a,t,n,s,r,u){let c=0,h=a[n-s],d=a[n-s+1];for(;t<n;t+=s){const _=a[t],m=a[t+1];d<=u?m>u&&(_-h)*(u-d)-(r-h)*(m-d)>0&&c++:m<=u&&(_-h)*(u-d)-(r-h)*(m-d)<0&&c--,h=_,d=m}return c!==0}function j1(a,t,n,s,r,u){if(n.length===0||!Zs(a,t,n[0],s,r,u))return!1;for(let c=1,h=n.length;c<h;++c)if(Zs(a,n[c-1],n[c],s,r,u))return!1;return!0}function Od(a,t,n,s,r,u,c){let h,d,_,m,p,v,E;const T=r[u+1],w=[];for(let N=0,P=n.length;N<P;++N){const L=n[N];for(m=a[L-s],v=a[L-s+1],h=t;h<L;h+=s)p=a[h],E=a[h+1],(T<=v&&E<=T||v<=T&&T<=E)&&(_=(T-v)/(E-v)*(p-m)+m,w.push(_)),m=p,v=E}let C=NaN,M=-1/0;for(w.sort(Ti),m=w[0],h=1,d=w.length;h<d;++h){p=w[h];const N=Math.abs(p-m);N>M&&(_=(m+p)/2,j1(a,t,n,s,_,T)&&(C=_,M=N)),m=p}return isNaN(C)&&(C=r[u]),c?(c.push(C,T,M),c):[C,T,M]}function wE(a,t,n,s,r){let u=[];for(let c=0,h=n.length;c<h;++c){const d=n[c];u=Od(a,t,d,s,r,2*c,u),t=d[d.length-1]}return u}function k1(a,t,n,s,r){let u;for(t+=s;t<n;t+=s)if(u=r(a.slice(t-s,t),a.slice(t,t+s)),u)return u;return!1}function Dd(a,t,n,s,r,u){return u=u??p1(An(),a,t,n,s),$e(r,u)?u[0]>=r[0]&&u[2]<=r[2]||u[1]>=r[1]&&u[3]<=r[3]?!0:k1(a,t,n,s,function(c,h){return wx(r,c,h)}):!1}function G1(a,t,n,s,r){return!!(Dd(a,t,n,s,r)||Zs(a,t,n,s,r[0],r[1])||Zs(a,t,n,s,r[0],r[3])||Zs(a,t,n,s,r[2],r[1])||Zs(a,t,n,s,r[2],r[3]))}function AE(a,t,n,s,r){if(!G1(a,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let u=1,c=n.length;u<c;++u)if(CE(a,n[u-1],n[u],s,r)&&!Dd(a,n[u-1],n[u],s,r))return!1;return!0}function ME(a,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const u=a[t+r];a[t+r]=a[n-s+r],a[n-s+r]=u}t+=s,n-=s}}function Ld(a,t,n,s){let r=0,u=a[n-s],c=a[n-s+1];for(;t<n;t+=s){const h=a[t],d=a[t+1];r+=(h-u)*(d+c),u=h,c=d}return r===0?void 0:r>0}function OE(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const h=n[u],d=Ld(a,t,h,s);if(u===0){if(r&&d||!r&&!d)return!1}else if(r&&!d||!r&&d)return!1;t=h}return!0}function yp(a,t,n,s,r){r=r!==void 0?r:!1;for(let u=0,c=n.length;u<c;++u){const h=n[u],d=Ld(a,t,h,s);(u===0?r&&d||!r&&!d:r&&!d||!r&&d)&&ME(a,t,h,s),t=h}return t}function DE(a,t){const n=[];let s=0,r=0,u;for(let c=0,h=t.length;c<h;++c){const d=t[c],_=Ld(a,s,d,2);if(u===void 0&&(u=_),_===u)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=d}return n}class Lr extends Vu{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?ku(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Lr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<pd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(xE(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),EE(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return j1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return vE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),yp(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Au(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Vs(this.getExtent());this.flatInteriorPoint_=Od(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Js(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Dr(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let u=0;for(let c=0,h=s.length;c<h;++c){const d=s[c],_=new Dr(n.slice(u,d),t);r.push(_),u=d}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;OE(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=yp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=z1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Lr(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return AE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=TE(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function vp(a){if(Bu(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],n=a[1],s=a[2],r=a[3],u=[t,n,t,r,s,r,s,n,t,n];return new Lr(u,"XY",[u.length])}function Nd(a,t,n,s){const r=qt(t)/n[0],u=Ye(t)/n[1];return s?Math.min(a,Math.max(r,u)):Math.min(a,Math.min(r,u))}function Id(a,t,n){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/a-1))/r+1),ae(s,n/2,t*2)}function LE(a,t,n,s){return t=t!==void 0?t:!0,(function(r,u,c,h){if(r!==void 0){const d=a[0],_=a[a.length-1],m=n?Nd(d,n,c,s):d;if(h)return t?Id(r,m,_):ae(r,_,m);const p=Math.min(m,r),v=Math.floor(gd(a,p,u));return a[v]>m&&v<a.length-1?a[v+1]:a[v]}})}function NE(a,t,n,s,r,u){return s=s!==void 0?s:!0,n=n!==void 0?n:0,(function(c,h,d,_){if(c!==void 0){const m=r?Nd(t,r,d,u):t;if(_)return s?Id(c,m,n):ae(c,n,m);const p=1e-9,v=Math.ceil(Math.log(t/m)/Math.log(a)-p),E=-h*(.5-p)+.5,T=Math.min(m,c),w=Math.floor(Math.log(t/T)/Math.log(a)+E),C=Math.max(v,w),M=t/Math.pow(a,C);return ae(M,n,m)}})}function xp(a,t,n,s,r){return n=n!==void 0?n:!0,(function(u,c,h,d){if(u!==void 0){const _=s?Nd(a,s,h,r):a;return!n||!d?ae(u,t,_):Id(u,_,t)}})}function zd(a){if(a!==void 0)return 0}function Ep(a){if(a!==void 0)return a}function IE(a){const t=2*Math.PI/a;return(function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n})}function zE(a){const t=ds(5);return(function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n})}const jE=42,jd=256,Cf=0;class Jn extends Fn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=bd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&O1(),t.center&&(t.center=xi(t.center,this.projection_)),t.extent&&(t.extent=hs(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in jn)delete n[h];this.setProperties(n,!0);const s=GE(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=kE(t),u=s.constraint,c=UE(t);this.constraints_={center:r,resolution:u,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const u=this.getResolution(),c=u/2*(r[3]-n[3]+n[1]-r[1]),h=u/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=xi(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=xi(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const m=arguments[r];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(r===n){s&&hu(s,!0);return}let u=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,d=this.targetRotation_;const _=[];for(;r<n;++r){const m=arguments[r],p={start:u,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||Dx,callback:s};if(m.center&&(p.sourceCenter=c,p.targetCenter=m.center.slice(),c=p.targetCenter),m.zoom!==void 0?(p.sourceResolution=h,p.targetResolution=this.getResolutionForZoom(m.zoom),h=p.targetResolution):m.resolution&&(p.sourceResolution=h,p.targetResolution=m.resolution,h=p.targetResolution),m.rotation!==void 0){p.sourceRotation=d;const v=Hs(m.rotation-d+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=d+v,d=p.targetRotation}PE(p)?p.complete=!0:u+=p.duration,_.push(p)}this.animations_.push(_),this.setHint(Ue.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Ue.ANIMATING]>0}getInteracting(){return this.hints_[Ue.INTERACTING]>0}cancelAnimations(){this.setHint(Ue.ANIMATING,-this.hints_[Ue.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&hu(r[0].callback,!1),!t)for(let u=0,c=r.length;u<c;++u){const h=r[u];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let u=!0;for(let c=0,h=r.length;c<h;++c){const d=r[c];if(d.complete)continue;const _=t-d.start;let m=d.duration>0?_/d.duration:1;m>=1?(d.complete=!0,m=1):u=!1;const p=d.easing(m);if(d.sourceCenter){const v=d.sourceCenter[0],E=d.sourceCenter[1],T=d.targetCenter[0],w=d.targetCenter[1];this.nextCenter_=d.targetCenter;const C=v+p*(T-v),M=E+p*(w-E);this.targetCenter_=[C,M]}if(d.sourceResolution&&d.targetResolution){const v=p===1?d.targetResolution:d.sourceResolution+p*(d.targetResolution-d.sourceResolution);if(d.anchor){const E=this.getViewportSize_(this.getRotation()),T=this.constraints_.resolution(v,0,E,!0);this.targetCenter_=this.calculateCenterZoom(T,d.anchor)}this.nextResolution_=d.targetResolution,this.targetResolution_=v,this.applyTargetState_(!0)}if(d.sourceRotation!==void 0&&d.targetRotation!==void 0){const v=p===1?Hs(d.targetRotation+Math.PI,2*Math.PI)-Math.PI:d.sourceRotation+p*(d.targetRotation-d.sourceRotation);if(d.anchor){const E=this.constraints_.rotation(v,!0);this.targetCenter_=this.calculateCenterRotate(E,d.anchor)}this.nextRotation_=d.targetRotation,this.targetRotation_=v}if(this.applyTargetState_(!0),n=!0,!d.complete)break}if(u){this.animations_[s]=null,this.setHint(Ue.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&hu(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],vd(s,t-this.getRotation()),Ax(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),u=this.getResolution();if(r!==void 0&&u!==void 0){const c=n[0]-t*(n[0]-r[0])/u,h=n[1]-t*(n[1]-r[1])/u;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&id(t,this.getProjection())}getCenterInternal(){return this.get(jn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return D1(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();Yt(n,"The view center is not defined");const s=this.getResolution();Yt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return Yt(r!==void 0,"The view rotation is not defined"),$f(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(jn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(hs(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=qt(t)/n[0],r=Ye(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return(function(u){return n/Math.pow(t,u*r)})}getRotation(){return this.get(jn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,u=Math.log(s/r)/n;return(function(c){return Math.log(s/c)/n/u})}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const u=this.padding_;if(u){const c=this.getViewportSizeMinusPadding_();r=wf(r,this.getViewportSize_(),[c[0]/2+u[3],c[1]/2+u[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const u=gd(this.resolutions_,t,1);n=u,s=this.resolutions_[u],u==this.resolutions_.length-1?r=2:r=s/this.resolutions_[u+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=ae(Math.floor(t),0,this.resolutions_.length-2),s=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(s,ae(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(Yt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Yt(!Bu(t),"Cannot fit empty extent provided as `geometry`");const r=hs(t,this.getProjection());s=vp(r)}else if(t.getType()==="Circle"){const r=hs(t.getExtent(),this.getProjection());s=vp(r),s.rotate(this.getRotation(),Vs(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),u=t.getFlatCoordinates(),c=t.getStride();let h=1/0,d=1/0,_=-1/0,m=-1/0;for(let p=0,v=u.length;p<v;p+=c){const E=u[p]*s-u[p+1]*r,T=u[p]*r+u[p+1]*s;h=Math.min(h,E),d=Math.min(d,T),_=Math.max(_,E),m=Math.max(m,T)}return[h,d,_,m]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],u=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let d=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);d=isNaN(d)?c:Math.max(d,c),d=this.getConstrainedResolution(d,u?0:1);const _=this.getRotation(),m=Math.sin(_),p=Math.cos(_),v=Vs(h);v[0]+=(r[1]-r[3])/2*d,v[1]+=(r[0]-r[2])/2*d;const E=v[0]*p-v[1]*m,T=v[1]*p+v[0]*m,w=this.getConstrainedCenter([E,T],d),C=n.callback?n.callback:Ar;n.duration!==void 0?this.animateInternal({resolution:d,center:w,duration:n.duration,easing:n.easing},C):(this.targetResolution_=d,this.targetCenter_=w,this.applyTargetState_(!1,!0),hu(C,!0))}centerOn(t,n,s){this.centerOnInternal(xi(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(wf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let u;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),d=wf(t,r,[h[0]/2+c[3],h[1]/2+c[0]],n,s);u=[t[0]-d[0],t[1]-d[1]]}return u}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=id(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&xi(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),u=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(u,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=xi(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&xi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),u=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,u,s),h=this.constraints_.center(this.targetCenter_,c,u,s,this.calculateCenterShift(this.targetCenter_,c,r,u));this.get(jn.ROTATION)!==r&&this.set(jn.ROTATION,r),this.get(jn.RESOLUTION)!==c&&(this.set(jn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(jn.CENTER)||!Ru(this.get(jn.CENTER),h))&&this.set(jn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,u=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(u),h=this.constraints_.resolution(this.targetResolution_,r,c),d=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,u,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=u,this.targetCenter_=d,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==u||!this.getCenterInternal()||!Ru(this.getCenterInternal(),d))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:u,center:d,resolution:h,duration:t,easing:fl,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Ue.INTERACTING,1)}endInteraction(t,n,s){s=s&&xi(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(Ue.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function hu(a,t){setTimeout(function(){a(t)},0)}function kE(a){if(a.extent!==void 0){const n=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return ep(a.extent,a.constrainOnlyCenter,n)}const t=bd(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,ep(n,!1,!1)}return Sx}function GE(a){let t,n,s,c=a.minZoom!==void 0?a.minZoom:Cf,h=a.maxZoom!==void 0?a.maxZoom:28;const d=a.zoomFactor!==void 0?a.zoomFactor:2,_=a.multiWorld!==void 0?a.multiWorld:!1,m=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,p=a.showFullExtent!==void 0?a.showFullExtent:!1,v=bd(a.projection,"EPSG:3857"),E=v.getExtent();let T=a.constrainOnlyCenter,w=a.extent;if(!_&&!w&&v.isGlobal()&&(T=!1,w=E),a.resolutions!==void 0){const C=a.resolutions;n=C[c],s=C[h]!==void 0?C[h]:C[C.length-1],a.constrainResolution?t=LE(C,m,!T&&w,p):t=xp(n,s,m,!T&&w,p)}else{const M=(E?Math.max(qt(E),Ye(E)):360*xd.degrees/v.getMetersPerUnit())/jd/Math.pow(2,Cf),N=M/Math.pow(2,28-Cf);n=a.maxResolution,n!==void 0?c=0:n=M/Math.pow(d,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=n/Math.pow(d,h):s=M/Math.pow(d,h):s=N),h=c+Math.floor(Math.log(n/s)/Math.log(d)),s=n/Math.pow(d,h-c),a.constrainResolution?t=NE(d,n,s,m,!T&&w,p):t=xp(n,s,m,!T&&w,p)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:d}}function UE(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const n=a.constrainRotation;return n===void 0||n===!0?zE():n===!1?Ep:typeof n=="number"?IE(n):Ep}return zd}function PE(a){return!(a.sourceCenter&&a.targetCenter&&!Ru(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function wf(a,t,n,s,r){const u=Math.cos(-r);let c=Math.sin(-r),h=a[0]*u-a[1]*c,d=a[1]*u+a[0]*c;h+=(t[0]/2-n[0])*s,d+=(n[1]-t[1]/2)*s,c=-c;const _=h*u-d*c,m=d*u+h*c;return[_,m]}const fu="ol-hidden",FE="ol-selectable",Qu="ol-unselectable",kd="ol-control",Sp="ol-collapsed",ZE=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),Tp=["style","variant","weight","size","lineHeight","family"],sd={normal:400,bold:700},ad=function(a){const t=a.match(ZE);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,r=Tp.length;s<r;++s){const u=t[s+1];u!==void 0&&(n[Tp[s]]=typeof u=="string"?u.trim():u)}return isNaN(Number(n.weight))&&n.weight in sd&&(n.weight=sd[n.weight]),n.families=n.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),n};function ve(a,t,n,s){let r;return n&&n.length?r=n.shift():_d?r=new OffscreenCanvas(a||300,t||300):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let Af;function Mu(){return Af||(Af=ve(1,1)),Af}function Ju(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function YE(a){let t=a.offsetWidth;const n=getComputedStyle(a);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function XE(a){let t=a.offsetHeight;const n=getComputedStyle(a);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function Rp(a,t){const n=t.parentNode;n&&n.replaceChild(a,t)}function U1(a){for(;a.lastChild;)a.lastChild.remove()}function BE(a,t){const n=a.childNodes;for(let s=0;;++s){const r=n[s],u=t[s];if(!r&&!u)break;if(r!==u){if(!r){a.appendChild(u);continue}if(!u){a.removeChild(r),--s;continue}a.insertBefore(u,r)}}}class Gd extends Fn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,s=this.listenerKeys.length;n<s;++n)ne(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){const n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Ar&&this.listenerKeys.push(kt(t,Ei.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class HE extends Gd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",u=t.collapseLabel!==void 0?t.collapseLabel:"›",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof u=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=u,this.collapseLabel_.className=c):this.collapseLabel_=u;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(d),this.toggleButton_.addEventListener(Tt.CLICK,this.handleClick_.bind(this),!1);const _=n+" "+Qu+" "+kd+(this.collapsed_&&this.collapsible_?" "+Sp:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=_,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(u=>u.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>cx(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!ms(n,this.renderedAttributions_)){U1(this.ulElement_);for(let r=0,u=n.length;r<u;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Sp),this.collapsed_?Rp(this.collapseLabel_,this.label_):Rp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class KE extends Gd{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"⇧",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const u=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=u,c.appendChild(this.label_),c.addEventListener(Tt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+Qu+" "+kd,d=this.element;d.className=h,d.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(fu)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:fl}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const u=this.element.classList.contains(fu);!u&&s===0?this.element.classList.add(fu):u&&s!==0&&this.element.classList.remove(fu)}this.label_.style.transform=r}this.rotation_=s}}class qE extends Gd{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",u=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",d=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",_=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=r,m.setAttribute("type","button"),m.title=d,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(Tt.CLICK,this.handleClick_.bind(this,s),!1);const p=document.createElement("button");p.className=u,p.setAttribute("type","button"),p.title=_,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(Tt.CLICK,this.handleClick_.bind(this,-s),!1);const v=n+" "+Qu+" "+kd,E=this.element;E.className=v,E.appendChild(m),E.appendChild(p),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const u=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:u,duration:this.duration_,easing:fl})):s.setZoom(u)}}}function VE(a){a=a||{};const t=new ti;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new qE(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new KE(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new HE(a.attributionOptions)),t}class WE{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const u=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,u),this.initialVelocity_=Math.sqrt(u*u+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const bp={ACTIVE:"active"};class Zr extends Fn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(bp.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(bp.ACTIVE,t)}setMap(t){this.map_=t}}function QE(a,t,n){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:n!==void 0?n:250,easing:Lx,center:a.getConstrainedCenter(r)})}}function Ud(a,t,n,s){const r=a.getZoom();if(r===void 0)return;const u=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(u);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:fl})}class JE extends Zr{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==ue.DBLCLICK){const s=t.originalEvent,r=t.map,u=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();Ud(h,c,u,this.duration_),s.preventDefault(),n=!0}return!n}}function ld(a){const t=arguments;return function(n){let s=!0;for(let r=0,u=t.length;r<u&&(s=s&&t[r](n),!!s);++r);return s}}const $E=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},tS=function(a){const t=a.map.getTargetElement(),n=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},P1=function(a){const t=a.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?tS(a):!0},eS=wr,F1=function(a){const t=a.originalEvent;return"pointerId"in t&&t.button==0&&!(gx&&h1&&t.ctrlKey)},Z1=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},nS=function(a){const t=a.originalEvent;return h1?t.metaKey:t.ctrlKey},iS=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Y1=function(a){const t=a.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Mf=function(a){const t=a.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},sS=function(a){const t=a.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class Yr extends Zr{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ue.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ue.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==ue.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==ue.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Pd(a){const t=a.length;let n=0,s=0;for(let r=0;r<t;r++)n+=a[r].clientX,s+=a[r].clientY;return{clientX:n/t,clientY:s/t}}class aS extends Yr{constructor(t){super({stopDown:Gu}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:ld(Z1,sS);this.condition_=t.onFocusOnly?ld(P1,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(Pd(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const u=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();Mx(u,h.getResolution()),vd(u,h.getRotation()),h.adjustCenterInternal(u)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),u=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),d=n.getCoordinateFromPixelInternal([h[0]-r*Math.cos(u),h[1]-r*Math.sin(u)]);s.animateInternal({center:s.getConstrainedCenter(d),duration:500,easing:fl})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class lS extends Yr{constructor(t){t=t||{},super({stopDown:Gu}),this.condition_=t.condition?t.condition:$E,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Mf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===zd)return;const r=n.getSize(),u=t.pixel,c=Math.atan2(r[1]/2-u[1],u[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Mf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Mf(t)&&F1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class rS extends ju{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Lr([r])}getGeometry(){return this.geometry_}}const Za={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class gr extends wi{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class oS extends Yr{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new rS(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??F1,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],u=s[1]-n[1];return r*r+u*u>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new gr(Za.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new gr(n?Za.BOXEND:Za.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new gr(Za.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gr(Za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new gr(Za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class uS extends oS{constructor(t){t=t||{};const n=t.condition?t.condition:iS;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const u=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(u),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:fl})}}const ks={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class cS extends Zr{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return Z1(n)&&Y1(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==Tt.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==ks.DOWN||r==ks.LEFT||r==ks.RIGHT||r==ks.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let d=0,_=0;r==ks.DOWN?_=-h:r==ks.LEFT?d=-h:r==ks.RIGHT?d=h:_=h;const m=[d,_];vd(m,c.getRotation()),QE(c,m,this.duration_),s.preventDefault(),n=!0}}return!n}}class hS extends Zr{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!nS(n)&&Y1(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==Tt.KEYDOWN||t.type==Tt.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const u=t.map,c=r==="+"?this.delta_:-this.delta_,h=u.getView();Ud(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}const fS=40,dS=300;class gS extends Zr{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:eS;this.condition_=t.onFocusOnly?ld(P1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==Tt.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let u=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:u*=fS;break;case WheelEvent.DOM_DELTA_PAGE:u*=dS;break}if(u===0)return!1;this.lastDelta_=u;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(u)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-u/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=u;const d=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),d),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-ae(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),Ud(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class _S extends Yr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Gu),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],u=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const d=u-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=d}this.lastAngle_=u;const c=t.map,h=c.getView();h.getConstraints().rotation!==zd&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Pd(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class mS extends Yr{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=Gu),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],u=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(u*u+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const d=t.map,_=d.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=d.getCoordinateFromPixelInternal(d.getEventPixel(Pd(this.targetPointers))),d.render(),_.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function pS(a){a=a||{};const t=new ti,n=new WE(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new lS),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new JE({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new aS({onFocusOnly:a.onFocusOnly,kinetic:n})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new _S),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new mS({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new cS),t.push(new hS({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new gS({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new uS({duration:a.zoomDuration})),t}const Kt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class X1 extends Fn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Kt.OPACITY]=t.opacity!==void 0?t.opacity:1,Yt(typeof n[Kt.OPACITY]=="number","Layer opacity must be a number"),n[Kt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Kt.Z_INDEX]=t.zIndex,n[Kt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Kt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Kt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Kt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=ae(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Ut()}getLayerStatesArray(t){return Ut()}getExtent(){return this.get(Kt.EXTENT)}getMaxResolution(){return this.get(Kt.MAX_RESOLUTION)}getMinResolution(){return this.get(Kt.MIN_RESOLUTION)}getMinZoom(){return this.get(Kt.MIN_ZOOM)}getMaxZoom(){return this.get(Kt.MAX_ZOOM)}getOpacity(){return this.get(Kt.OPACITY)}getSourceState(){return Ut()}getVisible(){return this.get(Kt.VISIBLE)}getZIndex(){return this.get(Kt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Kt.EXTENT,t)}setMaxResolution(t){this.set(Kt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Kt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Kt.MAX_ZOOM,t)}setMinZoom(t){this.set(Kt.MIN_ZOOM,t)}setOpacity(t){Yt(typeof t=="number","Layer opacity must be a number"),this.set(Kt.OPACITY,t)}setVisible(t){this.set(Kt.VISIBLE,t)}setZIndex(t){this.set(Kt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class us extends wi{constructor(t,n){super(t),this.layer=n}}const Of={LAYERS:"layers"};class dl extends X1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Of.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new ti(s.slice(),{unique:!0}):Yt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new ti(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(ne),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(kt(t,We.ADD,this.handleLayersAdd_,this),kt(t,We.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(ne);Ur(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const u=n[s];this.registerLayerListeners_(u),this.dispatchEvent(new us("addlayer",u))}this.changed()}registerLayerListeners_(t){const n=[kt(t,sl.PROPERTYCHANGE,this.handleLayerChange_,this),kt(t,Tt.CHANGE,this.handleLayerChange_,this)];t instanceof dl&&n.push(kt(t,"addlayer",this.handleLayerGroupAdd_,this),kt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Pt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new us("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new us("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new us("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=Pt(n);this.listenerKeys_[s].forEach(ne),delete this.listenerKeys_[s],this.dispatchEvent(new us("removelayer",n)),this.changed()}getLayers(){return this.get(Of.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,u=s.length;r<u;++r)this.dispatchEvent(new us("removelayer",s[r]))}this.set(Of.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let u=r.zIndex;!t&&r.zIndex===void 0&&(u=0);for(let c=s,h=n.length;c<h;c++){const d=n[c];d.opacity*=r.opacity,d.visible=d.visible&&r.visible,d.maxResolution=Math.min(d.maxResolution,r.maxResolution),d.minResolution=Math.max(d.minResolution,r.minResolution),d.minZoom=Math.max(d.minZoom,r.minZoom),d.maxZoom=Math.min(d.maxZoom,r.maxZoom),r.extent!==void 0&&(d.extent!==void 0?d.extent=Ks(d.extent,r.extent):d.extent=r.extent),d.zIndex===void 0&&(d.zIndex=u)}return n}getSourceState(){return"ready"}}const bn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class $u extends X1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Kt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Kt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(ne(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=kt(t,Tt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Jn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const u=this.getExtent();return Fd(r,n.viewState)&&(!u||$e(u,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const s=t instanceof Jn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Kt.MAP,t)}getMapInternal(){return this.get(Kt.MAP)}setMap(t){this.mapPrecomposeKey_&&(ne(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(ne(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=kt(t,bn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=kt(this,Tt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);Yt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Kt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Fd(a,t){if(!a.visible)return!1;const n=t.resolution;if(n<a.minResolution||n>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}function B1(a,t,n=0,s=a.length-1,r=yS){for(;s>n;){if(s-n>600){const d=s-n+1,_=t-n+1,m=Math.log(d),p=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*p*(d-p)/d)*(_-d/2<0?-1:1),E=Math.max(n,Math.floor(t-_*p/d+v)),T=Math.min(s,Math.floor(t+(d-_)*p/d+v));B1(a,t,E,T,r)}const u=a[t];let c=n,h=s;for(_r(a,n,t),r(a[s],u)>0&&_r(a,n,s);c<h;){for(_r(a,c,h),c++,h--;r(a[c],u)<0;)c++;for(;r(a[h],u)>0;)h--}r(a[n],u)===0?_r(a,n,h):(h++,_r(a,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function _r(a,t,n){const s=a[t];a[t]=a[n],a[n]=s}function yS(a,t){return a<t?-1:a>t?1:0}let H1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!gu(t,n))return s;const r=this.toBBox,u=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],d=n.leaf?r(h):h;gu(t,d)&&(n.leaf?s.push(h):Lf(t,d)?this._all(h,s):u.push(h))}n=u.pop()}return s}collides(t){let n=this.data;if(!gu(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const u=n.children[r],c=n.leaf?this.toBBox(u):u;if(gu(t,c)){if(n.leaf||Lf(t,c))return!0;s.push(u)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=Va([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),u=[],c=[];let h,d,_;for(;s||u.length;){if(s||(s=u.pop(),d=u[u.length-1],h=c.pop(),_=!0),s.leaf){const m=vS(t,s.children,n);if(m!==-1)return s.children.splice(m,1),u.push(s),this._condense(u),this}!_&&!s.leaf&&Lf(s,r)?(u.push(s),c.push(h),h=0,d=s,s=s.children[0]):d?(h++,s=d.children[h],_=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const u=s-n+1;let c=this._maxEntries,h;if(u<=c)return h=Va(t.slice(n,s+1)),Ya(h,this.toBBox),h;r||(r=Math.ceil(Math.log(u)/Math.log(c)),c=Math.ceil(u/Math.pow(c,r-1))),h=Va([]),h.leaf=!1,h.height=r;const d=Math.ceil(u/c),_=d*Math.ceil(Math.sqrt(c));Cp(t,n,s,_,this.compareMinX);for(let m=n;m<=s;m+=_){const p=Math.min(m+_-1,s);Cp(t,m,p,d,this.compareMinY);for(let v=m;v<=p;v+=d){const E=Math.min(v+d-1,p);h.children.push(this._build(t,v,E,r-1))}}return Ya(h,this.toBBox),h}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let u=1/0,c=1/0,h;for(let d=0;d<n.children.length;d++){const _=n.children[d],m=Df(_),p=SS(t,_)-m;p<c?(c=p,u=m<u?m:u,h=_):p===c&&m<u&&(u=m,h=_)}n=h||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),u=[],c=this._chooseSubtree(r,this.data,n,u);for(c.children.push(t),xr(c,r);n>=0&&u[n].children.length>this._maxEntries;)this._split(u,n),n--;this._adjustParentBBoxes(r,u,n)}_split(t,n){const s=t[n],r=s.children.length,u=this._minEntries;this._chooseSplitAxis(s,u,r);const c=this._chooseSplitIndex(s,u,r),h=Va(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Ya(s,this.toBBox),Ya(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=Va([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Ya(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,u=1/0,c=1/0;for(let h=n;h<=s-n;h++){const d=vr(t,0,h,this.toBBox),_=vr(t,h,s,this.toBBox),m=TS(d,_),p=Df(d)+Df(_);m<u?(u=m,r=h,c=p<c?p:c):m===u&&p<c&&(c=p,r=h)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:xS,u=t.leaf?this.compareMinY:ES,c=this._allDistMargin(t,n,s,r),h=this._allDistMargin(t,n,s,u);c<h&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const u=this.toBBox,c=vr(t,0,n,u),h=vr(t,s-n,s,u);let d=du(c)+du(h);for(let _=n;_<s-n;_++){const m=t.children[_];xr(c,t.leaf?u(m):m),d+=du(c)}for(let _=s-n-1;_>=n;_--){const m=t.children[_];xr(h,t.leaf?u(m):m),d+=du(h)}return d}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)xr(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Ya(t[n],this.toBBox)}};function vS(a,t,n){if(!n)return t.indexOf(a);for(let s=0;s<t.length;s++)if(n(a,t[s]))return s;return-1}function Ya(a,t){vr(a,0,a.children.length,t,a)}function vr(a,t,n,s,r){r||(r=Va(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let u=t;u<n;u++){const c=a.children[u];xr(r,a.leaf?s(c):c)}return r}function xr(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function xS(a,t){return a.minX-t.minX}function ES(a,t){return a.minY-t.minY}function Df(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function du(a){return a.maxX-a.minX+(a.maxY-a.minY)}function SS(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function TS(a,t){const n=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),u=Math.min(a.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,u-s)}function Lf(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function gu(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function Va(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Cp(a,t,n,s,r){const u=[t,n];for(;u.length;){if(n=u.pop(),t=u.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;B1(a,c,t,n,r),u.push(t,c,c,n)}}const Zd=[NaN,NaN,NaN,0];let Nf;function RS(){return Nf||(Nf=ve(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Nf}const bS=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,CS=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,wS=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,AS=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function _u(a,t){return a.endsWith("%")?Number(a.substring(0,a.length-1))/t:Number(a)}function Cr(a){throw new Error('failed to parse "'+a+'" as color')}function K1(a){if(a.toLowerCase().startsWith("rgb")){const u=a.match(CS)||a.match(bS)||a.match(wS);if(u){const c=u[4],h=100/255;return[ae(_u(u[1],h)+.5|0,0,255),ae(_u(u[2],h)+.5|0,0,255),ae(_u(u[3],h)+.5|0,0,255),c!==void 0?ae(_u(c,100),0,1):1]}Cr(a)}if(a.startsWith("#")){if(AS.test(a)){const u=a.substring(1),c=u.length<=4?1:2,h=[0,0,0,255];for(let d=0,_=u.length;d<_;d+=c){let m=parseInt(u.substring(d,d+c),16);c===1&&(m+=m<<4),h[d/c]=m}return h[3]=h[3]/255,h}Cr(a)}const t=RS();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=a,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=a,t.fillStyle===n&&Cr(a));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return K1(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=Pu(r[3]/255,3),r}function MS(a){return typeof a=="string"?a:Xd(a)}const OS=1024,mr={};let If=0;function DS(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function zf(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function jf(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function kf(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function Gf(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function wp(a){const t=kf(a[0]),n=kf(a[1]),s=kf(a[2]),r=Gf(t*.222488403+n*.716873169+s*.06060791),u=500*(Gf(t*.452247074+n*.399439023+s*.148375274)-r),c=200*(r-Gf(t*.016863605+n*.117638439+s*.865350722)),h=Math.atan2(c,u)*(180/Math.PI);return[116*r-16,Math.sqrt(u*u+c*c),h<0?h+360:h,a[3]]}function LS(a){const t=(a[0]+16)/116,n=a[1],s=a[2]*Math.PI/180,r=jf(t),u=jf(t+n/500*Math.cos(s)),c=jf(t-n/200*Math.sin(s)),h=zf(u*3.021973625-r*1.617392459-c*.404875592),d=zf(u*-.943766287+r*1.916279586+c*.027607165),_=zf(u*.069407491-r*.22898585+c*1.159737864);return[ae(h+.5|0,0,255),ae(d+.5|0,0,255),ae(_+.5|0,0,255),a[3]]}function Yd(a){if(a==="none")return Zd;if(mr.hasOwnProperty(a))return mr[a];if(If>=OS){let n=0;for(const s in mr)(n++&3)===0&&(delete mr[s],--If)}const t=K1(a);t.length!==4&&Cr(a);for(const n of t)isNaN(n)&&Cr(a);return mr[a]=t,++If,t}function ol(a){return Array.isArray(a)?a:Yd(a)}function Xd(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let n=a[1];n!=(n|0)&&(n=n+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function Ap(a){return a[0]>0&&a[1]>0}function NS(a,t,n){return n===void 0&&(n=[0,0]),n[0]=a[0]*t+.5|0,n[1]=a[1]*t+.5|0,n}function en(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}let $s=0;const Ze=1<<$s++,Nt=1<<$s++,Qe=1<<$s++,Gn=1<<$s++,Ws=1<<$s++,Er=1<<$s++,mu=Math.pow(2,$s)-1,Bd={[Ze]:"boolean",[Nt]:"number",[Qe]:"string",[Gn]:"color",[Ws]:"number[]",[Er]:"size"},IS=Object.keys(Bd).map(Number).sort(Ti);function zS(a){return a in Bd}function Sr(a){const t=[];for(const n of IS)Tr(a,n)&&t.push(Bd[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Tr(a,t){return(a&t)===t}function es(a,t){return a===t}class ye{constructor(t,n){if(!zS(t))throw new Error(`literal expressions must have a specific type, got ${Sr(t)}`);this.type=t,this.value=n}}class jS{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function q1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Le(a,t,n){switch(typeof a){case"boolean":{if(es(t,Qe))return new ye(Qe,a?"true":"false");if(!Tr(t,Ze))throw new Error(`got a boolean, but expected ${Sr(t)}`);return new ye(Ze,a)}case"number":{if(es(t,Er))return new ye(Er,en(a));if(es(t,Ze))return new ye(Ze,!!a);if(es(t,Qe))return new ye(Qe,a.toString());if(!Tr(t,Nt))throw new Error(`got a number, but expected ${Sr(t)}`);return new ye(Nt,a)}case"string":{if(es(t,Gn))return new ye(Gn,Yd(a));if(es(t,Ze))return new ye(Ze,!!a);if(!Tr(t,Qe))throw new Error(`got a string, but expected ${Sr(t)}`);return new ye(Qe,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return KS(a,t,n);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(es(t,Er)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new ye(Er,a)}if(es(t,Gn)){if(a.length===3)return new ye(Gn,[...a,1]);if(a.length===4)return new ye(Gn,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!Tr(t,Ws))throw new Error(`got an array of numbers, but expected ${Sr(t)}`);return new ye(Ws,a)}const Y={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},kS={[Y.Get]:vt(St(1,1/0),Mp),[Y.Var]:vt(St(1,1),GS),[Y.Has]:vt(St(1,1/0),Mp),[Y.Id]:vt(US,Xa),[Y.Concat]:vt(St(2,1/0),Zt(Qe)),[Y.GeometryType]:vt(PS,Xa),[Y.LineMetric]:vt(Xa),[Y.Resolution]:vt(Uf,Xa),[Y.Zoom]:vt(Uf,Xa),[Y.Time]:vt(Uf,Xa),[Y.Any]:vt(St(2,1/0),Zt(Ze)),[Y.All]:vt(St(2,1/0),Zt(Ze)),[Y.Not]:vt(St(1,1),Zt(Ze)),[Y.Equal]:vt(St(2,2),Zt(mu)),[Y.NotEqual]:vt(St(2,2),Zt(mu)),[Y.GreaterThan]:vt(St(2,2),Zt(Nt)),[Y.GreaterThanOrEqualTo]:vt(St(2,2),Zt(Nt)),[Y.LessThan]:vt(St(2,2),Zt(Nt)),[Y.LessThanOrEqualTo]:vt(St(2,2),Zt(Nt)),[Y.Multiply]:vt(St(2,1/0),Op),[Y.Coalesce]:vt(St(2,1/0),Op),[Y.Divide]:vt(St(2,2),Zt(Nt)),[Y.Add]:vt(St(2,1/0),Zt(Nt)),[Y.Subtract]:vt(St(2,2),Zt(Nt)),[Y.Clamp]:vt(St(3,3),Zt(Nt)),[Y.Mod]:vt(St(2,2),Zt(Nt)),[Y.Pow]:vt(St(2,2),Zt(Nt)),[Y.Abs]:vt(St(1,1),Zt(Nt)),[Y.Floor]:vt(St(1,1),Zt(Nt)),[Y.Ceil]:vt(St(1,1),Zt(Nt)),[Y.Round]:vt(St(1,1),Zt(Nt)),[Y.Sin]:vt(St(1,1),Zt(Nt)),[Y.Cos]:vt(St(1,1),Zt(Nt)),[Y.Atan]:vt(St(1,2),Zt(Nt)),[Y.Sqrt]:vt(St(1,1),Zt(Nt)),[Y.Match]:vt(St(4,1/0),Dp,ZS),[Y.Between]:vt(St(3,3),Zt(Nt)),[Y.Interpolate]:vt(St(6,1/0),Dp,YS),[Y.Case]:vt(St(3,1/0),FS,XS),[Y.In]:vt(St(2,2),BS),[Y.Number]:vt(St(1,1/0),Zt(mu)),[Y.String]:vt(St(1,1/0),Zt(mu)),[Y.Array]:vt(St(1,1/0),Zt(Nt)),[Y.Color]:vt(St(1,4),Zt(Nt)),[Y.Band]:vt(St(1,3),Zt(Nt)),[Y.Palette]:vt(St(2,2),HS),[Y.ToString]:vt(St(1,1),Zt(Ze|Nt|Qe|Gn))};function Mp(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=a[u+1];switch(typeof c){case"number":{r[u]=new ye(Nt,c);break}case"string":{r[u]=new ye(Qe,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}u===0&&n.properties.add(String(c))}return r}function GS(a,t,n){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new ye(Qe,s)]}function US(a,t,n){n.featureId=!0}function PS(a,t,n){n.geometryType=!0}function Uf(a,t,n){n.mapState=!0}function Xa(a,t,n){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function St(a,t){return function(n,s,r){const u=n[0],c=n.length-1;if(a===t){if(c!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${u}, got ${c}`)}}else if(c<a||c>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${u}, got ${c}`)}}}function Op(a,t,n){const s=a.length-1,r=new Array(s);for(let u=0;u<s;++u){const c=Le(a[u+1],t,n);r[u]=c}return r}function Zt(a){return function(t,n,s){const r=t.length-1,u=new Array(r);for(let c=0;c<r;++c){const h=Le(t[c+1],a,s);u[c]=h}return u}}function FS(a,t,n){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function Dp(a,t,n){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function ZS(a,t,n){const s=a.length-1,r=Qe|Nt|Ze,u=Le(a[1],r,n),c=Le(a[a.length-1],t,n),h=new Array(s-2);for(let d=0;d<s-2;d+=2){try{const _=Le(a[d+2],u.type,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+1} of match expression: ${_.message}`)}try{const _=Le(a[d+3],c.type,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+2} of match expression: ${_.message}`)}}return[u,...h,c]}function YS(a,t,n){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const d=s[1];if(typeof d!="number"||d<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(d)} instead`);r=d;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const u=new ye(Nt,r);let c;try{c=Le(a[2],Nt,n)}catch(d){throw new Error(`failed to parse argument 1 in interpolate expression: ${d.message}`)}const h=new Array(a.length-3);for(let d=0;d<h.length;d+=2){try{const _=Le(a[d+3],Nt,n);h[d]=_}catch(_){throw new Error(`failed to parse argument ${d+2} for interpolate expression: ${_.message}`)}try{const _=Le(a[d+4],t,n);h[d+1]=_}catch(_){throw new Error(`failed to parse argument ${d+3} for interpolate expression: ${_.message}`)}}return[u,c,...h]}function XS(a,t,n){const s=Le(a[a.length-1],t,n),r=new Array(a.length-1);for(let u=0;u<r.length-1;u+=2){try{const c=Le(a[u+1],Ze,n);r[u]=c}catch(c){throw new Error(`failed to parse argument ${u} of case expression: ${c.message}`)}try{const c=Le(a[u+2],s.type,n);r[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function BS(a,t,n){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=Qe}else r=Nt;const u=new Array(s.length);for(let h=0;h<u.length;h++)try{const d=Le(s[h],r,n);u[h]=d}catch(d){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${d.message}`)}return[Le(a[1],r,n),...u]}function HS(a,t,n){let s;try{s=Le(a[1],Nt,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const u=new Array(r.length);for(let c=0;c<u.length;c++){let h;try{h=Le(r[c],Gn,n)}catch(d){throw new Error(`failed to parse color at index ${c} in palette expression: ${d.message}`)}if(!(h instanceof ye))throw new Error(`the palette color at index ${c} must be a literal value`);u[c]=h}return[s,...u]}function vt(...a){return function(t,n,s){const r=t[0];let u;for(let c=0;c<a.length;c++){const h=a[c](t,n,s);if(c==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");u=h}}return new jS(n,r,...u)}}function KS(a,t,n){const s=a[0],r=kS[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,n)}function V1(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return V1(a.getGeometries()[0]);default:return""}}function W1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Ai(a,t,n){const s=Le(a,t,n);return Pn(s)}function Pn(a,t){if(a instanceof ye){if(a.type===Gn&&typeof a.value=="string"){const s=Yd(a.value);return function(){return s}}return function(){return a.value}}const n=a.operator;switch(n){case Y.Number:case Y.String:case Y.Coalesce:return qS(a);case Y.Get:case Y.Var:case Y.Has:return VS(a);case Y.Id:return s=>s.featureId;case Y.GeometryType:return s=>s.geometryType;case Y.Concat:{const s=a.args.map(r=>Pn(r));return r=>"".concat(...s.map(u=>u(r).toString()))}case Y.Resolution:return s=>s.resolution;case Y.Any:case Y.All:case Y.Between:case Y.In:case Y.Not:return QS(a);case Y.Equal:case Y.NotEqual:case Y.LessThan:case Y.LessThanOrEqualTo:case Y.GreaterThan:case Y.GreaterThanOrEqualTo:return WS(a);case Y.Multiply:case Y.Divide:case Y.Add:case Y.Subtract:case Y.Clamp:case Y.Mod:case Y.Pow:case Y.Abs:case Y.Floor:case Y.Ceil:case Y.Round:case Y.Sin:case Y.Cos:case Y.Atan:case Y.Sqrt:return JS(a);case Y.Case:return $S(a);case Y.Match:return tT(a);case Y.Interpolate:return eT(a);case Y.ToString:return nT(a);default:throw new Error(`Unsupported operator ${n}`)}}function qS(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Pn(a.args[u]);switch(n){case Y.Coalesce:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case Y.Number:case Y.String:return u=>{for(let c=0;c<s;++c){const h=r[c](u);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function VS(a,t){const s=a.args[0].value;switch(a.operator){case Y.Get:return r=>{const u=a.args;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const m=u[h].value;c=c[m]}return c};case Y.Var:return r=>r.variables[s];case Y.Has:return r=>{const u=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,d=u.length;h<d;++h){const m=u[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function WS(a,t){const n=a.operator,s=Pn(a.args[0]),r=Pn(a.args[1]);switch(n){case Y.Equal:return u=>s(u)===r(u);case Y.NotEqual:return u=>s(u)!==r(u);case Y.LessThan:return u=>s(u)<r(u);case Y.LessThanOrEqualTo:return u=>s(u)<=r(u);case Y.GreaterThan:return u=>s(u)>r(u);case Y.GreaterThanOrEqualTo:return u=>s(u)>=r(u);default:throw new Error(`Unsupported comparison operator ${n}`)}}function QS(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Pn(a.args[u]);switch(n){case Y.Any:return u=>{for(let c=0;c<s;++c)if(r[c](u))return!0;return!1};case Y.All:return u=>{for(let c=0;c<s;++c)if(!r[c](u))return!1;return!0};case Y.Between:return u=>{const c=r[0](u),h=r[1](u),d=r[2](u);return c>=h&&c<=d};case Y.In:return u=>{const c=r[0](u);for(let h=1;h<s;++h)if(c===r[h](u))return!0;return!1};case Y.Not:return u=>!r[0](u);default:throw new Error(`Unsupported logical operator ${n}`)}}function JS(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Pn(a.args[u]);switch(n){case Y.Multiply:return u=>{let c=1;for(let h=0;h<s;++h)c*=r[h](u);return c};case Y.Divide:return u=>r[0](u)/r[1](u);case Y.Add:return u=>{let c=0;for(let h=0;h<s;++h)c+=r[h](u);return c};case Y.Subtract:return u=>r[0](u)-r[1](u);case Y.Clamp:return u=>{const c=r[0](u),h=r[1](u);if(c<h)return h;const d=r[2](u);return c>d?d:c};case Y.Mod:return u=>r[0](u)%r[1](u);case Y.Pow:return u=>Math.pow(r[0](u),r[1](u));case Y.Abs:return u=>Math.abs(r[0](u));case Y.Floor:return u=>Math.floor(r[0](u));case Y.Ceil:return u=>Math.ceil(r[0](u));case Y.Round:return u=>Math.round(r[0](u));case Y.Sin:return u=>Math.sin(r[0](u));case Y.Cos:return u=>Math.cos(r[0](u));case Y.Atan:return s===2?u=>Math.atan2(r[0](u),r[1](u)):u=>Math.atan(r[0](u));case Y.Sqrt:return u=>Math.sqrt(r[0](u));default:throw new Error(`Unsupported numeric operator ${n}`)}}function $S(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Pn(a.args[r]);return r=>{for(let u=0;u<n-1;u+=2)if(s[u](r))return s[u+1](r);return s[n-1](r)}}function tT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Pn(a.args[r]);return r=>{const u=s[0](r);for(let c=1;c<n-1;c+=2)if(u===s[c](r))return s[c+1](r);return s[n-1](r)}}function eT(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=Pn(a.args[r]);return r=>{const u=s[0](r),c=s[1](r);let h,d;for(let _=2;_<n;_+=2){const m=s[_](r);let p=s[_+1](r);const v=Array.isArray(p);if(v&&(p=DS(p)),m>=c)return _===2?p:v?iT(u,c,h,d,m,p):Rr(u,c,h,d,m,p);h=m,d=p}return d}}function nT(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let u=0;u<s;++u)r[u]=Pn(a.args[u]);switch(n){case Y.ToString:return u=>{const c=r[0](u);return a.args[0].type===Gn?Xd(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function Rr(a,t,n,s,r,u){const c=r-n;if(c===0)return s;const h=t-n,d=a===1?h/c:(Math.pow(a,h)-1)/(Math.pow(a,c)-1);return s+d*(u-s)}function iT(a,t,n,s,r,u){if(r-n===0)return s;const h=wp(s),d=wp(u);let _=d[2]-h[2];_>180?_-=360:_<-180&&(_+=360);const m=[Rr(a,t,n,h[0],r,d[0]),Rr(a,t,n,h[1],r,d[1]),h[2]+Rr(a,t,n,0,r,_),Rr(a,t,n,s[3],r,u[3])];return LS(m)}const Rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function sT(a,t,n){const s=a;let r=!0,u=!1,c=!1;const h=[Su(s,Tt.LOAD,function(){c=!0,u||t()})];return s.src&&f1?(u=!0,s.decode().then(function(){r&&t()}).catch(function(d){r&&(c?t():n())})):h.push(Su(s,Tt.ERROR,n)),function(){r=!1,h.forEach(ne)}}function aT(a,t){return new Promise((n,s)=>{function r(){c(),n(a)}function u(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",u)}a.addEventListener("load",r),a.addEventListener("error",u)})}function lT(a,t){return t&&(a.src=t),a.src&&f1?new Promise((n,s)=>a.decode().then(()=>n(a)).catch(r=>a.complete&&a.width?n(a):s(r))):aT(a)}class rT{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=Pf(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=Pf(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,u){const c=Pf(t,n,s),h=c in this.cache_;this.cache_[c]=r,u&&(r.getImageState()===Rt.IDLE&&r.load(),r.getImageState()===Rt.LOADING?r.ready().then(()=>{this.patternCache_[c]=Mu().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=Mu().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Pf(a,t,n){const s=n?ol(n):"null";return t+":"+a+":"+s}const Cn=new rT;let pr=null;class Q1 extends Uu{constructor(t,n,s,r,u){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=u,this.imageState_=r===void 0?Rt.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Rt.LOADED){pr||(pr=ve(1,1,void 0,{willReadFrequently:!0})),pr.drawImage(this.image_,0,0);try{pr.getImageData(0,0,1,1),this.tainted_=!1}catch{pr=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Tt.CHANGE)}handleImageError_(){this.imageState_=Rt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Rt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=ve(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Rt.IDLE){this.image_||this.initializeImage_(),this.imageState_=Rt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&lT(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Rt.LOADED)return;const n=this.image_,s=ve(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=MS(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Rt.LOADED||this.imageState_===Rt.ERROR)t();else{const n=()=>{(this.imageState_===Rt.LOADED||this.imageState_===Rt.ERROR)&&(this.removeEventListener(Tt.CHANGE,n),t())};this.addEventListener(Tt.CHANGE,n)}})),this.ready_}}function Hd(a,t,n,s,r,u){let c=t===void 0?void 0:Cn.get(t,n,r);return c||(c=new Q1(a,a&&"src"in a?a.src||void 0:t,n,s,r),Cn.set(t,n,r,c,u)),u&&c&&!Cn.getPattern(t,n,r)&&Cn.set(t,n,r,c,u),c}function ei(a){return a?Array.isArray(a)?Xd(a):typeof a=="object"&&"src"in a?oT(a):a:null}function oT(a){if(!a.offset||!a.size)return Cn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,n=Cn.getPattern(t,void 0,a.color);if(n)return n;const s=Cn.get(a.src,"anonymous",null);if(s.getImageState()!==Rt.LOADED)return null;const r=ve(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),Hd(r.canvas,t,void 0,Rt.LOADED,a.color,!0),Cn.getPattern(t,void 0,a.color)}const J1="10px sans-serif",Je="#000",ul="round",Ri=[],bi=0,cl="round",Nr=10,Ir="#000",zr="center",Ou="middle",Ys=[0,0,0,0],jr=1,Wa=new Fn;let yr=null,Lp;const rd={},uT=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function cT(a,t,n){return`${a} ${t} 16px "${n}"`}const hT=(function(){let t,n;async function s(u){await n.ready;const c=await n.load(u);if(c.length===0)return!1;const h=ad(u),d=h.families[0].toLowerCase(),_=h.weight;return c.some(m=>{const p=m.family.replace(/^['"]|['"]$/g,"").toLowerCase(),v=sd[m.weight]||m.weight;return p===d&&m.style===h.style&&v==_})}async function r(){await n.ready;let u=!0;const c=Wa.getProperties(),h=Object.keys(c).filter(d=>c[d]<100);for(let d=h.length-1;d>=0;--d){const _=h[d];let m=c[_];m<100&&(await s(_)?(Ur(rd),Wa.set(_,100)):(m+=10,Wa.set(_,m,!0),m<100&&(u=!1)))}t=void 0,u||(t=setTimeout(r,100))}return async function(u){n||(n=_d?self.fonts:document.fonts);const c=ad(u);if(!c)return;const h=c.families;let d=!1;for(const _ of h){if(uT.has(_))continue;const m=cT(c.style,c.weight,_);Wa.get(m)===void 0&&(Wa.set(m,0,!0),d=!0)}d&&(clearTimeout(t),t=setTimeout(r,100))}})(),fT=(function(){let a;return function(t){let n=rd[t];if(n==null){if(_d){const s=ad(t),r=$1(t,"Žg");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),n=a.offsetHeight,document.body.removeChild(a);rd[t]=n}return n}})();function $1(a,t){return yr||(yr=ve(1,1)),a!=Lp&&(yr.font=a,Lp=yr.font),yr.measureText(t)}function ty(a,t){return $1(a,t).width}function Np(a,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,u)=>Math.max(r,ty(a,u)),0);return n[t]=s,s}function dT(a,t){const n=[],s=[],r=[];let u=0,c=0,h=0,d=0;for(let _=0,m=t.length;_<=m;_+=2){const p=t[_];if(p===`
`||_===m){u=Math.max(u,c),r.push(c),c=0,h+=d,d=0;continue}const v=t[_+1]||a.font,E=ty(v,p);n.push(E),c+=E;const T=fT(v);s.push(T),d=Math.max(d,T)}return{width:u,height:h,widths:n,heights:s,lineWidths:r}}function gT(a,t,n,s,r,u,c,h,d,_,m){a.save(),n!==1&&(a.globalAlpha===void 0?a.globalAlpha=p=>p.globalAlpha*=n:a.globalAlpha*=n),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(d,_),a.scale(m[0],m[1]),_T(s,a)):m[0]<0||m[1]<0?(a.translate(d,_),a.scale(m[0],m[1]),a.drawImage(s,r,u,c,h,0,0,c,h)):a.drawImage(s,r,u,c,h,d,_,c*m[0],h*m[1]),a.restore()}function _T(a,t){const n=a.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class tc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=en(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new tc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ut()}getImage(t){return Ut()}getHitDetectionImage(){return Ut()}getPixelRatio(t){return 1}getImageState(){return Ut()}getImageSize(){return Ut()}getOrigin(){return Ut()}getSize(){return Ut()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=en(t)}listenImageChange(t){Ut()}load(){Ut()}unlistenImageChange(t){Ut()}ready(){return Promise.resolve()}}class ec extends tc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Rt.LOADING:Rt.LOADED,this.imageState_===Rt.LOADING&&this.ready().then(()=>this.imageState_=Rt.LOADED),this.render()}clone(){const t=this.getScale(),n=new ec({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const n=this.fill_?.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=Cn.get(s,null,null)?.getImage(1);if(!r){const u=this.renderOptions_,c=Math.ceil(u.size*t),h=ve(c,c);this.draw_(u,h,t),r=h.canvas,Cn.set(s,null,null,new Q1(r,void 0,null,Rt.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,u=this.radius2_===void 0?r:this.radius2_;if(r<u){const H=r;r=u,u=H}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,d=u*Math.sin(h),_=Math.sqrt(u*u-d*d),m=r-_,p=Math.sqrt(d*d+m*m),v=p/d;if(t==="miter"&&v<=s)return v*n;const E=n/2/v,T=n/2*(m/p),C=Math.sqrt((r+E)*(r+E)+T*T)-r;if(this.radius2_===void 0||t==="bevel")return C*2;const M=r*Math.sin(h),N=Math.sqrt(r*r-M*M),P=u-N,O=Math.sqrt(M*M+P*P)/M;if(O<=s){const H=O*n/2-u-r;return 2*Math.max(C,H)}return C*2}createRenderOptions(){let t=ul,n=cl,s=0,r=null,u=0,c,h=0;this.stroke_&&(c=ei(this.stroke_.getColor()??Ir),h=this.stroke_.getWidth()??jr,r=this.stroke_.getLineDash(),u=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??cl,t=this.stroke_.getLineCap()??ul,s=this.stroke_.getMiterLimit()??Nr);const d=this.calculateLineJoinSize_(n,h,s),_=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*_+d);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:r,lineDashOffset:u,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=Je),n.fillStyle=ei(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=ol(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=ve(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const u=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const d=u+h*c,_=h%2===0?s:r;t.lineTo(_*Math.cos(d),_*Math.sin(d))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Je,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class nc extends ec{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new nc({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class Xr{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new Xr({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Hd(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Rt.IDLE&&n.load(),n.getImageState()===Rt.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Pt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:ol(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function Ip(a,t,n,s){return n!==void 0&&s!==void 0?[n/a,s/t]:n!==void 0?n/a:s!==void 0?s/t:1}class ps extends tc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,u=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:u,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;Yt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||Pt(c)),Yt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Yt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let d;if(t.src!==void 0?d=Rt.IDLE:c!==void 0&&("complete"in c?c.complete?d=c.src?Rt.LOADED:Rt.IDLE:d=Rt.LOADING:d=Rt.LOADED),this.color_=t.color!==void 0?ol(t.color):null,this.iconImage_=Hd(c,h,this.crossOrigin_,d,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let _,m;if(t.size)[_,m]=t.size;else{const p=this.getImage(1);if(p.width&&p.height)_=p.width,m=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=t;const v=()=>{if(this.unlistenImageChange(v),!this.initialOptions_)return;const E=this.iconImage_.getSize();this.setScale(Ip(E[0],E[1],t.width,t.height))};this.listenImageChange(v);return}}_!==void 0&&this.setScale(Ip(_,m,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new ps({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Rt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Rt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(Tt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(Tt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class hl{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new hl({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class gn{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=zp,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new gn({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=zp,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function mT(a){let t;if(typeof a=="function")t=a;else{let n;Array.isArray(a)?n=a:(Yt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[a]),t=function(){return n}}return t}let Ff=null;function ey(a,t){if(!Ff){const n=new Xr({color:"rgba(255,255,255,0.4)"}),s=new hl({color:"#3399CC",width:1.25});Ff=[new gn({image:new nc({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return Ff}function zp(a){return a.getGeometry()}const pT="#333";class Kd{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=en(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new Xr({color:pT}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Kd({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=en(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function yT(a){return!0}function vT(a){const t=q1(),n=xT(a,t),s=W1();return function(r,u){if(s.properties=r.getPropertiesInternal(),s.resolution=u,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=V1(r.getGeometry())),n(s)}}function jp(a){const t=q1(),n=a.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=od(a[c],t);const r=W1(),u=new Array(n);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const _=c.getId();_!==void 0?r.featureId=_:r.featureId=null}let d=0;for(let _=0;_<n;++_){const m=s[_](r);m&&(u[d]=m,d+=1)}return u.length=d,u}}function xT(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r){const u=a[r],c="filter"in u?Ai(u.filter,Ze,t):yT;let h;if(Array.isArray(u.style)){const d=u.style.length;h=new Array(d);for(let _=0;_<d;++_)h[_]=od(u.style[_],t)}else h=[od(u.style,t)];s[r]={filter:c,styles:h}}return function(r){const u=[];let c=!1;for(let h=0;h<n;++h){const d=s[h].filter;if(d(r)&&!(a[h].else&&c)){c=!0;for(const _ of s[h].styles){const m=_(r);m&&u.push(m)}}}return u}}function od(a,t){const n=kr(a,"",t),s=Gr(a,"",t),r=ET(a,t),u=ST(a,t),c=tn(a,"z-index",t);if(!n&&!s&&!r&&!u&&!al(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new gn;return function(d){let _=!0;if(n){const m=n(d);m&&(_=!1),h.setFill(m)}if(s){const m=s(d);m&&(_=!1),h.setStroke(m)}if(r){const m=r(d);m&&(_=!1),h.setText(m)}if(u){const m=u(d);m&&(_=!1),h.setImage(m)}return c&&h.setZIndex(c(d)),_?null:h}}function kr(a,t,n){let s;if(t+"fill-pattern-src"in a)s=CT(a,t+"fill-",n);else{if(a[t+"fill-color"]==="none")return u=>null;s=qd(a,t+"fill-color",n)}if(!s)return null;const r=new Xr;return function(u){const c=s(u);return c===Zd?null:(r.setColor(c),r)}}function Gr(a,t,n){const s=tn(a,t+"stroke-width",n),r=qd(a,t+"stroke-color",n);if(!s&&!r)return null;const u=Si(a,t+"stroke-line-cap",n),c=Si(a,t+"stroke-line-join",n),h=ny(a,t+"stroke-line-dash",n),d=tn(a,t+"stroke-line-dash-offset",n),_=tn(a,t+"stroke-miter-limit",n),m=new hl;return function(p){if(r){const v=r(p);if(v===Zd)return null;m.setColor(v)}if(s&&m.setWidth(s(p)),u){const v=u(p);if(v!=="butt"&&v!=="round"&&v!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(v)}if(c){const v=c(p);if(v!=="bevel"&&v!=="round"&&v!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(v)}return h&&m.setLineDash(h(p)),d&&m.setLineDashOffset(d(p)),_&&m.setMiterLimit(_(p)),m}}function ET(a,t){const n="text-",s=Si(a,n+"value",t);if(!s)return null;const r=kr(a,n,t),u=kr(a,n+"background-",t),c=Gr(a,n,t),h=Gr(a,n+"background-",t),d=Si(a,n+"font",t),_=tn(a,n+"max-angle",t),m=tn(a,n+"offset-x",t),p=tn(a,n+"offset-y",t),v=nl(a,n+"overflow",t),E=Si(a,n+"placement",t),T=tn(a,n+"repeat",t),w=ic(a,n+"scale",t),C=nl(a,n+"rotate-with-view",t),M=tn(a,n+"rotation",t),N=Si(a,n+"align",t),P=Si(a,n+"justify",t),L=Si(a,n+"baseline",t),O=nl(a,n+"keep-upright",t),H=ny(a,n+"padding",t),V=sc(a,n+"declutter-mode"),K=new Kd({declutterMode:V});return function(Q){if(K.setText(s(Q)),r&&K.setFill(r(Q)),u&&K.setBackgroundFill(u(Q)),c&&K.setStroke(c(Q)),h&&K.setBackgroundStroke(h(Q)),d&&K.setFont(d(Q)),_&&K.setMaxAngle(_(Q)),m&&K.setOffsetX(m(Q)),p&&K.setOffsetY(p(Q)),v&&K.setOverflow(v(Q)),E){const $=E(Q);if($!=="point"&&$!=="line")throw new Error("Expected point or line for text-placement");K.setPlacement($)}if(T&&K.setRepeat(T(Q)),w&&K.setScale(w(Q)),C&&K.setRotateWithView(C(Q)),M&&K.setRotation(M(Q)),N){const $=N(Q);if($!=="left"&&$!=="center"&&$!=="right"&&$!=="end"&&$!=="start")throw new Error("Expected left, right, center, start, or end for text-align");K.setTextAlign($)}if(P){const $=P(Q);if($!=="left"&&$!=="right"&&$!=="center")throw new Error("Expected left, right, or center for text-justify");K.setJustify($)}if(L){const $=L(Q);if($!=="bottom"&&$!=="top"&&$!=="middle"&&$!=="alphabetic"&&$!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");K.setTextBaseline($)}return H&&K.setPadding(H(Q)),O&&K.setKeepUpright(O(Q)),K}}function ST(a,t){return"icon-src"in a?TT(a,t):"shape-points"in a?RT(a,t):"circle-radius"in a?bT(a,t):null}function TT(a,t){const n="icon-",s=n+"src",r=iy(a[s],s),u=Du(a,n+"anchor",t),c=ic(a,n+"scale",t),h=tn(a,n+"opacity",t),d=Du(a,n+"displacement",t),_=tn(a,n+"rotation",t),m=nl(a,n+"rotate-with-view",t),p=Gp(a,n+"anchor-origin"),v=Up(a,n+"anchor-x-units"),E=Up(a,n+"anchor-y-units"),T=OT(a,n+"color"),w=AT(a,n+"cross-origin"),C=MT(a,n+"offset"),M=Gp(a,n+"offset-origin"),N=Lu(a,n+"width"),P=Lu(a,n+"height"),L=wT(a,n+"size"),O=sc(a,n+"declutter-mode"),H=new ps({src:r,anchorOrigin:p,anchorXUnits:v,anchorYUnits:E,color:T,crossOrigin:w,offset:C,offsetOrigin:M,height:P,width:N,size:L,declutterMode:O});return function(V){return h&&H.setOpacity(h(V)),d&&H.setDisplacement(d(V)),_&&H.setRotation(_(V)),m&&H.setRotateWithView(m(V)),c&&H.setScale(c(V)),u&&H.setAnchor(u(V)),H}}function RT(a,t){const n="shape-",s=n+"points",r=n+"radius",u=ud(a[s],s),c=ud(a[r],r),h=kr(a,n,t),d=Gr(a,n,t),_=ic(a,n+"scale",t),m=Du(a,n+"displacement",t),p=tn(a,n+"rotation",t),v=nl(a,n+"rotate-with-view",t),E=Lu(a,n+"radius2"),T=Lu(a,n+"angle"),w=sc(a,n+"declutter-mode"),C=new ec({points:u,radius:c,radius2:E,angle:T,declutterMode:w});return function(M){return h&&C.setFill(h(M)),d&&C.setStroke(d(M)),m&&C.setDisplacement(m(M)),p&&C.setRotation(p(M)),v&&C.setRotateWithView(v(M)),_&&C.setScale(_(M)),C}}function bT(a,t){const n="circle-",s=kr(a,n,t),r=Gr(a,n,t),u=tn(a,n+"radius",t),c=ic(a,n+"scale",t),h=Du(a,n+"displacement",t),d=tn(a,n+"rotation",t),_=nl(a,n+"rotate-with-view",t),m=sc(a,n+"declutter-mode"),p=new nc({radius:5,declutterMode:m});return function(v){return u&&p.setRadius(u(v)),s&&p.setFill(s(v)),r&&p.setStroke(r(v)),h&&p.setDisplacement(h(v)),d&&p.setRotation(d(v)),_&&p.setRotateWithView(_(v)),c&&p.setScale(c(v)),p}}function tn(a,t,n){if(!(t in a))return;const s=Ai(a[t],Nt,n);return function(r){return ud(s(r),t)}}function Si(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Qe,n);return function(r){return iy(s(r),t)}}function CT(a,t,n){const s=Si(a,t+"pattern-src",n),r=kp(a,t+"pattern-offset",n),u=kp(a,t+"pattern-size",n),c=qd(a,t+"color",n);return function(h){return{src:s(h),offset:r&&r(h),size:u&&u(h),color:c&&c(h)}}}function nl(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Ze,n);return function(r){const u=s(r);if(typeof u!="boolean")throw new Error(`Expected a boolean for ${t}`);return u}}function qd(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Gn,n);return function(r){return sy(s(r),t)}}function ny(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Ws,n);return function(r){return Br(s(r),t)}}function Du(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Ws,n);return function(r){const u=Br(s(r),t);if(u.length!==2)throw new Error(`Expected two numbers for ${t}`);return u}}function kp(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Ws,n);return function(r){return ay(s(r),t)}}function ic(a,t,n){if(!(t in a))return null;const s=Ai(a[t],Ws|Nt,n);return function(r){return DT(s(r),t)}}function Lu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function wT(a,t){const n=a[t];if(n!==void 0){if(typeof n=="number")return en(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function AT(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function Gp(a,t){const n=a[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Up(a,t){const n=a[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function MT(a,t){const n=a[t];if(n!==void 0)return Br(n,t)}function sc(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function OT(a,t){const n=a[t];if(n!==void 0)return sy(n,t)}function Br(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const n=a.length;for(let s=0;s<n;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function iy(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function ud(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function sy(a,t){if(typeof a=="string")return a;const n=Br(a,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function ay(a,t){const n=Br(a,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function DT(a,t){return typeof a=="number"?a:ay(a,t)}const Pp={RENDER_ORDER:"renderOrder"};class ly extends $u{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Pp.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new H1(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(Pp.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?ey:t;const n=LT(t);this.styleFunction_=t===null?void 0:mT(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function LT(a){if(a===void 0)return ey;if(!a)return null;if(typeof a=="function"||a instanceof gn)return a;if(!Array.isArray(a))return jp([a]);if(a.length===0)return[];const t=a.length,n=a[0];if(n instanceof gn){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!(c instanceof gn))throw new Error("Expected a list of style instances");r[u]=c}return r}if("style"in n){const r=new Array(t);for(let u=0;u<t;++u){const c=a[u];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[u]=c}return vT(r)}return jp(a)}class ry extends wi{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}class NT extends ju{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Ut()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Ci(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),L1(r,s)}forEachFeatureAtCoordinate(t,n,s,r,u,c,h,d){let _;const m=n.viewState;function p(L,O,H,V){return u.call(c,O,L?H:null,V)}const v=m.projection,E=S1(t.slice(),v),T=[[0,0]];if(v.canWrapX()&&r){const L=v.getExtent(),O=qt(L);T.push([-O,0],[O,0])}const w=n.layerStatesArray,C=w.length,M=[],N=[];for(let L=0;L<T.length;L++)for(let O=C-1;O>=0;--O){const H=w[O],V=H.layer;if(V.hasRenderer()&&Fd(H,m)&&h.call(d,V)){const K=V.getRenderer(),Q=V.getSource();if(K&&Q){const $=Q.getWrapX()?E:t,ot=p.bind(null,H.managed);N[0]=$[0]+T[L][0],N[1]=$[1]+T[L][1],_=K.forEachFeatureAtCoordinate(N,n,s,ot,M)}if(_)return _}}if(M.length===0)return;const P=1/M.length;return M.forEach((L,O)=>L.distanceSq+=O*P),M.sort((L,O)=>L.distanceSq-O.distanceSq),M.some(L=>_=L.callback(L.feature,L.layer,L.geometry)),_}hasFeatureAtCoordinate(t,n,s,r,u,c){return this.forEachFeatureAtCoordinate(t,n,s,r,wr,this,u,c)!==void 0}getMap(){return this.map_}renderFrame(t){Ut()}scheduleExpireIconCache(t){Cn.canExpireCache()&&t.postRenderFunctions.push(IT)}}function IT(a,t){Cn.expire()}class zT extends NT{constructor(t){super(t),this.fontChangeListenerKey_=kt(Wa,sl.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Qu+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new ry(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){ne(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(bn.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,d)=>h.zIndex-d.zIndex);n.some(h=>h.layer instanceof ly&&h.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const u=[];let c=null;for(let h=0,d=n.length;h<d;++h){const _=n[h];t.layerIndex=h;const m=_.layer,p=m.getSourceState();if(!Fd(_,r)||p!="ready"&&p!="undefined"){m.unrender();continue}const v=m.render(t,c);v&&(v!==c&&(this.children_.push(v),c=v),u.push(_))}this.declutter(t,u),BE(this.element_,this.children_),this.dispatchRenderEvent(bn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],u=r.layer;u.getDeclutter()&&u.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function oy(a){if(a instanceof $u){a.setMapInternal(null);return}a instanceof dl&&a.getLayers().forEach(oy)}function uy(a,t){if(a instanceof $u){a.setMapInternal(t);return}if(a instanceof dl){const n=a.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)uy(n[s],t)}}let jT=class extends Fn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=kT(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:_x,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Un(),this.pixelToCoordinateTransform_=Un(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||VE(),this.interactions=n.interactions||pS({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new yx(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Ge.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Ge.VIEW,this.handleViewChanged_),this.addChangeListener(Ge.SIZE,this.handleSizeChanged_),this.addChangeListener(Ge.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Jn)&&t.view.then(function(r){s.setView(new Jn(r))}),this.controls.addEventListener(We.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(We.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(We.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(We.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(We.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(We.REMOVE,r=>{const u=r.element.getId();u!==void 0&&delete this.overlayIdIndex_[u.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){uy(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const u=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:wr,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,u,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof dl?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:wr,u=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,u,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),u=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/u,(h.clientY-s.top)/c]}getTarget(){return this.get(Ge.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return id(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?Ae(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Ge.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof ti){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const u=r.layer.getRenderer();if(u&&!u.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=xi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?Ae(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Ge.SIZE)}getView(){return this.get(Ge.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return vx(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new os(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===Vf.POINTERDOWN||s===Tt.WHEEL||s===Tt.KEYDOWN){const r=this.getOwnerDocument(),u=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,h=u instanceof ShadowRoot?u.host===c?u.host.ownerDocument:u:u===r?r.documentElement:u;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let u=r.length-1;u>=0;u--){const c=r[u];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,u=r;if(t){const c=t.viewHints;if(c[Ue.ANIMATING]||c[Ue.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,u=h?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,u))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(bn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(bn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new qa(Ei.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new qa(Ei.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,u=s.length;r<u;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)ne(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Tt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Tt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new zT(this)),this.mapBrowserEventHandler_=new mx(this,this.moveTolerance_);for(const u in ue)this.mapBrowserEventHandler_.addEventListener(ue[u],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Tt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Tt.WHEEL,this.boundHandleBrowserEvent_,d1?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const u=n.getRootNode();s=u instanceof ShadowRoot?u.host:n}this.targetChangeHandlerKeys_=[kt(s,Tt.KEYDOWN,this.handleBrowserEvent,this),kt(s,Tt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(ne(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(ne(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=kt(t,sl.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=kt(t,Tt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(ne),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new us("addlayer",t)),this.layerGroupPropertyListenerKeys_=[kt(t,sl.PROPERTYCHANGE,this.render,this),kt(t,Tt.CHANGE,this.render,this),kt(t,"addlayer",this.handleLayerAdd_,this),kt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){oy(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let u=null;if(n!==void 0&&Ap(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(u={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:$f(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:Pt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const d=isNaN(h.nextRotation)?h.rotation:h.nextRotation;u.nextExtent=$f(h.nextCenter,h.nextResolution,d,n)}}this.frameState_=u,this.renderer_.renderFrame(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,u.postRenderFunctions),r&&(!this.previousExtent_||!Bu(this.previousExtent_)&&!Mr(u.extent,this.previousExtent_))&&(this.dispatchEvent(new qa(Ei.MOVESTART,this,r)),this.previousExtent_=Fu(this.previousExtent_)),this.previousExtent_&&!u.viewHints[Ue.ANIMATING]&&!u.viewHints[Ue.INTERACTING]&&!Mr(u.extent,this.previousExtent_)&&(this.dispatchEvent(new qa(Ei.MOVEEND,this,u)),g1(u.extent,this.previousExtent_))),this.dispatchEvent(new qa(Ei.POSTRENDER,this,u)),this.renderComplete_=(this.hasListener(Ei.LOADSTART)||this.hasListener(Ei.LOADEND)||this.hasListener(bn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new us("removelayer",n)),this.set(Ge.LAYERGROUP,t)}setSize(t){this.set(Ge.SIZE,t)}setTarget(t){this.set(Ge.TARGET,t)}setView(t){if(!t||t instanceof Jn){this.set(Ge.VIEW,t);return}this.set(Ge.VIEW,new Jn);const n=this;t.then(function(s){n.setView(new Jn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),u=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),c=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(u)&&!isNaN(c)&&(n=[Math.max(0,u),Math.max(0,c)],!Ap(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&R1("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!ms(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function kT(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const n={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new dl({layers:a.layers});n[Ge.LAYERGROUP]=s,n[Ge.TARGET]=a.target,n[Ge.VIEW]=a.view instanceof Jn?a.view:new Jn;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new ti(a.controls.slice()):(Yt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let u;a.interactions!==void 0&&(Array.isArray(a.interactions)?u=new ti(a.interactions.slice()):(Yt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),u=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new ti(a.overlays.slice()):(Yt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new ti,{controls:r,interactions:u,keyboardEventTarget:t,overlays:c,values:n}}class Vd extends Uu{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(Tt.CHANGE)}release(){this.setState(gt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==gt.EMPTY){if(this.state!==gt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Ut()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:T1(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function cd(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const GT=new Error("disposed"),UT=[256,256];class Fp extends Vd{constructor(t){const n=gt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=cd(this.data_);return t?[t.width,t.height]:UT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==gt.IDLE&&this.state!==gt.ERROR)return;this.state=gt.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=gt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=gt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(GT),this.controller_=null),super.disposeInternal()}}class cy extends Vd{constructor(t,n,s,r,u,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=u}getImage(){return this.image_}setImage(t){this.image_=t,this.state=gt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=gt.ERROR,this.unlistenImage_(),this.image_=PT(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=gt.LOADED:this.state=gt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==gt.ERROR&&(this.state=gt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==gt.IDLE&&(this.state=gt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=sT(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function PT(){const a=ve(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class Wd{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Ba(a,t,n,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=n,r.maxY=s,r):new Wd(a,t,n,s)}let Zf;const il=[];function Zp(a,t,n,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,n),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),a.restore()}function Yf(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function FT(){if(Zf===void 0){const a=ve(6,6,il);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",Zp(a,4,5,4,0),Zp(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;Zf=Yf(t,0)||Yf(t,4)||Yf(t,8),Ju(a),il.push(a.canvas)}return Zf}function Yp(a,t,n,s){const r=qu(n,t,a);let u=hp(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(u*=c);const h=a.getMetersPerUnit();h!==void 0&&(u/=h);const d=a.getExtent();if(!d||ll(d,r)){const _=hp(a,u,r)/u;isFinite(_)&&_>0&&(u/=_)}return u}function ZT(a,t,n,s){const r=Vs(n);let u=Yp(a,t,r,s);return(!isFinite(u)||u<=0)&&y1(n,function(c){return u=Yp(a,t,c,s),isFinite(u)&&u>0}),u}function YT(a,t,n,s,r,u,c,h,d,_,m,p,v,E){const T=ve(Math.round(n*a),Math.round(n*t),il);if(p||(T.imageSmoothingEnabled=!1),d.length===0)return T.canvas;T.scale(n,n);function w(O){return Math.round(O*n)/n}T.globalCompositeOperation="lighter";const C=An();d.forEach(function(O,H,V){Tx(C,O.extent)});let M;const N=n/s,P=(p?1:1+Math.pow(2,-24))/N;M=ve(Math.round(qt(C)*N),Math.round(Ye(C)*N),il),p||(M.imageSmoothingEnabled=!1),d.forEach(function(O,H,V){if(O.image.width>0&&O.image.height>0){if(O.clipExtent){M.save();const tt=(O.clipExtent[0]-C[0])*N,et=-(O.clipExtent[3]-C[3])*N,nt=qt(O.clipExtent)*N,ct=Ye(O.clipExtent)*N;M.rect(p?tt:Math.round(tt),p?et:Math.round(et),p?nt:Math.round(tt+nt)-Math.round(tt),p?ct:Math.round(et+ct)-Math.round(et)),M.clip()}const K=(O.extent[0]-C[0])*N,Q=-(O.extent[3]-C[3])*N,$=qt(O.extent)*N,ot=Ye(O.extent)*N;M.drawImage(O.image,_,_,O.image.width-2*_,O.image.height-2*_,p?K:Math.round(K),p?Q:Math.round(Q),p?$:Math.round(K+$)-Math.round(K),p?ot:Math.round(Q+ot)-Math.round(Q)),O.clipExtent&&M.restore()}});const L=Qs(c);return h.getTriangles().forEach(function(O,H,V){const K=O.source,Q=O.target;let $=K[0][0],ot=K[0][1],tt=K[1][0],et=K[1][1],nt=K[2][0],ct=K[2][1];const I=w((Q[0][0]-L[0])/u),X=w(-(Q[0][1]-L[1])/u),W=w((Q[1][0]-L[0])/u),st=w(-(Q[1][1]-L[1])/u),R=w((Q[2][0]-L[0])/u),F=w(-(Q[2][1]-L[1])/u),k=$,J=ot;$=0,ot=0,tt-=k,et-=J,nt-=k,ct-=J;const it=[[tt,et,0,0,W-I],[nt,ct,0,0,R-I],[0,0,tt,et,st-X],[0,0,nt,ct,F-X]],ft=Ex(it);if(!ft)return;if(T.save(),T.beginPath(),FT()||!p){T.moveTo(W,st);const zt=4,wt=I-W,lt=X-st;for(let _t=0;_t<zt;_t++)T.lineTo(W+w((_t+1)*wt/zt),st+w(_t*lt/(zt-1))),_t!=zt-1&&T.lineTo(W+w((_t+1)*wt/zt),st+w((_t+1)*lt/(zt-1)));T.lineTo(R,F)}else T.moveTo(W,st),T.lineTo(I,X),T.lineTo(R,F);T.clip(),T.transform(ft[0],ft[2],ft[1],ft[3],I,X),T.translate(C[0]-k,C[3]-J);let ut;if(M)ut=M.canvas,T.scale(P,-P);else{const zt=d[0],wt=zt.extent;ut=zt.image,T.scale(qt(wt)/ut.width,-Ye(wt)/ut.height)}T.drawImage(ut,0,0),T.restore()}),M&&(Ju(M),il.push(M.canvas)),m&&(T.save(),T.globalCompositeOperation="source-over",T.strokeStyle="black",T.lineWidth=1,h.getTriangles().forEach(function(O,H,V){const K=O.target,Q=(K[0][0]-L[0])/u,$=-(K[0][1]-L[1])/u,ot=(K[1][0]-L[0])/u,tt=-(K[1][1]-L[1])/u,et=(K[2][0]-L[0])/u,nt=-(K[2][1]-L[1])/u;T.beginPath(),T.moveTo(ot,tt),T.lineTo(Q,$),T.lineTo(et,nt),T.closePath(),T.stroke()}),T.restore()),T.canvas}const XT=10,Xp=.25;class BT{constructor(t,n,s,r,u,c,h){this.sourceProj_=t,this.targetProj_=n;let d={};const _=h?lE(P=>Ae(h,qu(P,this.targetProj_,this.sourceProj_))):wu(this.targetProj_,this.sourceProj_);this.transformInv_=function(P){const L=P[0]+"/"+P[1];return d[L]||(d[L]=_(P)),d[L]},this.maxSourceExtent_=r,this.errorThresholdSquared_=u*u,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&qt(r)>=qt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?qt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?qt(this.targetProj_.getExtent()):null;const m=Qs(s),p=Xu(s),v=Yu(s),E=Zu(s),T=this.transformInv_(m),w=this.transformInv_(p),C=this.transformInv_(v),M=this.transformInv_(E),N=XT+(c?Math.max(0,Math.ceil(Math.log2(Jf(s)/(c*c*256*256)))):0);if(this.addQuad_(m,p,v,E,T,w,C,M,N),this.wrapsXInSource_){let P=1/0;this.triangles_.forEach(function(L,O,H){P=Math.min(P,L.source[0][0],L.source[1][0],L.source[2][0])}),this.triangles_.forEach(L=>{if(Math.max(L.source[0][0],L.source[1][0],L.source[2][0])-P>this.sourceWorldWidth_/2){const O=[[L.source[0][0],L.source[0][1]],[L.source[1][0],L.source[1][1]],[L.source[2][0],L.source[2][1]]];O[0][0]-P>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-P>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-P>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const H=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-H<this.sourceWorldWidth_/2&&(L.source=O)}})}d={}}addTriangle_(t,n,s,r,u,c){this.triangles_.push({source:[r,u,c],target:[t,n,s]})}addQuad_(t,n,s,r,u,c,h,d,_){const m=np([u,c,h,d]),p=this.sourceWorldWidth_?qt(m)/this.sourceWorldWidth_:null,v=this.sourceWorldWidth_,E=this.sourceProj_.canWrapX()&&p>.5&&p<1;let T=!1;if(_>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=np([t,n,s,r]);T=qt(C)/this.targetWorldWidth_>Xp||T}!E&&this.sourceProj_.isGlobal()&&p&&(T=p>Xp||T)}if(!T&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!$e(m,this.maxSourceExtent_))return;let w=0;if(!T&&(!isFinite(u[0])||!isFinite(u[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(d[0])||!isFinite(d[1]))){if(_>0)T=!0;else if(w=(!isFinite(u[0])||!isFinite(u[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(d[0])||!isFinite(d[1])?1:0),w!=1&&w!=2&&w!=4&&w!=8)return}if(_>0){if(!T){const C=[(t[0]+s[0])/2,(t[1]+s[1])/2],M=this.transformInv_(C);let N;E?N=(Hs(u[0],v)+Hs(h[0],v))/2-Hs(M[0],v):N=(u[0]+h[0])/2-M[0];const P=(u[1]+h[1])/2-M[1];T=N*N+P*P>this.errorThresholdSquared_}if(T){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const C=[(n[0]+s[0])/2,(n[1]+s[1])/2],M=this.transformInv_(C),N=[(r[0]+t[0])/2,(r[1]+t[1])/2],P=this.transformInv_(N);this.addQuad_(t,n,C,N,u,c,M,P,_-1),this.addQuad_(N,C,s,r,P,M,h,d,_-1)}else{const C=[(t[0]+n[0])/2,(t[1]+n[1])/2],M=this.transformInv_(C),N=[(s[0]+r[0])/2,(s[1]+r[1])/2],P=this.transformInv_(N);this.addQuad_(t,C,N,r,u,M,P,d,_-1),this.addQuad_(C,n,s,N,M,c,h,P,_-1)}return}}if(E){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(w&11)==0&&this.addTriangle_(t,s,r,u,h,d),(w&14)==0&&this.addTriangle_(t,s,n,u,h,c),w&&((w&13)==0&&this.addTriangle_(n,r,t,c,d,u),(w&7)==0&&this.addTriangle_(n,r,s,c,d,h))}calculateSourceExtent(){const t=An();return this.triangles_.forEach(function(n,s,r){const u=n.source;br(t,u[0]),br(t,u[1]),br(t,u[2])}),t}getTriangles(){return this.triangles_}}const HT=.5;class hy extends Vd{constructor(t,n,s,r,u,c,h,d,_,m,p,v){super(u,gt.IDLE,v),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=h,this.gutter_=d,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||u,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const E=r.getTileCoordExtent(this.wrappedTileCoord_),T=this.targetTileGrid_.getExtent();let w=this.sourceTileGrid_.getExtent();const C=T?Ks(E,T):E;if(Jf(C)===0){this.state=gt.EMPTY;return}const M=t.getExtent();M&&(w?w=Ks(w,M):w=M);const N=r.getResolution(this.wrappedTileCoord_[0]),P=ZT(t,s,C,N);if(!isFinite(P)||P<=0){this.state=gt.EMPTY;return}const L=m!==void 0?m:HT;if(this.triangulation_=new BT(t,s,C,w,P*L,N),this.triangulation_.getTriangles().length===0){this.state=gt.EMPTY;return}this.sourceZ_=n.getZForResolution(P);let O=this.triangulation_.calculateSourceExtent();if(w&&(t.canWrapX()?(O[1]=ae(O[1],w[1],w[3]),O[3]=ae(O[3],w[1],w[3])):O=Ks(O,w)),!Jf(O))this.state=gt.EMPTY;else{let H=0,V=0;t.canWrapX()&&(H=qt(M),V=Math.floor((O[0]-M[0])/H)),E1(O.slice(),t,!0).forEach(Q=>{const $=n.getTileRangeForExtentAndZ(Q,this.sourceZ_);for(let ot=$.minX;ot<=$.maxX;ot++)for(let tt=$.minY;tt<=$.maxY;tt++){const et=_(this.sourceZ_,ot,tt,h);if(et){const nt=V*H;this.sourceTiles_.push({tile:et,offset:nt})}}++V}),this.sourceTiles_.length===0&&(this.state=gt.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{const s=n.tile;if(s&&s.getState()==gt.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const u=this.clipExtent_?.slice();u&&(u[0]+=n.offset,u[2]+=n.offset),t.push({extent:r,clipExtent:u,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=gt.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],u=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=YT(r,u,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=gt.LOADED}this.changed()}load(){if(this.state==gt.IDLE){this.state=gt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==gt.IDLE||s==gt.LOADING){t++;const r=kt(n,Tt.CHANGE,u=>{const c=n.getState();(c==gt.LOADED||c==gt.ERROR||c==gt.EMPTY)&&(ne(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==gt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(ne),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ju(this.canvas_.getContext("2d")),il.push(this.canvas_),this.canvas_=null),super.release()}}class KT{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof ju&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return Yt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return Yt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){Yt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Nu(a,t,n,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=n,s):[a,t,n]}function qT(a,t,n){return a+"/"+t+"/"+n}function VT(a){return WT(a[0],a[1],a[2])}function WT(a,t,n){return(t<<a)+n}function QT(a,t){const n=a[0],s=a[1],r=a[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const u=t.getFullTileRange(n);return u?u.containsXY(s,r):!0}class fy{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Mu(),{get:(t,n)=>{if(typeof Mu()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const u=n[s];if(typeof u=="function"){u(t);continue}const c=n[++s];if(typeof t[u]=="function")t[u](...c);else{if(typeof c=="function"){t[u]=c(t);continue}t[u]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const JT=5;class $T extends Pr{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=JT}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Ut()}getData(t){return null}prepareFrame(t){return Ut()}renderFrame(t,n){return Ut()}forEachFeatureAtCoordinate(t,n,s,r,u){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Rt.LOADED||n.getState()===Rt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Rt.LOADED&&n!=Rt.ERROR&&t.addEventListener(Tt.CHANGE,this.boundHandleImageChange_),n==Rt.IDLE&&(t.load(),n=t.getState()),n==Rt.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Bp=[];let Qa=null;function tR(){Qa=ve(1,1,void 0,{willReadFrequently:!0})}class dy extends $T{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Un(),this.pixelTransform=Un(),this.inversePixelTransform=Un(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){Qa||tR(),Qa.clearRect(0,0,1,1);let r;try{Qa.drawImage(t,n,s,1,1,0,0,1,1),r=Qa.getImageData(0,0,1,1).data}catch{return Qa=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let u,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&ms(ol(t.style.backgroundColor),ol(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&fE(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){u=document.createElement("div"),u.className=r;let h=u.style;h.position="absolute",h.width="100%",h.height="100%",c=ve();const d=c.canvas;u.appendChild(d),h=d.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=u,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=Qs(s),u=Xu(s),c=Yu(s),h=Zu(s);Ae(n.coordinateToPixelTransform,r),Ae(n.coordinateToPixelTransform,u),Ae(n.coordinateToPixelTransform,c),Ae(n.coordinateToPixelTransform,h);const d=this.inversePixelTransform;Ae(d,r),Ae(d,u),Ae(d,c),Ae(d,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(u[0]),Math.round(u[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,u=t.viewState.rotation,c=t.pixelRatio,h=Math.round(qt(s)/r*c),d=Math.round(Ye(s)/r*c);Ci(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,u,-h/2,-d/2),L1(this.inversePixelTransform,this.pixelTransform);const _=hE(this.pixelTransform);if(this.useContainer(n,_,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=d?(m.width=h,m.height=d):this.context.clearRect(0,0,h,d),_!==m.style.transform&&(m.style.transform=_)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const u=new ry(t,this.inversePixelTransform,s,n);r.dispatchEvent(u)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(bn.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(bn.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new fy),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(bn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(bn.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,u,c,h){const d=u/2,_=c/2,m=r/n,p=-m,v=-t[0]+h,E=-t[1];return Ci(this.tempTransform,d,_,m,p,-s,v,E)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Xf(a,t,n,s,r){return`${Pt(a)},${t},${qT(n,s,r)}`}function Bf(a,t,n){if(!(n in a))return a[n]=new Set([t]),!0;const s=a[n],r=s.has(t);return r||s.add(t),!r}function eR(a,t,n){const s=a[n];return s?s.delete(t):!1}function Hp(a,t){const n=a.layerStatesArray[a.layerIndex];n.extent&&(t=Ks(t,hs(n.extent,a.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=Ks(t,r))}return t}class nR extends dy{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=An(),this.tempTileRange_=new Wd(0,0,0,0),this.tempTileCoord_=Nu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new KT(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,r){const u=this.tileCache_,h=this.getLayer().getSource(),d=Xf(h,h.getKey(),t,n,s);let _;if(u.containsKey(d))_=u.get(d);else{if(_=h.getTile(t,n,s,r.pixelRatio,r.viewState.projection),!_)return null;u.set(d,_)}return _}getTile(t,n,s,r){const u=this.getOrCreateTile(t,n,s,r);return u||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=Ae(n.pixelToCoordinateTransform,t.slice()),u=s.getExtent();if(u&&!ll(u,r))return null;const c=n.viewState,h=s.getRenderSource(),d=h.getTileGridForProjection(c.projection),_=h.getTilePixelRatio(n.pixelRatio);for(let m=d.getZForResolution(c.resolution);m>=d.getMinZoom();--m){const p=d.getTileCoordForCoordAndZ(r,m),v=this.getTile(m,p[1],p[2],n);if(!v||v.getState()!==gt.LOADED)continue;const E=d.getOrigin(m),T=en(d.getTileSize(m)),w=d.getResolution(m);let C;if(v instanceof cy||v instanceof hy)C=v.getImage();else if(v instanceof Fp){if(C=cd(v.getData()),!C)continue}else continue;const M=Math.floor(_*((r[0]-E[0])/w-p[1]*T[0])),N=Math.floor(_*((E[1]-r[1])/w-p[2]*T[1])),P=Math.round(_*h.getGutterForProjection(c.projection));return this.getImageData(C,M+P,N+P)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=s,!0}enqueueTiles(t,n,s,r,u){const c=t.viewState,h=this.getLayer(),d=h.getRenderSource(),_=d.getTileGridForProjection(c.projection),m=Pt(d);m in t.wantedTiles||(t.wantedTiles[m]={});const p=t.wantedTiles[m],v=h.getMapInternal(),E=Math.max(s-u,_.getMinZoom(),_.getZForResolution(Math.min(h.getMaxResolution(),v?v.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):_.getResolution(0)),d.zDirection)),T=c.rotation,w=T?v1(c.center,c.resolution,T,t.size):void 0;for(let C=s;C>=E;--C){const M=_.getTileRangeForExtentAndZ(n,C,this.tempTileRange_),N=_.getResolution(C);for(let P=M.minX;P<=M.maxX;++P)for(let L=M.minY;L<=M.maxY;++L){if(T&&!_.tileCoordIntersectsViewport([C,P,L],w))continue;const O=this.getTile(C,P,L,t);if(!O||!Bf(r,O,C))continue;const V=O.getKey();if(p[V]=!0,O.getState()===gt.IDLE&&!t.tileQueue.isKeyQueued(V)){const K=Nu(C,P,L,this.tempTileCoord_);t.tileQueue.enqueue([O,m,_.getTileCoordCenter(K),N])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],u=t[1],c=t[2],h=this.getStaleKeys();for(let d=0;d<h.length;++d){const _=Xf(this.getLayer().getSource(),h[d],r,u,c);if(s.containsKey(_)){const m=s.peek(_);if(m.getState()===gt.LOADED)return m.endTransition(Pt(this)),Bf(n,m,r),!0}}return!1}findAltTiles_(t,n,s,r){const u=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!u)return!1;let c=!0;const h=this.tileCache_,d=this.getLayer().getRenderSource(),_=d.getKey();for(let m=u.minX;m<=u.maxX;++m)for(let p=u.minY;p<=u.maxY;++p){const v=Xf(d,_,s,m,p);let E=!1;if(h.containsKey(v)){const T=h.peek(v);T.getState()===gt.LOADED&&(Bf(r,T,s),E=!0)}E||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],r=t.viewState,u=r.projection,c=r.resolution,h=r.center,d=t.pixelRatio,_=this.getLayer(),m=_.getSource(),p=m.getTileGridForProjection(u),v=p.getZForResolution(c,m.zDirection),E=p.getResolution(v),T=m.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==T&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=T):this.renderedSourceKey_=T;let w=t.extent;const C=m.getTilePixelRatio(d);this.prepareContainer(t,n);const M=this.context.canvas.width,N=this.context.canvas.height,P=s.extent&&hs(s.extent);P&&(w=Ks(w,hs(s.extent)));const L=E*M/2/C,O=E*N/2/C,H=[h[0]-L,h[1]-O,h[0]+L,h[1]+O],V={};this.renderedTiles.length=0;const K=_.getPreload();if(t.nextExtent){const W=p.getZForResolution(r.nextResolution,m.zDirection),st=Hp(t,t.nextExtent);this.enqueueTiles(t,st,W,V,K)}const Q=Hp(t,w);if(this.enqueueTiles(t,Q,v,V,0),K>0&&setTimeout(()=>{this.enqueueTiles(t,Q,v-1,V,K-1)},0),!(v in V))return this.container;const $=Pt(this),ot=t.time;for(const W of V[v]){const st=W.getState();if(st===gt.EMPTY)continue;const R=W.tileCoord;if(st===gt.LOADED&&W.getAlpha($,ot)===1){W.endTransition($);continue}if(st!==gt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(R,V)){eR(V,W,v),t.animate=!0;continue}if(this.findAltTiles_(p,R,v+1,V))continue;const J=p.getMinZoom();for(let it=v-1;it>=J&&!this.findAltTiles_(p,R,it,V);--it);}const tt=E/c*d/C,et=this.getRenderContext(t);Ci(this.tempTransform,M/2,N/2,tt,tt,0,-M/2,-N/2),s.extent&&this.clipUnrotated(et,t,P),m.getInterpolate()||(et.imageSmoothingEnabled=!1),this.preRender(et,t);const nt=Object.keys(V).map(Number);nt.sort(Ti);let ct;const I=[],X=[];for(let W=nt.length-1;W>=0;--W){const st=nt[W],R=m.getTilePixelSize(st,d,u),k=p.getResolution(st)/E,J=R[0]*k*tt,it=R[1]*k*tt,ft=p.getTileCoordForCoordAndZ(Qs(H),st),ut=p.getTileCoordExtent(ft),zt=Ae(this.tempTransform,[C*(ut[0]-H[0])/E,C*(H[3]-ut[3])/E]),wt=C*m.getGutterForProjection(u);for(const lt of V[st]){if(lt.getState()!==gt.LOADED)continue;const _t=lt.tileCoord,rt=ft[1]-_t[1],xt=Math.round(zt[0]-(rt-1)*J),Lt=ft[2]-_t[2],jt=Math.round(zt[1]-(Lt-1)*it),Xt=Math.round(zt[0]-rt*J),xe=Math.round(zt[1]-Lt*it),ce=xt-Xt,Mn=jt-xe,$t=nt.length===1;let Zn=!1;ct=[Xt,xe,Xt+ce,xe,Xt+ce,xe+Mn,Xt,xe+Mn];for(let On=0,Mi=I.length;On<Mi;++On)if(!$t&&st<X[On]){const he=I[On];$e([Xt,xe,Xt+ce,xe+Mn],[he[0],he[3],he[4],he[7]])&&(Zn||(et.save(),Zn=!0),et.beginPath(),et.moveTo(ct[0],ct[1]),et.lineTo(ct[2],ct[3]),et.lineTo(ct[4],ct[5]),et.lineTo(ct[6],ct[7]),et.moveTo(he[6],he[7]),et.lineTo(he[4],he[5]),et.lineTo(he[2],he[3]),et.lineTo(he[0],he[1]),et.clip())}I.push(ct),X.push(st),this.drawTile(lt,t,Xt,xe,ce,Mn,wt,$t),Zn&&et.restore(),this.renderedTiles.unshift(lt),this.updateUsedTiles(t.usedTiles,m,lt)}}if(this.renderedResolution=E,this.extentChanged=!this.renderedExtent_||!Mr(this.renderedExtent_,H),this.renderedExtent_=H,this.renderedPixelRatio=d,this.postRender(this.context,t),s.extent&&et.restore(),et.imageSmoothingEnabled=!0,this.renderComplete){const W=(st,R)=>{const F=Pt(m),k=R.wantedTiles[F],J=k?Object.keys(k).length:0;this.updateCacheSize(J),this.tileCache_.expireCache()};t.postRenderFunctions.push(W)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,u,c,h,d){let _;if(t instanceof Fp){if(_=cd(t.getData()),!_)throw new Error("Rendering array data is not yet supported")}else _=this.getTileImage(t);if(!_)return;const m=this.getRenderContext(n),p=Pt(this),v=n.layerStatesArray[n.layerIndex],E=v.opacity*(d?t.getAlpha(p,n.time):1),T=E!==m.globalAlpha;T&&(m.save(),m.globalAlpha=E),m.drawImage(_,h,h,_.width-2*h,_.height-2*h,s,r,u,c),T&&m.restore(),E!==v.opacity?n.animate=!0:d&&t.endTransition(p)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=Pt(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const pu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class iR extends $u{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(pu.PRELOAD)}setPreload(t){this.set(pu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(pu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(pu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class sR extends iR{constructor(t){super(t)}createRenderer(){return new nR(this,{cacheSize:this.getCacheSize()})}}class gy{drawCustom(t,n,s,r,u){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const dt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},yu=[dt.FILL],fs=[dt.STROKE],Xs=[dt.BEGIN_PATH],Kp=[dt.CLOSE_PATH];class Hr extends gy{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,u=this.coordinates;let c=u.length;for(let h=0,d=t.length;h<d;h+=n)r[0]=t[h],r[1]=t[h+1],ll(s,r)&&(u[c++]=r[0],u[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,u,c){const h=this.coordinates;let d=h.length;const _=this.getBufferedMaxExtent();c&&(n+=r);let m=t[n],p=t[n+1];const v=this.tmpCoordinate_;let E=!0,T,w,C;for(T=n+r;T<s;T+=r)v[0]=t[T],v[1]=t[T+1],C=Qf(_,v),C!==w?(E&&(h[d++]=m,h[d++]=p,E=!1),h[d++]=v[0],h[d++]=v[1]):C===we.INTERSECTING?(h[d++]=v[0],h[d++]=v[1],E=!1):E=!0,m=v[0],p=v[1],w=C;return(u&&E||T===n+r)&&(h[d++]=m,h[d++]=p),d}drawCustomCoordinates_(t,n,s,r,u){for(let c=0,h=s.length;c<h;++c){const d=s[c],_=this.appendFlatLineCoordinates(t,n,d,r,!1,!1);u.push(_),n=d}return n}drawCustom(t,n,s,r,u){this.beginGeometry(t,n,u);const c=t.getType(),h=t.getStride(),d=this.coordinates.length;let _,m,p,v,E;switch(c){case"MultiPolygon":_=t.getOrientedFlatCoordinates(),v=[];const T=t.getEndss();E=0;for(let w=0,C=T.length;w<C;++w){const M=[];E=this.drawCustomCoordinates_(_,E,T[w],h,M),v.push(M)}this.instructions.push([dt.CUSTOM,d,v,t,s,pp,u]),this.hitDetectionInstructions.push([dt.CUSTOM,d,v,t,r||s,pp,u]);break;case"Polygon":case"MultiLineString":p=[],_=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),E=this.drawCustomCoordinates_(_,0,t.getEnds(),h,p),this.instructions.push([dt.CUSTOM,d,p,t,s,Au,u]),this.hitDetectionInstructions.push([dt.CUSTOM,d,p,t,r||s,Au,u]);break;case"LineString":case"Circle":_=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(_,0,_.length,h,!1,!1),this.instructions.push([dt.CUSTOM,d,m,t,s,Fs,u]),this.hitDetectionInstructions.push([dt.CUSTOM,d,m,t,r||s,Fs,u]);break;case"MultiPoint":_=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(_,h),m>d&&(this.instructions.push([dt.CUSTOM,d,m,t,s,Fs,u]),this.hitDetectionInstructions.push([dt.CUSTOM,d,m,t,r||s,Fs,u]));break;case"Point":_=t.getFlatCoordinates(),this.coordinates.push(_[0],_[1]),m=this.coordinates.length,this.instructions.push([dt.CUSTOM,d,m,t,s,void 0,u]),this.hitDetectionInstructions.push([dt.CUSTOM,d,m,t,r||s,void 0,u]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[dt.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[dt.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,u,c=-1;for(n=0;n<s;++n)r=t[n],u=r[0],u==dt.END_GEOMETRY?c=n:u==dt.BEGIN_GEOMETRY&&(r[2]=n,ox(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=ei(s||Je)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=ei(s||Ir);const r=t.getLineCap();n.lineCap=r!==void 0?r:ul;const u=t.getLineDash();n.lineDash=u?u.slice():Ri;const c=t.getLineDashOffset();n.lineDashOffset=c||bi;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:cl;const d=t.getWidth();n.lineWidth=d!==void 0?d:jr;const _=t.getMiterLimit();n.miterLimit=_!==void 0?_:Nr,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[dt.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[dt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,u=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,d=t.lineWidth,_=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||u!=t.currentLineDash&&!ms(t.currentLineDash,u)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=d||t.currentMiterLimit!=_)&&(n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=u,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=d,t.currentMiterLimit=_)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[dt.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=g1(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;md(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class aR extends Hr{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!ll(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,u);this.instructions.push([dt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),u=[];for(let d=0,_=r.length;d<_;d+=t.getStride())(!this.maxExtent||ll(this.maxExtent,r.slice(d,d+2)))&&u.push(r[d],r[d+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(u,2);this.instructions.push([dt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),u=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=u[0],this.originY_=u[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class lR extends Hr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const u=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),h=[dt.MOVE_TO_LINE_TO,u,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ri,bi],Xs);const h=t.getFlatCoordinates(),d=t.getStride();this.drawFlatCoordinates_(h,0,h.length,d),this.hitDetectionInstructions.push(fs),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,u=r.strokeStyle,c=r.lineWidth;if(u===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ri,bi],Xs);const h=t.getEnds(),d=t.getFlatCoordinates(),_=t.getStride();let m=0;for(let p=0,v=h.length;p<v;++p)m=this.drawFlatCoordinates_(d,m,h[p],_);this.hitDetectionInstructions.push(fs),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(fs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(fs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Xs)}}class qp extends Hr{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const u=this.state,c=u.fillStyle!==void 0,h=u.strokeStyle!==void 0,d=s.length;this.instructions.push(Xs),this.hitDetectionInstructions.push(Xs);for(let _=0;_<d;++_){const m=s[_],p=this.coordinates.length,v=this.appendFlatLineCoordinates(t,n,m,r,!0,!h),E=[dt.MOVE_TO_LINE_TO,p,v];this.instructions.push(E),this.hitDetectionInstructions.push(E),h&&(this.instructions.push(Kp),this.hitDetectionInstructions.push(Kp)),n=m}return c&&(this.instructions.push(yu),this.hitDetectionInstructions.push(yu)),h&&(this.instructions.push(fs),this.hitDetectionInstructions.push(fs)),n}drawCircle(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,Je]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ri,bi]);const h=t.getFlatCoordinates(),d=t.getStride(),_=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,d,!1,!1);const m=[dt.CIRCLE,_];this.instructions.push(Xs,m),this.hitDetectionInstructions.push(Xs,m),r.fillStyle!==void 0&&(this.instructions.push(yu),this.hitDetectionInstructions.push(yu)),r.strokeStyle!==void 0&&(this.instructions.push(fs),this.hitDetectionInstructions.push(fs)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,Je]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ri,bi]);const h=t.getEnds(),d=t.getOrientedFlatCoordinates(),_=t.getStride();this.drawFlatCoordinatess_(d,0,h,_),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,u=r.fillStyle,c=r.strokeStyle;if(u===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_FILL_STYLE,Je]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([dt.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ri,bi]);const h=t.getEndss(),d=t.getOrientedFlatCoordinates(),_=t.getStride();let m=0;for(let p=0,v=h.length;p<v;++p)m=this.drawFlatCoordinatess_(d,m,h[p],_);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=Gs(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}}function rR(a,t,n,s,r){const u=[];let c=n,h=0,d=t.slice(n,2);for(;h<a&&c+r<s;){const[_,m]=d.slice(-2),p=t[c+r],v=t[c+r+1],E=Math.sqrt((p-_)*(p-_)+(v-m)*(v-m));if(h+=E,h>=a){const T=(a-h+E)/E,w=dn(_,p,T),C=dn(m,v,T);d.push(w,C),u.push(d),d=[w,C],h==a&&(c+=r),h=0}else if(h<a)d.push(t[c+r],t[c+r+1]),c+=r;else{const T=E-h,w=dn(_,p,T/E),C=dn(m,v,T/E);d.push(w,C),u.push(d),d=[w,C],h=0,c+=r}}return h>0&&u.push(d),u}function oR(a,t,n,s,r){let u=n,c=n,h=0,d=0,_=n,m,p,v,E,T,w,C,M,N,P;for(p=n;p<s;p+=r){const L=t[p],O=t[p+1];T!==void 0&&(N=L-T,P=O-w,E=Math.sqrt(N*N+P*P),C!==void 0&&(d+=v,m=Math.acos((C*N+M*P)/(v*E)),m>a&&(d>h&&(h=d,u=_,c=p),d=0,_=p-r)),v=E,C=N,M=P),T=L,w=O}return d+=E,d>h?[_,p]:[u,c]}const Iu={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class uR extends Hr{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Je]={fillStyle:Je},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,u=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!u)return;const h=this.coordinates;let d=h.length;const _=t.getType();let m=null,p=t.getStride();if(c.placement==="line"&&(_=="LineString"||_=="MultiLineString"||_=="Polygon"||_=="MultiPolygon")){if(!$e(this.maxExtent,t.getExtent()))return;let v;if(m=t.getFlatCoordinates(),_=="LineString")v=[m.length];else if(_=="MultiLineString")v=t.getEnds();else if(_=="Polygon")v=t.getEnds().slice(0,1);else if(_=="MultiPolygon"){const C=t.getEndss();v=[];for(let M=0,N=C.length;M<N;++M)v.push(C[M][0])}this.beginGeometry(t,n,s);const E=c.repeat,T=E?void 0:c.textAlign;let w=0;for(let C=0,M=v.length;C<M;++C){let N;E?N=rR(E*this.resolution,m,w,v[C],p):N=[m.slice(w,v[C])];for(let P=0,L=N.length;P<L;++P){const O=N[P];let H=0,V=O.length;if(T==null){const Q=oR(c.maxAngle,O,0,O.length,2);H=Q[0],V=Q[1]}for(let Q=H;Q<V;Q+=p)h.push(O[Q],O[Q+1]);const K=h.length;w=v[C],this.drawChars_(d,K),d=K}}this.endGeometry(n)}else{let v=c.overflow?null:[];switch(_){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),p=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||v.push(m[2]/this.resolution),p=3;break;case"MultiPolygon":const L=t.getFlatInteriorPoints();m=[];for(let O=0,H=L.length;O<H;O+=3)c.overflow||v.push(L[O+2]/this.resolution),m.push(L[O],L[O+1]);if(m.length===0)return;p=2;break}const E=this.appendFlatPointCoordinates(m,p);if(E===d)return;if(v&&(E-d)/2!==m.length/p){let L=d/2;v=v.filter((O,H)=>{const V=h[(L+H)*2]===m[H*p]&&h[(L+H)*2+1]===m[H*p+1];return V||--L,V})}this.saveTextStates_();const T=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,w=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let C=c.padding;if(C!=Ys&&(c.scale[0]<0||c.scale[1]<0)){let L=c.padding[0],O=c.padding[1],H=c.padding[2],V=c.padding[3];c.scale[0]<0&&(O=-O,V=-V),c.scale[1]<0&&(L=-L,H=-H),C=[L,O,H,V]}const M=this.pixelRatio;this.instructions.push([dt.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,C==Ys?Ys:C.map(function(L){return L*M}),T,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]);const N=1/M,P=T?T.slice(0):null;P&&(P[1]=Je),this.hitDetectionInstructions.push([dt.DRAW_IMAGE,d,E,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[N,N],NaN,this.declutterMode_,this.declutterImageWithText_,C,P,w,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Je:this.fillKey_,this.textOffsetX_,this.textOffsetY_,v]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const u=this.textKey_;u in this.textStates||(this.textStates[u]={font:n.font,textAlign:n.textAlign||zr,justify:n.justify,textBaseline:n.textBaseline||Ou,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,u=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const d=this.pixelRatio,_=Iu[r.textBaseline],m=this.textOffsetY_*d,p=this.text_,v=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([dt.DRAW_CHARS,t,n,_,r.overflow,h,r.maxAngle,d,m,u,v*d,p,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([dt.DRAW_CHARS,t,n,_,r.overflow,h&&Je,r.maxAngle,d,m,u,v*d,p,c,1/d,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,u;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=ei(c.getColor()||Je)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)u=null,this.textStrokeState_=u;else{u=this.textStrokeState_,u||(u={},this.textStrokeState_=u);const w=h.getLineDash(),C=h.getLineDashOffset(),M=h.getWidth(),N=h.getMiterLimit();u.lineCap=h.getLineCap()||ul,u.lineDash=w?w.slice():Ri,u.lineDashOffset=C===void 0?bi:C,u.lineJoin=h.getLineJoin()||cl,u.lineWidth=M===void 0?jr:M,u.miterLimit=N===void 0?Nr:N,u.strokeStyle=ei(h.getColor()||Ir)}s=this.textState_;const d=t.getFont()||J1;hT(d);const _=t.getScaleArray();s.overflow=t.getOverflow(),s.font=d,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Ou,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||Ys,s.scale=_===void 0?[1,1]:_;const m=t.getOffsetX(),p=t.getOffsetY(),v=t.getRotateWithView(),E=t.getKeepUpright(),T=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=v===void 0?!1:v,this.textKeepUpright_=E===void 0?!0:E,this.textRotation_=T===void 0?0:T,this.strokeKey_=u?(typeof u.strokeStyle=="string"?u.strokeStyle:Pt(u.strokeStyle))+u.lineCap+u.lineDashOffset+"|"+u.lineWidth+u.lineJoin+u.miterLimit+"["+u.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Pt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const cR={Circle:qp,Default:Hr,Image:aR,LineString:lR,Polygon:qp,Text:uR};class hR{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const u=s[r].finish();t[n][r]=u}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let u=r[n];if(u===void 0){const c=cR[n];u=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=u}return u}}function _y(a,t,n,s){let r=a[t],u=a[t+1],c=0;for(let h=t+s;h<n;h+=s){const d=a[h],_=a[h+1];c+=Math.sqrt((d-r)*(d-r)+(_-u)*(_-u)),r=d,u=_}return c}function fR(a,t,n,s,r,u,c,h,d,_,m,p,v=!0){let E=a[t],T=a[t+1],w=0,C=0,M=0,N=0;function P(){w=E,C=T,t+=s,E=a[t],T=a[t+1],N+=M,M=Math.sqrt((E-w)*(E-w)+(T-C)*(T-C))}do P();while(t<n-s&&N+M<u);let L=M===0?0:(u-N)/M;const O=dn(w,E,L),H=dn(C,T,L),V=t-s,K=N,Q=u+h*d(_,r,m);for(;t<n-s&&N+M<Q;)P();L=M===0?0:(Q-N)/M;const $=dn(w,E,L),ot=dn(C,T,L);let tt=!1;if(v)if(p){const X=[O,H,$,ot];N1(X,0,4,2,p,X,X),tt=X[0]>X[2]}else tt=O>$;const et=Math.PI,nt=[],ct=V+s===t;t=V,M=0,N=K,E=a[t],T=a[t+1];let I;if(ct){P(),I=Math.atan2(T-C,E-w),tt&&(I+=I>0?-et:et);const X=($+O)/2,W=(ot+H)/2;return nt[0]=[X,W,(Q-u)/2,I,r],nt}r=r.replace(/\n/g," ");for(let X=0,W=r.length;X<W;){P();let st=Math.atan2(T-C,E-w);if(tt&&(st+=st>0?-et:et),I!==void 0){let ft=st-I;if(ft+=ft>et?-2*et:ft<-et?2*et:0,Math.abs(ft)>c)return null}I=st;const R=X;let F=0;for(;X<W;++X){const ft=tt?W-X-1:X,ut=h*d(_,r[ft],m);if(t+s<n&&N+M<u+F+ut/2)break;F+=ut}if(X===R)continue;const k=tt?r.substring(W-R,W-X):r.substring(R,X);L=M===0?0:(u+F/2-N)/M;const J=dn(w,E,L),it=dn(C,T,L);nt.push([J,it,F/2,st,k]),u+=F}return nt}const Ha=An(),ns=[],yi=[],vi=[],is=[];function Vp(a){return a[3].declutterBox}const Wp=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Hf(a,t){return t==="start"?t=Wp.test(a)?"right":"left":t==="end"&&(t=Wp.test(a)?"left":"right"),Iu[t]}function dR(a,t,n){return n>0&&a.push(`
`,""),a.push(t,""),a}function gR(a,t,n){return n%2===0&&(a+=t),a}class _R{constructor(t,n,s,r,u){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Un(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=u?new fy:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const u=t+n+s+r;if(this.labels_[u])return this.labels_[u];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,d=this.textStates[n],_=this.pixelRatio,m=[d.scale[0]*_,d.scale[1]*_],p=d.justify?Iu[d.justify]:Hf(Array.isArray(t)?t[0]:t,d.textAlign||zr),v=r&&c.lineWidth?c.lineWidth:0,E=Array.isArray(t)?t:String(t).split(`
`).reduce(dR,[]),{width:T,height:w,widths:C,heights:M,lineWidths:N}=dT(d,E),P=T+v,L=[],O=(P+2)*m[0],H=(w+v)*m[1],V={width:O<0?Math.floor(O):Math.ceil(O),height:H<0?Math.floor(H):Math.ceil(H),contextInstructions:L};(m[0]!=1||m[1]!=1)&&L.push("scale",m),r&&(L.push("strokeStyle",c.strokeStyle),L.push("lineWidth",v),L.push("lineCap",c.lineCap),L.push("lineJoin",c.lineJoin),L.push("miterLimit",c.miterLimit),L.push("setLineDash",[c.lineDash]),L.push("lineDashOffset",c.lineDashOffset)),s&&L.push("fillStyle",h.fillStyle),L.push("textBaseline","middle"),L.push("textAlign","center");const K=.5-p;let Q=p*P+K*v;const $=[],ot=[];let tt=0,et=0,nt=0,ct=0,I;for(let X=0,W=E.length;X<W;X+=2){const st=E[X];if(st===`
`){et+=tt,tt=0,Q=p*P+K*v,++ct;continue}const R=E[X+1]||d.font;R!==I&&(r&&$.push("font",R),s&&ot.push("font",R),I=R),tt=Math.max(tt,M[nt]);const F=[st,Q+K*C[nt]+p*(C[nt]-N[ct]),.5*(v+tt)+et];Q+=C[nt],r&&$.push("strokeText",F),s&&ot.push("fillText",F),++nt}return Array.prototype.push.apply(L,$),Array.prototype.push.apply(L,ot),this.labels_[u]=V,V}replayTextBackground_(t,n,s,r,u,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,u),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,u,c,h,d,_,m,p,v,E,T,w,C){h*=v[0],d*=v[1];let M=s-h,N=r-d;const P=u+_>t?t-_:u,L=c+m>n?n-m:c,O=T[3]+P*v[0]+T[1],H=T[0]+L*v[1]+T[2],V=M-T[3],K=N-T[0];(w||p!==0)&&(ns[0]=V,is[0]=V,ns[1]=K,yi[1]=K,yi[0]=V+O,vi[0]=yi[0],vi[1]=K+H,is[1]=vi[1]);let Q;return p!==0?(Q=Ci(Un(),s,r,1,1,p,-s,-r),Ae(Q,ns),Ae(Q,yi),Ae(Q,vi),Ae(Q,is),_s(Math.min(ns[0],yi[0],vi[0],is[0]),Math.min(ns[1],yi[1],vi[1],is[1]),Math.max(ns[0],yi[0],vi[0],is[0]),Math.max(ns[1],yi[1],vi[1],is[1]),Ha)):_s(Math.min(V,V+O),Math.min(K,K+H),Math.max(V,V+O),Math.max(K,K+H),Ha),E&&(M=Math.round(M),N=Math.round(N)),{drawImageX:M,drawImageY:N,drawImageW:P,drawImageH:L,originX:_,originY:m,declutterBox:{minX:Ha[0],minY:Ha[1],maxX:Ha[2],maxY:Ha[3],value:C},canvasTransform:Q,scale:v}}replayImageOrLabel_(t,n,s,r,u,c,h){const d=!!(c||h),_=r.declutterBox,m=h?h[2]*r.scale[0]/2:0;return _.minX-m<=n[0]&&_.maxX+m>=0&&_.minY-m<=n[1]&&_.maxY+m>=0&&(d&&this.replayTextBackground_(t,ns,yi,vi,is,c,h),gT(t,r.canvasTransform,u,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=Ae(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],n[1]&&(t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6]))}drawLabelWithPointPlacement_(t,n,s,r){const u=this.textStates[n],c=this.createLabel(t,n,r,s),h=this.strokeStates[s],d=this.pixelRatio,_=Hf(Array.isArray(t)?t[0]:t,u.textAlign||zr),m=Iu[u.textBaseline||Ou],p=h&&h.lineWidth?h.lineWidth:0,v=c.width/d-2*u.scale[0],E=_*v+2*(.5-_)*p,T=m*c.height/d+2*(.5-m)*p;return{label:c,anchorX:E,anchorY:T}}execute_(t,n,s,r,u,c,h,d){const _=this.zIndexContext_;let m;this.pixelCoordinates_&&ms(s,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=gs(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),oE(this.renderedTransform_,s));let p=0;const v=r.length;let E=0,T,w,C,M,N,P,L,O,H,V,K,Q,$,ot=0,tt=0;const et=this.coordinateCache_,nt=this.viewRotation_,ct=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,I={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:nt},X=this.instructions!=r||this.overlaps?0:200;let W,st,R,F;for(;p<v;){const k=r[p];switch(k[0]){case dt.BEGIN_GEOMETRY:W=k[1],F=k[3],W.getGeometry()?h!==void 0&&!$e(h,F.getExtent())?p=k[2]+1:++p:p=k[2],_&&(_.zIndex=k[4]);break;case dt.BEGIN_PATH:ot>X&&(this.fill_(t),ot=0),tt>X&&(t.stroke(),tt=0),!ot&&!tt&&(t.beginPath(),N=NaN,P=NaN),++p;break;case dt.CIRCLE:E=k[1];const it=m[E],ft=m[E+1],ut=m[E+2],zt=m[E+3],wt=ut-it,lt=zt-ft,_t=Math.sqrt(wt*wt+lt*lt);t.moveTo(it+_t,ft),t.arc(it,ft,_t,0,2*Math.PI,!0),++p;break;case dt.CLOSE_PATH:t.closePath(),++p;break;case dt.CUSTOM:E=k[1],T=k[2];const rt=k[3],xt=k[4],Lt=k[5];I.geometry=rt,I.feature=W,p in et||(et[p]=[]);const jt=et[p];Lt?Lt(m,E,T,2,jt):(jt[0]=m[E],jt[1]=m[E+1],jt.length=2),_&&(_.zIndex=k[6]),xt(jt,I),++p;break;case dt.DRAW_IMAGE:E=k[1],T=k[2],H=k[3],w=k[4],C=k[5];let Xt=k[6];const xe=k[7],ce=k[8],Mn=k[9],$t=k[10];let Zn=k[11];const On=k[12];let Mi=k[13];M=k[14]||"declutter";const he=k[15];if(!H&&k.length>=20){V=k[19],K=k[20],Q=k[21],$=k[22];const Pe=this.drawLabelWithPointPlacement_(V,K,Q,$);H=Pe.label,k[3]=H;const Ln=k[23];w=(Pe.anchorX-Ln)*this.pixelRatio,k[4]=w;const Ie=k[24];C=(Pe.anchorY-Ie)*this.pixelRatio,k[5]=C,Xt=H.height,k[6]=Xt,Mi=H.width,k[13]=Mi}let gl;k.length>25&&(gl=k[25]);let _l,Yn,Ee;k.length>17?(_l=k[16],Yn=k[17],Ee=k[18]):(_l=Ys,Yn=null,Ee=null),$t&&ct?Zn+=nt:!$t&&!ct&&(Zn-=nt);let Xn=0;for(;E<T;E+=2){if(gl&&gl[Xn++]<Mi/this.pixelRatio)continue;const Pe=this.calculateImageOrLabelDimensions_(H.width,H.height,m[E],m[E+1],Mi,Xt,w,C,ce,Mn,Zn,On,u,_l,!!Yn||!!Ee,W),Ln=[t,n,H,Pe,xe,Yn,Ee];if(d){let Ie,sn,Be;if(he){const At=T-E;if(!he[At]){he[At]={args:Ln,declutterMode:M};continue}const le=he[At];Ie=le.args,sn=le.declutterMode,delete he[At],Be=Vp(Ie)}let Se,te;if(Ie&&(sn!=="declutter"||!d.collides(Be))&&(Se=!0),(M!=="declutter"||!d.collides(Pe.declutterBox))&&(te=!0),sn==="declutter"&&M==="declutter"){const At=Se&&te;Se=At,te=At}Se&&(sn!=="none"&&d.insert(Be),this.replayImageOrLabel_.apply(this,Ie)),te&&(M!=="none"&&d.insert(Pe.declutterBox),this.replayImageOrLabel_.apply(this,Ln))}else this.replayImageOrLabel_.apply(this,Ln)}++p;break;case dt.DRAW_CHARS:const Ne=k[1],qr=k[2],ml=k[3],ac=k[4];$=k[5];const ea=k[6],ys=k[7],Bn=k[8];Q=k[9];const Oi=k[10];V=k[11],Array.isArray(V)&&(V=V.reduce(gR,"")),K=k[12];const Di=[k[13],k[13]];M=k[14]||"declutter";const lc=k[15],na=this.textStates[K],Li=na.font,ni=[na.scale[0]*ys,na.scale[1]*ys];let Dn;Li in this.widths_?Dn=this.widths_[Li]:(Dn={},this.widths_[Li]=Dn);const Vr=_y(m,Ne,qr,2),pl=Math.abs(ni[0])*Np(Li,V,Dn);if(ac||pl<=Vr){const Pe=this.textStates[K].textAlign,Ln=(Vr-pl)*Hf(V,Pe),Ie=fR(m,Ne,qr,2,V,Ln,ea,Math.abs(ni[0]),Np,Li,Dn,ct?0:this.viewRotation_,lc);t:if(Ie){const sn=[];let Be,Se,te,At,le;if(Q)for(Be=0,Se=Ie.length;Be<Se;++Be){le=Ie[Be],te=le[4],At=this.createLabel(te,K,"",Q),w=le[2]+(ni[0]<0?-Oi:Oi),C=ml*At.height+(.5-ml)*2*Oi*ni[1]/ni[0]-Bn;const an=this.calculateImageOrLabelDimensions_(At.width,At.height,le[0],le[1],At.width,At.height,w,C,0,0,le[3],Di,!1,Ys,!1,W);if(d&&M==="declutter"&&d.collides(an.declutterBox))break t;sn.push([t,n,At,an,1,null,null])}if($)for(Be=0,Se=Ie.length;Be<Se;++Be){le=Ie[Be],te=le[4],At=this.createLabel(te,K,$,""),w=le[2],C=ml*At.height-Bn;const an=this.calculateImageOrLabelDimensions_(At.width,At.height,le[0],le[1],At.width,At.height,w,C,0,0,le[3],Di,!1,Ys,!1,W);if(d&&M==="declutter"&&d.collides(an.declutterBox))break t;sn.push([t,n,At,an,1,null,null])}d&&M!=="none"&&d.load(sn.map(Vp));for(let an=0,rc=sn.length;an<rc;++an)this.replayImageOrLabel_.apply(this,sn[an])}}++p;break;case dt.END_GEOMETRY:if(c!==void 0){W=k[1];const Pe=c(W,F,M);if(Pe)return Pe}++p;break;case dt.FILL:X?ot++:this.fill_(t),++p;break;case dt.MOVE_TO_LINE_TO:for(E=k[1],T=k[2],st=m[E],R=m[E+1],t.moveTo(st,R),N=st+.5|0,P=R+.5|0,E+=2;E<T;E+=2)st=m[E],R=m[E+1],L=st+.5|0,O=R+.5|0,(E==T-2||L!==N||O!==P)&&(t.lineTo(st,R),N=L,P=O);++p;break;case dt.SET_FILL_STYLE:this.alignAndScaleFill_=k[2],ot&&(this.fill_(t),ot=0,tt&&(t.stroke(),tt=0)),t.fillStyle=k[1],++p;break;case dt.SET_STROKE_STYLE:tt&&(t.stroke(),tt=0),this.setStrokeStyle_(t,k),++p;break;case dt.STROKE:X?tt++:t.stroke(),++p;break;default:++p;break}}ot&&this.fill_(t),tt&&t.stroke()}execute(t,n,s,r,u,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,u,void 0,void 0,c)}executeHitDetection(t,n,s,r,u){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,u)}}const Us=["Polygon","Circle","LineString","Image","Text","Default"],my=["Image","Text"],mR=Us.filter(a=>!my.includes(a));class pR{constructor(t,n,s,r,u,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Un(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(u,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const u=t[s];for(const c in u){const h=u[c];r[c]=new _R(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,u=t.length;r<u;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,u,c){r=Math.round(r);const h=r*2+1,d=Ci(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),_=!this.hitDetectionContext_;_&&(this.hitDetectionContext_=ve(h,h));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):_||m.clearRect(0,0,h,h);let p;this.renderBuffer_!==void 0&&(p=An(),br(p,t),md(p,n*(this.renderBuffer_+r),p));const v=yR(r);let E;function T(O,H,V){const K=m.getImageData(0,0,h,h).data;for(let Q=0,$=v.length;Q<$;Q++)if(K[v[Q]]>0){if(!c||V==="none"||E!=="Image"&&E!=="Text"||c.includes(O)){const ot=(v[Q]-3)/4,tt=r-ot%h,et=r-(ot/h|0),nt=u(O,H,tt*tt+et*et);if(nt)return nt}m.clearRect(0,0,h,h);break}}const w=Object.keys(this.executorsByZIndex_).map(Number);w.sort(Ti);let C,M,N,P,L;for(C=w.length-1;C>=0;--C){const O=w[C].toString();for(N=this.executorsByZIndex_[O],M=Us.length-1;M>=0;--M)if(E=Us[M],P=N[E],P!==void 0&&(L=P.executeHitDetection(m,d,s,T,p),L))return L}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],u=n[2],c=n[3],h=[s,r,s,c,u,c,u,r];return gs(h,0,8,2,t,h),h}isEmpty(){return al(this.executorsByZIndex_)}execute(t,n,s,r,u,c,h){const d=Object.keys(this.executorsByZIndex_).map(Number);d.sort(h?rx:Ti),c=c||Us;const _=Us.length;for(let m=0,p=d.length;m<p;++m){const v=d[m].toString(),E=this.executorsByZIndex_[v];for(let T=0,w=c.length;T<w;++T){const C=c[T],M=E[C];if(M!==void 0){const N=h===null?void 0:M.getZIndexContext(),P=N?N.getContext():t,L=this.maxExtent_&&C!=="Image"&&C!=="Text";if(L&&(P.save(),this.clip(P,s)),!N||C==="Text"||C==="Image"?M.execute(P,n,s,r,u,h):N.pushFunction(O=>M.execute(O,n,s,r,u,h)),L&&P.restore(),N){N.offset();const O=d[m]*_+Us.indexOf(C);this.deferredZIndexContexts_[O]||(this.deferredZIndexContexts_[O]=[]),this.deferredZIndexContexts_[O].push(N)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(Ti);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(u=>{u.draw(this.renderedContext_),u.clear()}),t[n[s]].length=0}}const Kf={};function yR(a){if(Kf[a]!==void 0)return Kf[a];const t=a*2+1,n=a*a,s=new Array(n+1);for(let u=0;u<=a;++u)for(let c=0;c<=a;++c){const h=u*u+c*c;if(h>n)break;let d=s[h];d||(d=[],s[h]=d),d.push(((a+u)*t+(a+c))*4+3),u>0&&d.push(((a-u)*t+(a+c))*4+3),c>0&&(d.push(((a+u)*t+(a-c))*4+3),u>0&&d.push(((a-u)*t+(a-c))*4+3))}const r=[];for(let u=0,c=s.length;u<c;++u)s[u]&&r.push(...s[u]);return Kf[a]=r,r}class vR extends gy{constructor(t,n,s,r,u,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?Pu(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=u,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Un()}drawImages_(t,n,s,r){if(!this.image_)return;const u=gs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,d=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=d*this.imageOpacity_);let _=this.imageRotation_;this.transformRotation_===0&&(_-=this.viewRotation_),this.imageRotateWithView_&&(_+=this.viewRotation_);for(let m=0,p=u.length;m<p;m+=2){const v=u[m]-this.imageAnchorX_,E=u[m+1]-this.imageAnchorY_;if(_!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const T=v+this.imageAnchorX_,w=E+this.imageAnchorY_;Ci(h,T,w,1,1,_,-T,-w),c.save(),c.transform.apply(c,h),c.translate(T,w),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,E,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=d)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const u=gs(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=r){const d=u[n]+this.textOffsetX_,_=u[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(d-this.textOffsetX_,_-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,d,_),this.textFillState_&&c.fillText(this.text_,d,_))}}moveToLineTo_(t,n,s,r,u){const c=this.context_,h=gs(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let d=h.length;u&&(d-=2);for(let _=2;_<d;_+=2)c.lineTo(h[_],h[_+1]);return u&&c.closePath(),s}drawRings_(t,n,s,r){for(let u=0,c=s.length;u<c;++u)n=this.moveToLineTo_(t,n,s[u],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=yE(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],u=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],u,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if($e(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let u=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let d=0,_=c.length;d<_;++d)u=this.moveToLineTo_(r,u,c[d],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!$e(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const u=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,d=u.length;h<d;++h){const _=u[h];r=this.drawRings_(s,r,_,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),ms(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:zr;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:ei(s||Je)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),u=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),d=n.getWidth(),_=n.getMiterLimit(),m=u||Ri;this.strokeState_={lineCap:r!==void 0?r:ul,lineDash:this.pixelRatio_===1?m:m.map(p=>p*this.pixelRatio_),lineDashOffset:(c||bi)*this.pixelRatio_,lineJoin:h!==void 0?h:cl,lineWidth:(d!==void 0?d:jr)*this.pixelRatio_,miterLimit:_!==void 0?_:Nr,strokeStyle:ei(s||Ir)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),u=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=u[0],this.imageOriginY_=u[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const E=n.getColor();this.textFillState_={fillStyle:ei(E||Je)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const E=s.getColor(),T=s.getLineCap(),w=s.getLineDash(),C=s.getLineDashOffset(),M=s.getLineJoin(),N=s.getWidth(),P=s.getMiterLimit();this.textStrokeState_={lineCap:T!==void 0?T:ul,lineDash:w||Ri,lineDashOffset:C||bi,lineJoin:M!==void 0?M:cl,lineWidth:N!==void 0?N:jr,miterLimit:P!==void 0?P:Nr,strokeStyle:ei(E||Ir)}}const r=t.getFont(),u=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),d=t.getRotation(),_=t.getScaleArray(),m=t.getText(),p=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:r!==void 0?r:J1,textAlign:p!==void 0?p:zr,textBaseline:v!==void 0?v:Ou},this.text_=m!==void 0?Array.isArray(m)?m.reduce((E,T,w)=>E+=w%2?" ":T,""):m:"",this.textOffsetX_=u!==void 0?this.pixelRatio_*u:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=d!==void 0?d:0,this.textScale_=[this.pixelRatio_*_[0],this.pixelRatio_*_[1]]}}}const $n=.5;function xR(a,t,n,s,r,u,c,h,d){const _=r,m=a[0]*$n,p=a[1]*$n,v=ve(m,p);v.imageSmoothingEnabled=!1;const E=v.canvas,T=new vR(v,$n,r,null,c,h,null),w=n.length,C=Math.floor((256*256*256-1)/w),M={};for(let P=1;P<=w;++P){const L=n[P-1],O=L.getStyleFunction()||s;if(!O)continue;let H=O(L,u);if(!H)continue;Array.isArray(H)||(H=[H]);const K=(P*C).toString(16).padStart(7,"#00000");for(let Q=0,$=H.length;Q<$;++Q){const ot=H[Q],tt=ot.getGeometryFunction()(L);if(!tt||!$e(_,tt.getExtent()))continue;const et=ot.clone(),nt=et.getFill();nt&&nt.setColor(K);const ct=et.getStroke();ct&&(ct.setColor(K),ct.setLineDash(null)),et.setText(void 0);const I=ot.getImage();if(I){const R=I.getImageSize();if(!R)continue;const F=ve(R[0],R[1],void 0,{alpha:!1}),k=F.canvas;F.fillStyle=K,F.fillRect(0,0,k.width,k.height),et.setImage(new ps({img:k,anchor:I.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:I.getOrigin(),opacity:1,size:I.getSize(),scale:I.getScale(),rotation:I.getRotation(),rotateWithView:I.getRotateWithView()}))}const X=et.getZIndex()||0;let W=M[X];W||(W={},M[X]=W,W.Polygon=[],W.Circle=[],W.LineString=[],W.Point=[]);const st=tt.getType();if(st==="GeometryCollection"){const R=tt.getGeometriesArrayRecursive();for(let F=0,k=R.length;F<k;++F){const J=R[F];W[J.getType().replace("Multi","")].push(J,et)}}else W[st.replace("Multi","")].push(tt,et)}}const N=Object.keys(M).map(Number).sort(Ti);for(let P=0,L=N.length;P<L;++P){const O=M[N[P]];for(const H in O){const V=O[H];for(let K=0,Q=V.length;K<Q;K+=2){T.setStyle(V[K+1]);for(let $=0,ot=t.length;$<ot;++$)T.setTransform(t[$]),T.drawGeometry(V[K])}}}return v.getImageData(0,0,E.width,E.height)}function ER(a,t,n){const s=[];if(n){const r=Math.floor(Math.round(a[0])*$n),u=Math.floor(Math.round(a[1])*$n),c=(ae(r,0,n.width-1)+ae(u,0,n.height-1)*n.width)*4,h=n.data[c],d=n.data[c+1],m=n.data[c+2]+256*(d+256*h),p=Math.floor((256*256*256-1)/t.length);m&&m%p===0&&s.push(t[m/p-1])}return s}const SR=.5,py={Point:OR,LineString:wR,Polygon:LR,MultiPoint:DR,MultiLineString:AR,MultiPolygon:MR,GeometryCollection:CR,Circle:RR};function TR(a,t){return parseInt(Pt(a),10)-parseInt(Pt(t),10)}function Qp(a,t){const n=yy(a,t);return n*n}function yy(a,t){return SR*a/t}function RR(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Circle");d.setFillStrokeStyle(u,c),d.drawCircle(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s)}}function Jp(a,t,n,s,r,u,c,h){const d=[],_=n.getImage();if(_){let v=!0;const E=_.getImageState();E==Rt.LOADED||E==Rt.ERROR?v=!1:E==Rt.IDLE&&_.load(),v&&d.push(_.ready())}const m=n.getFill();m&&m.loading()&&d.push(m.ready());const p=d.length>0;return p&&Promise.all(d).then(()=>r(null)),bR(a,t,n,s,u,c,h),p}function bR(a,t,n,s,r,u,c){const h=n.getGeometryFunction()(t);if(!h)return;const d=h.simplifyTransformed(s,r);if(n.getRenderer())vy(a,d,n,t,c);else{const m=py[d.getType()];m(a,d,n,t,c,u)}}function vy(a,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,d=c.length;h<d;++h)vy(a,c[h],n,s,r);return}a.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function CR(a,t,n,s,r,u){const c=t.getGeometriesArray();let h,d;for(h=0,d=c.length;h<d;++h){const _=py[c[h].getType()];_(a,c[h],n,s,r,u)}}function wR(a,t,n,s,r){const u=n.getStroke();if(u){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function AR(a,t,n,s,r){const u=n.getStroke();if(u){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,u),h.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function MR(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(c||u){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawMultiPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}function OR(a,t,n,s,r,u){const c=n.getImage(),h=n.getText(),d=h&&h.getText(),_=u&&c&&d?{}:void 0;if(c){if(c.getImageState()!=Rt.LOADED)return;const m=a.getBuilder(n.getZIndex(),"Image");m.setImageStyle(c,_),m.drawPoint(t,s,r)}if(d){const m=a.getBuilder(n.getZIndex(),"Text");m.setTextStyle(h,_),m.drawText(t,s,r)}}function DR(a,t,n,s,r,u){const c=n.getImage(),h=c&&c.getOpacity()!==0,d=n.getText(),_=d&&d.getText(),m=u&&h&&_?{}:void 0;if(h){if(c.getImageState()!=Rt.LOADED)return;const p=a.getBuilder(n.getZIndex(),"Image");p.setImageStyle(c,m),p.drawMultiPoint(t,s,r)}if(_){const p=a.getBuilder(n.getZIndex(),"Text");p.setTextStyle(d,m),p.drawText(t,s,r)}}function LR(a,t,n,s,r){const u=n.getFill(),c=n.getStroke();if(u||c){const d=a.getBuilder(n.getZIndex(),"Polygon");d.setFillStrokeStyle(u,c),d.drawPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const d=a.getBuilder(n.getZIndex(),"Text");d.setTextStyle(h),d.drawText(t,s,r)}}class NR extends dy{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=An(),this.wrappedRenderedExtent_=An(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,u=n.viewState,c=u.center,h=u.resolution,d=u.projection,_=u.rotation,m=d.getExtent(),p=this.getLayer().getSource(),v=this.getLayer().getDeclutter(),E=n.pixelRatio,T=n.viewHints,w=!(T[Ue.ANIMATING]||T[Ue.INTERACTING]),C=this.context,M=Math.round(qt(r)/h*E),N=Math.round(Ye(r)/h*E),P=p.getWrapX()&&d.canWrapX(),L=P?qt(m):null,O=P?Math.ceil((r[2]-m[2])/L)+1:1;let H=P?Math.floor((r[0]-m[0])/L):0;do{let V=this.getRenderTransform(c,h,0,E,M,N,H*L);n.declutter&&(V=V.slice(0)),t.execute(C,[C.canvas.width,C.canvas.height],V,_,w,s===void 0?Us:s?my:mR,s?v&&n.declutter[v]:void 0)}while(++H<O)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=ve(this.context.canvas.width,this.context.canvas.height,Bp))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Ju(this.context),Bp.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const u=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(bn.PRERENDER)||this.getLayer().hasListener(bn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(u,t),r.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const d=hs(s.extent);h=$e(d,t.extent),this.clipped_=h&&!Ja(d,t.extent),this.clipped_&&this.clipUnrotated(u,t,d)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&u.restore(),this.postRender(u,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,u=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,d=this.wrappedRenderedExtent_,_=this.getLayer(),m=[],p=s[0]*$n,v=s[1]*$n;m.push(this.getRenderTransform(r,u,c,$n,p,v,0).slice());const E=_.getSource(),T=h.getExtent();if(E.getWrapX()&&h.canWrapX()&&!Ja(T,d)){let w=d[0];const C=qt(T);let M=0,N;for(;w<T[0];)--M,N=C*M,m.push(this.getRenderTransform(r,u,c,$n,p,v,N).slice()),w+=C;for(M=0,w=d[2];w>T[2];)++M,N=C*M,m.push(this.getRenderTransform(r,u,c,$n,p,v,N).slice()),w-=C}this.hitDetectionImageData_=xR(s,m,this.renderedFeatures_,_.getStyleFunction(),d,u,c,Qp(u,this.renderedPixelRatio_))}n(ER(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,u){if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,d=this.getLayer(),_={},m=function(v,E,T){const w=Pt(v),C=_[w];if(C){if(C!==!0&&T<C.distanceSq){if(T===0)return _[w]=!0,u.splice(u.lastIndexOf(C),1),r(v,d,E);C.geometry=E,C.distanceSq=T}}else{if(T===0)return _[w]=!0,r(v,d,E);u.push(_[w]={feature:v,layer:d,geometry:E,distanceSq:T,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,m,p?n.declutter?.[p]?.all().map(v=>v.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[Ue.ANIMATING],u=t.viewHints[Ue.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&u)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const d=t.extent,_=t.viewState,m=_.projection,p=_.resolution,v=t.pixelRatio,E=n.getRevision(),T=n.getRenderBuffer();let w=n.getRenderOrder();w===void 0&&(w=TR);const C=_.center.slice(),M=md(d,T*p),N=M.slice(),P=[M.slice()],L=m.getExtent();if(s.getWrapX()&&m.canWrapX()&&!Ja(L,t.extent)){const nt=qt(L),ct=Math.max(qt(M)/2,nt);M[0]=L[0]-ct,M[2]=L[2]+ct,S1(C,m);const I=x1(P[0],m);I[0]<L[0]&&I[2]<L[2]?P.push([I[0]+nt,I[1],I[2]+nt,I[3]]):I[0]>L[0]&&I[2]>L[2]&&P.push([I[0]-nt,I[1],I[2]-nt,I[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==E&&this.renderedRenderOrder_==w&&this.renderedFrameDeclutter_===!!t.declutter&&Ja(this.wrappedRenderedExtent_,M))return ms(this.renderedExtent_,N)||(this.hitDetectionImageData_=null,this.renderedExtent_=N),this.renderedCenter_=C,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new hR(yy(p,v),M,p,v);let H;for(let nt=0,ct=P.length;nt<ct;++nt)s.loadFeatures(P[nt],p,m);const V=Qp(p,v);let K=!0;const Q=(nt,ct)=>{let I;const X=nt.getStyleFunction()||n.getStyleFunction();if(X&&(I=X(nt,p)),I){const W=this.renderFeature(nt,V,I,O,H,this.getLayer().getDeclutter(),ct);K=K&&!W}},$=D1(M),ot=s.getFeaturesInExtent($);w&&ot.sort(w);for(let nt=0,ct=ot.length;nt<ct;++nt)Q(ot[nt],nt);this.renderedFeatures_=ot,this.ready=K;const tt=O.finish(),et=new pR(M,p,v,s.getOverlaps(),tt,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=p,this.renderedRevision_=E,this.renderedRenderOrder_=w,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=N,this.wrappedRenderedExtent_=M,this.renderedCenter_=C,this.renderedProjection_=m,this.renderedPixelRatio_=v,this.replayGroup_=et,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,u,c,h){if(!s)return!1;let d=!1;if(Array.isArray(s))for(let _=0,m=s.length;_<m;++_)d=Jp(r,t,s[_],n,this.boundHandleStyleImageChange_,u,c,h)||d;else d=Jp(r,t,s,n,this.boundHandleStyleImageChange_,u,c,h);return d}}class ss extends ly{constructor(t){super(t)}createRenderer(){return new NR(this)}}let IR=!1;function zR(a,t,n,s,r,u,c){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(n,s,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=IR,h.onload=function(d){if(!h.status||h.status>=200&&h.status<300){const _=t.getType();try{let m;_=="text"||_=="json"?m=h.responseText:_=="xml"?m=h.responseXML||h.responseText:_=="arraybuffer"&&(m=h.response),m?u(t.readFeatures(m,{extent:n,featureProjection:r}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function $p(a,t){return function(n,s,r,u,c){zR(a,t,n,s,r,(h,d)=>{this.addFeatures(h),u!==void 0&&u(h)},()=>{this.changed(),c!==void 0&&c()})}}function jR(a,t){return[[-1/0,-1/0,1/0,1/0]]}class ta extends Fn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new ta(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(ne(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=kt(t,Tt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?kR(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function kR(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(Yt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}function GR(a,t,n,s){const r=[];let u=An();for(let c=0,h=n.length;c<h;++c){const d=n[c];u=yd(a,t,d[0],s),r.push((u[0]+u[2])/2,(u[1]+u[3])/2),t=d[d.length-1]}return r}function hd(a,t,n,s,r,u,c){let h,d;const _=(n-t)/s;if(_===1)h=t;else if(_===2)h=t,d=r;else if(_!==0){let m=a[t],p=a[t+1],v=0;const E=[0];for(let C=t+s;C<n;C+=s){const M=a[C],N=a[C+1];v+=Math.sqrt((M-m)*(M-m)+(N-p)*(N-p)),E.push(v),m=M,p=N}const T=r*v,w=lx(E,T);w<0?(d=(T-E[-w-2])/(E[-w-1]-E[-w-2]),h=t+(-w-2)*s):h=t+w*s}c=c>1?c:2,u=u||new Array(c);for(let m=0;m<c;++m)u[m]=h===void 0?NaN:d===void 0?a[h+m]:dn(a[h+m],a[h+s+m],d);return u}function UR(a,t,n,s,r,u){if(n==t)return null;let c;if(r<a[t+s-1])return u?(c=a.slice(t,t+s),c[s-1]=r,c):null;if(a[n-1]<r)return u?(c=a.slice(n-s,n),c[s-1]=r,c):null;if(r==a[t+s-1])return a.slice(t,t+s);let h=t/s,d=n/s;for(;h<d;){const v=h+d>>1;r<a[(v+1)*s-1]?d=v:h=v+1}const _=a[h*s-1];if(r==_)return a.slice((h-1)*s,(h-1)*s+s);const m=a[(h+1)*s-1],p=(r-_)/(m-_);c=[];for(let v=0;v<s-1;++v)c.push(dn(a[(h-1)*s+v],a[h*s+v],p));return c.push(r),c}class zu extends Vu{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){ku(this.flatCoordinates,t),this.changed()}clone(){const t=new zu(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<pd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(wd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ad(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,s,r))}forEachSegment(t){return k1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,UR(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return Fs(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return hd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return _y(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=Wu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new zu(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return Dd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Md(this.flatCoordinates,0,t,this.stride),this.changed()}}const t1=Un();class kn{constructor(t,n,s,r,u,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=u,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?m1(this.flatCoordinates_):yd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=Vs(this.getExtent());this.flatInteriorPoints_=Od(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=DE(this.flatCoordinates_,this.ends_),n=GR(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=wE(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=hd(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,u=s.length;r<u;++r){const c=s[r],h=hd(t,n,c,2,.5);ku(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=nn(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=Ye(s)/Ye(n);Ci(t1,s[0],s[3],r,-r,0,0,0),gs(this.flatCoordinates_,0,this.flatCoordinates_.length,2,t1,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new kn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=c1((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=Wu(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=RE(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=z1(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new kn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}kn.prototype.getFlatCoordinates=kn.prototype.getOrientedFlatCoordinates;class e1{constructor(t){this.rbush_=new H1(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[Pt(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,u=n.length;r<u;r++){const c=t[r],h=n[r],d={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=d,this.items_[Pt(h)]=d}this.rbush_.load(s)}remove(t){const n=Pt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[Pt(n)],r=[s.minX,s.minY,s.maxX,s.maxY];Mr(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,u=t.length;r<u;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return al(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return _s(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}class xy extends Fn{constructor(t){super(),this.projection=nn(t.projection),this.attributions_=n1(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=n1(t),this.changed()}setState(t){this.state_=t,this.changed()}}function n1(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}const Rn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class as extends wi{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class ls extends xy{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Ar,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Yt(this.format_,"`format` must be set when `url` is set"),this.loader_=$p(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:jR;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new e1:null,this.loadedExtentsRtree_=new e1,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new ti(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=Pt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new as(Rn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof kn||(this.featureChangeKeys_[t]=[kt(n,Tt.CHANGE,this.handleFeatureChange_,this),kt(n,sl.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof kn){const u=this.idIndex_[r];u instanceof kn?Array.isArray(u)?u.push(n):this.idIndex_[r]=[u,n]:s=!1}else s=!1}return s&&(Yt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let u=0,c=t.length;u<c;u++){const h=t[u],d=Pt(h);this.addToIndex_(d,h)&&s.push(h)}for(let u=0,c=s.length;u<c;u++){const h=s[u],d=Pt(h);this.setupChangeEvents_(d,h);const _=h.getGeometry();if(_){const m=_.getExtent();n.push(m),r.push(h)}else this.nullGeometryFeatures_[d]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(Rn.ADDFEATURE))for(let u=0,c=s.length;u<c;u++)this.dispatchEvent(new as(Rn.ADDFEATURE,s[u]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(Rn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(Rn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(We.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(We.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(ne);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new as(Rn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const u=r.getGeometry();if(u instanceof kn||u.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof kn||r.intersectsExtent(t)){const u=n(s);if(u)return u}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),al(this.nullGeometryFeatures_)||ku(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=E1(t,n);return[].concat(...r.map(u=>this.featuresRtree_.getInExtent(u)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let u=null;const c=[NaN,NaN];let h=1/0;const d=[-1/0,-1/0,1/0,1/0];return n=n||wr,this.featuresRtree_.forEachInExtent(d,function(_){if(n(_)){const m=_.getGeometry(),p=h;if(h=m instanceof kn?0:m.closestPointXY(s,r,c,h),h<p){u=_;const v=Math.sqrt(h);d[0]=s-v,d[1]=r-v,d[2]=s+v,d[3]=r+v}}}),u}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=Pt(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const u=n.getId();if(u!==void 0){const c=u.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new as(Rn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:Pt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&al(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,u=this.strategy_(t,n,s);for(let c=0,h=u.length;c<h;++c){const d=u[c];r.forEachInExtent(d,function(m){return Ja(m.extent,d)})||(++this.loadingExtentsCount_,this.dispatchEvent(new as(Rn.FEATURESLOADSTART)),this.loader_.call(this,d,n,s,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new as(Rn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new as(Rn.FEATURESLOADERROR))}),r.insert(d,{extent:d.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(Mr(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=Pt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(ne),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const u=r.toString(),c=this.idIndex_[u];c===t?delete this.idIndex_[u]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[u]=c[0]))}return delete this.uidIndex_[n],this.hasListener(Rn.REMOVEFEATURE)&&this.dispatchEvent(new as(Rn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){Yt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader($p(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const Ka=[0,0,0],rs=5;class Ey{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Yt(ux(this.resolutions_,(r,u)=>u-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,u=this.resolutions_.length-1;r<u;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Yt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Qs(s)),Yt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Yt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:jd,Yt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,u)=>{const c=new Wd(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,u);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let u=r.minX,c=r.maxX;u<=c;++u)for(let h=r.minY,d=r.maxY;h<=d;++h)s([n,u,h])}forEachTileCoordParentTileRange(t,n,s,r){let u,c,h,d=null,_=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):d=this.getTileCoordExtent(t,r);_>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),u=Ba(c,c,h,h,s)):u=this.getTileRangeForExtentAndZ(d,_,s),n(_,u))return!0;--_}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const u=t[1]*2,c=t[2]*2;return Ba(u,u+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],u=t[1],c=t[2];if(n===r)return Ba(u,c,u,c,s);if(this.zoomFactor_){const d=Math.pow(this.zoomFactor_,n-r),_=Math.floor(u*d),m=Math.floor(c*d);if(n<r)return Ba(_,_,m,m,s);const p=Math.floor(d*(u+1))-1,v=Math.floor(d*(c+1))-1;return Ba(_,p,m,v,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,Ka);const r=Ka[1],u=Ka[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,Ka);const c=Ka[1],h=Ka[2];return Ba(r,c,u,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=en(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),u=en(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*u[0]*r,h=s[1]-(t[2]+1)*u[1]*r,d=c+u[0]*r,_=h+u[1]*r;return _s(c,h,d,_,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,u){const c=this.getZForResolution(s),h=s/this.getResolution(c),d=this.getOrigin(c),_=en(this.getTileSize(c),this.tmpSize_);let m=h*(t-d[0])/s/_[0],p=h*(d[1]-n)/s/_[1];return r?(m=uu(m,rs)-1,p=uu(p,rs)-1):(m=ou(m,rs),p=ou(p,rs)),Nu(c,m,p,u)}getTileCoordForXYAndZ_(t,n,s,r,u){const c=this.getOrigin(s),h=this.getResolution(s),d=en(this.getTileSize(s),this.tmpSize_);let _=(t-c[0])/h/d[0],m=(c[1]-n)/h/d[1];return r?(_=uu(_,rs)-1,m=uu(m,rs)-1):(_=ou(_,rs),m=ou(m,rs)),Nu(s,_,m,u)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=gd(this.resolutions_,t,n||0);return ae(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return G1(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function Sy(a){let t=a.getDefaultTileGrid();return t||(t=YR(a),a.setDefaultTileGrid(t)),t}function PR(a,t,n){const s=t[0],r=a.getTileCoordCenter(t),u=Qd(n);if(!ll(u,r)){const c=qt(u),h=Math.ceil((u[0]-r[0])/c);return r[0]+=c*h,a.getTileCoordForCoordAndZ(r,s)}return t}function FR(a,t,n,s){s=s!==void 0?s:"top-left";const r=Ty(a,t,n);return new Ey({extent:a,origin:bx(a,s),resolutions:r,tileSize:n})}function ZR(a){const t=a||{},n=t.extent||nn("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:Ty(n,t.maxZoom,t.tileSize,t.maxResolution)};return new Ey(s)}function Ty(a,t,n,s){t=t!==void 0?t:jE,n=en(n!==void 0?n:jd);const r=Ye(a),u=qt(a);s=s>0?s:Math.max(u/n[0],r/n[1]);const c=t+1,h=new Array(c);for(let d=0;d<c;++d)h[d]=s/Math.pow(2,d);return h}function YR(a,t,n,s){const r=Qd(a);return FR(r,t,n,s)}function Qd(a){a=nn(a);let t=a.getExtent();if(!t){const n=180*xd.degrees/a.getMetersPerUnit();t=_s(-n,-n,n,n)}return t}const XR=/\{z\}/g,BR=/\{x\}/g,HR=/\{y\}/g,KR=/\{-y\}/g;function qR(a,t,n,s,r){return a.replace(XR,t.toString()).replace(BR,n.toString()).replace(HR,s.toString()).replace(KR,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function VR(a){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(a);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let u;for(u=s;u<=r;++u)t.push(a.replace(n[0],String.fromCharCode(u)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(a),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(a.replace(n[0],r.toString()));return t}return t.push(a),t}function WR(a,t){return(function(n,s,r){if(!n)return;let u;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(u=h.getHeight()-1)}return qR(a,c,n[1],n[2],u)})}function QR(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=WR(a[r],t);return JR(s)}function JR(a){return a.length===1?a[0]:(function(t,n,s){if(!t)return;const r=VT(t),u=Hs(r,a.length);return a[u](t,n,s)})}class $R extends xy{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&en(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Pt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,u){return Ut()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Sy(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),u=this.getTilePixelRatio(n),c=en(r.getTileSize(t),this.tmpSize);return u==1?c:NS(c,u,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=PR(r,t,s)),QT(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class tb extends wi{constructor(t,n){super(t),this.tile=n}}const qf={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Jd extends $R{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Jd.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=Pt(n),r=n.getState();let u;r==gt.LOADING?(this.tileLoadingKeys_[s]=!0,u=qf.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],u=r==gt.ERROR?qf.TILELOADERROR:r==gt.LOADED?qf.TILELOADEND:void 0),u!=null&&this.dispatchEvent(new tb(u,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=VR(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(QR(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class eb extends Jd{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:nb,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:cy,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Rf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Rf(n,t)))return this.tileGrid;const s=Pt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=Sy(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,u,c){const h=[t,n,s],d=this.getTileCoordForTileUrlFunction(h,u),_=d?this.tileUrlFunction(d,r,u):void 0,m=new this.tileClass(h,_!==void 0?gt.IDLE:gt.EMPTY,_!==void 0?_:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(Tt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,n,s,r,u){const c=this.getProjection();if(!c||!u||Rf(c,u))return this.getTileInternal(t,n,s,r,c||u);const h=[t,n,s],d=this.getKey(),_=this.getTileGridForProjection(c),m=this.getTileGridForProjection(u),p=this.getTileCoordForTileUrlFunction(h,u),v=new hy(c,_,u,m,h,p,this.getTilePixelRatio(r),this.getGutter(),(E,T,w,C)=>this.getTileInternal(E,T,w,C,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return v.key=d,v}getTileInternal(t,n,s,r,u){const c=this.getKey();return this.createTile_(t,n,s,r,u,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=nn(t);if(s){const r=Pt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function nb(a,t){a.getImage().src=t}class ib extends eb{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:ZR({extent:Qd(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const sb='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class ab extends ib{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[sb];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const ke={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class lb extends Fn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+FE,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(ke.ELEMENT,this.handleElementChanged),this.addChangeListener(ke.MAP,this.handleMapChanged),this.addChangeListener(ke.OFFSET,this.handleOffsetChanged),this.addChangeListener(ke.POSITION,this.handlePositionChanged),this.addChangeListener(ke.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(ke.ELEMENT)}getId(){return this.id}getMap(){return this.get(ke.MAP)||null}getOffset(){return this.get(ke.OFFSET)}getPosition(){return this.get(ke.POSITION)}getPositioning(){return this.get(ke.POSITIONING)}handleElementChanged(){U1(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),ne(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=kt(t,Ei.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(ke.ELEMENT,t)}setMap(t){this.set(ke.MAP,t)}setOffset(t){this.set(ke.OFFSET,t)}setPosition(t){this.set(ke.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(ke.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),u=this.getRect(r,[YE(r),XE(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!Ja(s,u)){const h=u[0]-s[0],d=s[2]-u[2],_=u[1]-s[1],m=s[3]-u[3],p=[0,0];if(h<0?p[0]=h-c:d<0&&(p[0]=Math.abs(d)+c),_<0?p[1]=_-c:m<0&&(p[1]=Math.abs(m)+c),p[0]!==0||p[1]!==0){const v=n.getView().getCenterInternal(),E=n.getPixelFromCoordinateInternal(v);if(!E)return;const T=[E[0]+p[0],E[1]+p[1]],w=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(T),duration:w.duration,easing:w.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,u=s.top+window.pageYOffset;return[r,u,r+n[0],u+n[1]]}setPositioning(t){this.set(ke.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,n){const s=this.element.style,r=this.getOffset(),u=this.getPositioning();this.setVisible(!0);const c=`${t[0]+r[0]}px`,h=`${t[1]+r[1]}px`;let d="0%",_="0%";u=="bottom-right"||u=="center-right"||u=="top-right"?d="-100%":(u=="bottom-center"||u=="center-center"||u=="top-center")&&(d="-50%"),u=="bottom-left"||u=="bottom-center"||u=="bottom-right"?_="-100%":(u=="center-left"||u=="center-center"||u=="center-right")&&(_="-50%");const m=`translate(${d}, ${_}) translate(${c}, ${h})`;this.rendered.transform_!=m&&(this.rendered.transform_=m,s.transform=m)}getOptions(){return this.options}}const vu=({id:a,icon:t,text:n,activeColor:s,isActive:r,onClick:u})=>{const c=()=>{u&&u(a)};return S.jsxs("button",{type:"button",className:`filter-button ${r?"filter-button--active":""}`,style:r?{"--active-color":s}:{},onClick:c,children:[S.jsx("span",{className:"filter-button__icon",children:t}),S.jsx("span",{className:"filter-button__text",children:n})]})},rb=({onClick:a,isActive:t})=>{const[n,s]=Dt.useState(!1),r=async()=>{s(!0);try{await a()}finally{s(!1)}};return S.jsx("button",{onClick:r,disabled:n,className:`current-location-btn ${t?"active":""}`,"aria-label":"현재 위치로 이동",children:n?S.jsxs("svg",{className:"location-spinner",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"spinner-circle",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"spinner-path",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):S.jsx("svg",{className:"location-icon",fill:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})})},ob=({type:a,data:t,onClose:n,onRouteClick:s})=>{if(!t)return null;const r=p=>{switch(p){case"bikeStation":return"🚲";case"repairShop":return"🔧";case"toilet":return"🚻";case"waterFountain":return"💧";case"bikeRoute":return"🚴";default:return"📍"}},u=p=>{switch(p){case"bikeStation":return"자전거 대여소";case"repairShop":return"수리센터";case"toilet":return"화장실";case"waterFountain":return"음수대";case"bikeRoute":return"추천 자전거 코스";default:return"정보"}},c=p=>S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"구분:"}),S.jsx("span",{className:"popup-value",children:p.type==="MANNED"?"유인":"무인"})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"운영시간:"}),S.jsxs("span",{className:"popup-value",children:[p.operation_start," - ",p.operation_end]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"휴무일:"}),S.jsx("span",{className:"popup-value",children:p.holiday})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"요금:"}),S.jsx("span",{className:"popup-value",children:p.fee_type==="FREE"?"무료":`${p.fee_amount.toLocaleString()}원`})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"자전거 수:"}),S.jsxs("span",{className:"popup-value",children:[p.bike_count,"대"]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"수리대:"}),S.jsx("span",{className:"popup-value",children:p.has_repair?"있음":"없음"})]}),p.contact&&S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"연락처:"}),S.jsx("span",{className:"popup-value",children:p.contact})]})]}),h=p=>{const v=E=>{switch(E){case"PARK":return"공원";case"OFFICE":return"관공서";case"SCHOOL":return"학교";case"SUBWAY":return"지하철역";case"ETC":return"기타";default:return E}};return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"시설유형:"}),S.jsx("span",{className:"popup-value",children:p.facility_type==="REPAIR_CENTER"?"🔧 수리센터":"⚙️ 공기주입기"})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"운영시간:"}),S.jsx("span",{className:"popup-value",children:p.operation_hours})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"설치지역:"}),S.jsx("span",{className:"popup-value",children:v(p.install_area)})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"자치구:"}),S.jsx("span",{className:"popup-value",children:p.gu})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"시설ID:"}),S.jsx("span",{className:"popup-value",children:p.external_id})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"등록일:"}),S.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"최근 점검:"}),S.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]})},d=p=>{const v=p.open_hours==="상시";return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"개방형태:"}),S.jsx("span",{className:"popup-value",children:p.open_type})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"운영시간:"}),S.jsx("span",{className:"popup-value",children:v?S.jsxs("span",{style:{color:"#34C759",fontWeight:"600"},children:["⏰ ",p.open_hours]}):p.open_hours})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"자치구:"}),S.jsx("span",{className:"popup-value",children:p.gu})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"시설ID:"}),S.jsxs("span",{className:"popup-value",children:["#",p.toilet_id]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"등록일:"}),S.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"최근 점검:"}),S.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]})},_=p=>S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"자치구:"}),S.jsx("span",{className:"popup-value",children:p.gu})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"설치장소:"}),S.jsx("span",{className:"popup-value",children:p.name})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"등록일:"}),S.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"최근 관리:"}),S.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]}),m=p=>{const E=(T=>{switch(T){case"EASY":return{emoji:"🟢",text:"쉬움",color:"#34C759"};case"MEDIUM":return{emoji:"🟡",text:"보통",color:"#FF9500"};case"HARD":return{emoji:"🔴",text:"어려움",color:"#FF3B30"};default:return{emoji:"⚪",text:"알 수 없음",color:"#999"}}})(p.difficulty);return S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"설명:"}),S.jsx("span",{className:"popup-value",children:p.description})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"거리:"}),S.jsxs("span",{className:"popup-value",style:{fontWeight:"700",color:"#0066FF"},children:[p.distance_km,"km"]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"예상 시간:"}),S.jsxs("span",{className:"popup-value",children:[p.estimated_time_min,"분"]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"난이도:"}),S.jsxs("span",{className:"popup-value",style:{color:E.color,fontWeight:"600"},children:[E.emoji," ",E.text]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"고도 상승:"}),S.jsxs("span",{className:"popup-value",children:[p.elevation_gain_m,"m"]})]}),S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"평점:"}),S.jsxs("span",{className:"popup-value",children:["⭐ ",p.rating," (",p.review_count,"개 리뷰)"]})]}),p.tags&&p.tags.length>0&&S.jsx("div",{className:"popup-tags",children:p.tags.slice(0,5).map((T,w)=>S.jsxs("span",{className:"popup-tag",children:["#",T]},w))}),s&&S.jsx("button",{className:"popup-route-button",onClick:T=>{T.stopPropagation(),s(p)},children:"🚴 이 코스로 길찾기"})]})};return S.jsxs("div",{className:"marker-popup",children:[S.jsx("button",{className:"marker-popup__close",onClick:n,children:"×"}),S.jsxs("div",{className:"marker-popup__header",children:[S.jsx("span",{className:"marker-popup__icon",children:r(a)}),S.jsxs("div",{children:[S.jsx("span",{className:"marker-popup__category",children:u(a)}),S.jsx("h3",{className:"marker-popup__title",children:t.name})]})]}),S.jsxs("div",{className:"marker-popup__body",children:[a!=="bikeRoute"&&t.address&&S.jsxs("div",{className:"popup-info-row",children:[S.jsx("span",{className:"popup-label",children:"주소:"}),S.jsx("span",{className:"popup-value",children:t.address})]}),a==="bikeStation"&&c(t),a==="repairShop"&&h(t),a==="toilet"&&d(t),a==="waterFountain"&&_(t),a==="bikeRoute"&&m(t)]})]})},ub=({isRoutingMode:a,onToggleMode:t,startPoint:n,endPoint:s,routeInfo:r,onClearRoute:u,isSelectingStart:c,isSelectingEnd:h,onStartPointClick:d,onEndPointClick:_})=>{const m=()=>n?n.name?n.name:`${n.latitude.toFixed(4)}, ${n.longitude.toFixed(4)}`:"지도에서 선택",p=()=>s?s.name?s.name:`${s.latitude.toFixed(4)}, ${s.longitude.toFixed(4)}`:"지도에서 선택",v=T=>{T.stopPropagation(),d&&(console.log("출발지 박스 클릭됨"),d())},E=T=>{T.stopPropagation(),_&&(console.log("도착지 박스 클릭됨"),_())};return S.jsx("div",{className:"route-control-top",children:a?S.jsxs("div",{className:"route-control__panel",children:[S.jsxs("div",{className:"route-control__header",children:[S.jsxs("h3",{className:"route-control__title",children:[S.jsx(Wm,{size:14}),"경로 탐색"]}),S.jsx("button",{className:"route-control__close",onClick:t,title:"길찾기 종료",children:S.jsx(Qm,{size:16})})]}),S.jsxs("div",{className:"route-control__inputs",children:[S.jsxs("div",{className:`route-input ${c?"selecting":""} ${n?"filled":""}`,onClick:v,style:{cursor:"pointer"},children:[S.jsx("div",{className:"route-input__marker route-input__marker--start",children:S.jsx(Vm,{size:11})}),S.jsxs("div",{className:"route-input__content",children:[S.jsx("label",{className:"route-input__label",children:"출발지"}),S.jsx("div",{className:"route-input__value",children:c?"지도를 클릭하세요...":m()})]}),c&&S.jsx("div",{className:"route-input__pulse"})]}),S.jsxs("div",{className:`route-input ${h?"selecting":""} ${s?"filled":""}`,onClick:E,style:{cursor:"pointer"},children:[S.jsx("div",{className:"route-input__marker route-input__marker--end",children:S.jsx(Vm,{size:11})}),S.jsxs("div",{className:"route-input__content",children:[S.jsx("label",{className:"route-input__label",children:"도착지"}),S.jsx("div",{className:"route-input__value",children:h?"지도를 클릭하세요...":p()})]}),h&&S.jsx("div",{className:"route-input__pulse"})]})]}),r&&S.jsx("div",{className:"route-control__result",children:S.jsxs("div",{className:"route-result__stats",children:[S.jsxs("div",{className:"route-stat",children:[S.jsx("span",{className:"route-stat__label",children:"거리"}),S.jsx("span",{className:"route-stat__value",children:r.distance})]}),S.jsx("div",{className:"route-stat__divider"}),S.jsxs("div",{className:"route-stat",children:[S.jsx("span",{className:"route-stat__label",children:"시간"}),S.jsx("span",{className:"route-stat__value",children:r.duration})]})]})}),(n||s)&&S.jsxs("button",{className:"route-control__clear",onClick:u,children:[S.jsx(Qm,{size:13}),S.jsx("span",{children:"초기화"})]})]}):S.jsxs("button",{className:"route-control__toggle",onClick:t,title:"길찾기 시작",children:[S.jsx(Wm,{size:18}),S.jsx("span",{children:"길찾기"})]})})},i1={latitude:37.5172,longitude:126.8659},cb={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},s1=()=>new Promise(a=>{if(!navigator.geolocation){console.warn("Geolocation not supported"),a(i1);return}navigator.geolocation.getCurrentPosition(t=>{const n={latitude:t.coords.latitude,longitude:t.coords.longitude};console.log("User location:",n),a(n)},t=>{console.error("Geolocation error:",t.message),a(i1)},cb)}),hb={userLocation:{color:"#FF6B9D",size:40,anchor:[.5,1]},bikeStation:{color:"#0066FF",size:40,anchor:[.5,1]},repairShop:{color:"#FFB800",size:40,anchor:[.5,1]},toilet:{color:"#34C759",size:40,anchor:[.5,1]},waterFountain:{color:"#5AC8FA",size:40,anchor:[.5,1]}},fb=a=>{const{color:t,size:n}=a;return`
    <svg width="${n}" height="${n+8}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="pinGradient-${t}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${t};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${t};stop-opacity:0.8" />
        </linearGradient>
        <filter id="shadow-${t}" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.3"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="url(#pinGradient-${t})" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-${t})"/>
      <circle cx="20" cy="12" r="6" fill="white" opacity="0.9"/>
      <circle cx="20" cy="12" r="3" fill="${t}"/>
    </svg>
  `},Kr=(a,t,n=null)=>{const s=hb[a],r=new ta({geometry:new Js(cs([t.longitude,t.latitude])),type:a,data:n});return r.setStyle(new gn({image:new ps({anchor:s.anchor,anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(fb(s)),scale:1})})),r},db=a=>Kr("userLocation",a),gb=(a,t)=>Kr("bikeStation",a,t),_b=(a,t)=>Kr("repairShop",a,t),mb=(a,t)=>Kr("toilet",a,t),pb=(a,t)=>Kr("waterFountain",a,t),yb=a=>{const t=new ta({geometry:new Js(cs([a.longitude,a.latitude])),type:"startPoint"}),n=`
    <svg width="40" height="48" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="shadow-start" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="#34C759" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-start)"/>
      <circle cx="20" cy="12" r="6" fill="white"/>
      <text x="20" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="#34C759">S</text>
    </svg>
  `;return t.setStyle(new gn({image:new ps({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(n),scale:1})})),t},vb=a=>{const t=new ta({geometry:new Js(cs([a.longitude,a.latitude])),type:"endPoint"}),n=`
    <svg width="40" height="48" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="shadow-end" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="#FF3B30" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-end)"/>
      <circle cx="20" cy="12" r="6" fill="white"/>
      <text x="20" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="#FF3B30">E</text>
    </svg>
  `;return t.setStyle(new gn({image:new ps({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(n),scale:1})})),t},xb=a=>{const t=a.coordinates.map(s=>cs([s[0],s[1]])),n=new ta({geometry:new zu(t),type:"routeLine"});return n.setStyle([new gn({stroke:new hl({color:"rgba(0, 102, 255, 0.3)",width:8})}),new gn({stroke:new hl({color:"#0066FF",width:5})})]),n},Eb="https://router.project-osrm.org/route/v1/bicycle",Sb=15,Tb=async(a,t)=>{try{const n=`${Eb}/${a.longitude},${a.latitude};${t.longitude},${t.latitude}?overview=full&geometries=geojson`,s=await fetch(n);if(!s.ok)throw new Error(`OSRM API 요청 실패: ${s.status}`);const r=await s.json();if(!r.routes||r.routes.length===0)throw new Error("경로를 찾을 수 없습니다.");const u=r.routes[0],h=u.distance/1e3/Sb*3600;return{geometry:u.geometry,distance:u.distance,duration:h,originalDuration:u.duration,waypoints:r.waypoints}}catch(n){throw console.error("경로 계산 오류:",n),n}},Rb=a=>a<1e3?`${Math.round(a)}m`:`${(a/1e3).toFixed(1)}km`,bb=a=>{const t=Math.round(a/60);if(t<60)return`${t}분`;const n=Math.floor(t/60),s=t%60;return s===0?`${n}시간`:`${n}시간 ${s}분`},Cb=[{station_id:1,name:"한강진역 대여소",type:"UNMANNED",address:"서울특별시 용산구 이태원로 250",longitude:126.9945,latitude:37.5398,geom:{type:"Point",coordinates:[126.9945,37.5398]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:18,has_repair:!1,contact:"1899-9161",created_at:"2024-01-10T09:00:00Z",updated_at:"2025-10-10T10:00:00Z"},{station_id:2,name:"홍대입구역 대여소",type:"MANNED",address:"서울특별시 마포구 양화로 160",longitude:126.9238,latitude:37.5563,geom:{type:"Point",coordinates:[126.9238,37.5563]},operation_start:"06:00",operation_end:"23:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2e3,bike_count:40,has_repair:!0,contact:"02-3142-0090",created_at:"2024-02-05T09:00:00Z",updated_at:"2025-09-25T13:00:00Z"},{station_id:3,name:"송파 올림픽 대여소",type:"MANNED",address:"서울특별시 송파구 올림픽로 300",longitude:127.1251,latitude:37.5175,geom:{type:"Point",coordinates:[127.1251,37.5175]},operation_start:"06:00",operation_end:"21:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2800,bike_count:40,has_repair:!0,contact:"02-5678-1234",created_at:"2024-06-10T09:30:00Z",updated_at:"2025-10-05T11:30:00Z"},{station_id:4,name:"서울역 광장 대여소",type:"MANNED",address:"서울특별시 중구 한강대로 405",longitude:126.9709,latitude:37.5542,geom:{type:"Point",coordinates:[126.9709,37.5542]},operation_start:"05:30",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:33,has_repair:!0,contact:"02-753-1020",created_at:"2024-03-01T09:00:00Z",updated_at:"2025-09-29T11:30:00Z"},{station_id:5,name:"광화문 광장 대여소",type:"MANNED",address:"서울특별시 종로구 세종대로 175",longitude:126.9768,latitude:37.5711,geom:{type:"Point",coordinates:[126.9768,37.5711]},operation_start:"07:00",operation_end:"20:00",holiday:"매주 월요일",fee_type:"PAID",fee_amount:2e3,bike_count:25,has_repair:!0,contact:"02-720-1114",created_at:"2024-03-10T10:00:00Z",updated_at:"2025-09-20T15:30:00Z"},{station_id:6,name:"잠원한강공원 대여소",type:"MANNED",address:"서울특별시 마포구 성산동 324-5",longitude:126.9062,latitude:37.5608,geom:{type:"Point",coordinates:[126.9062,37.5608]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:35,has_repair:!0,contact:"02-3456-7890",created_at:"2024-05-01T08:00:00Z",updated_at:"2025-10-01T10:00:00Z"},{station_id:7,name:"양재 시민의숲 대여소",type:"UNMANNED",address:"서울특별시 서초구 매헌로 99",longitude:127.0359,latitude:37.4709,geom:{type:"Point",coordinates:[127.0359,37.4709]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:20,has_repair:!1,contact:"1899-9161",created_at:"2024-04-10T09:30:00Z",updated_at:"2025-10-01T10:00:00Z"},{station_id:8,name:"코엑스 대여소",type:"MANNED",address:"서울특별시 강남구 영동대로 513",longitude:127.0591,latitude:37.5111,geom:{type:"Point",coordinates:[127.0591,37.5111]},operation_start:"07:00",operation_end:"22:30",holiday:"연중무휴",fee_type:"PAID",fee_amount:3500,bike_count:45,has_repair:!0,contact:"02-6000-0082",created_at:"2024-05-05T08:00:00Z",updated_at:"2025-09-29T15:10:00Z"},{station_id:9,name:"잠실새내역 대여소",type:"UNMANNED",address:"서울특별시 송파구 올림픽로 120",longitude:127.1008,latitude:37.5135,geom:{type:"Point",coordinates:[127.1008,37.5135]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:22,has_repair:!1,contact:"1899-9161",created_at:"2024-05-20T10:00:00Z",updated_at:"2025-09-28T17:00:00Z"},{station_id:10,name:"올림픽공원 북문 대여소",type:"MANNED",address:"서울특별시 송파구 올림픽로 424",longitude:127.1205,latitude:37.523,geom:{type:"Point",coordinates:[127.1205,37.523]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:3e3,bike_count:50,has_repair:!0,contact:"02-410-1010",created_at:"2024-06-01T09:00:00Z",updated_at:"2025-09-27T13:00:00Z"},{station_id:11,name:"서울숲역 무인대여소",type:"UNMANNED",address:"서울특별시 성동구 왕십리로 83",longitude:127.0419,latitude:37.5442,geom:{type:"Point",coordinates:[127.0419,37.5442]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:18,has_repair:!1,contact:"1899-9161",created_at:"2024-06-15T09:00:00Z",updated_at:"2025-09-29T14:30:00Z"},{station_id:12,name:"수서역 대여소",type:"MANNED",address:"서울특별시 강남구 광평로 270",longitude:127.1005,latitude:37.4871,geom:{type:"Point",coordinates:[127.1005,37.4871]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:30,has_repair:!0,contact:"02-3412-9000",created_at:"2024-07-01T08:00:00Z",updated_at:"2025-09-25T12:30:00Z"},{station_id:13,name:"수유역 무인대여소",type:"UNMANNED",address:"서울특별시 강북구 도봉로 342",longitude:127.0241,latitude:37.6373,geom:{type:"Point",coordinates:[127.0241,37.6373]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:12,has_repair:!1,contact:"1899-9161",created_at:"2024-07-15T10:00:00Z",updated_at:"2025-09-30T16:00:00Z"},{station_id:14,name:"도봉산 공원 대여소",type:"UNMANNED",address:"서울특별시 도봉구 도봉동 123",longitude:127.0315,latitude:37.689,geom:{type:"Point",coordinates:[127.0315,37.689]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:20,has_repair:!1,contact:"1899-9161",created_at:"2024-07-20T10:00:00Z",updated_at:"2025-09-30T15:00:00Z"},{station_id:15,name:"노원역 무인대여소",type:"UNMANNED",address:"서울특별시 노원구 동일로 1415",longitude:127.061,latitude:37.6548,geom:{type:"Point",coordinates:[127.061,37.6548]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:15,has_repair:!1,contact:"1899-9161",created_at:"2024-08-20T08:30:00Z",updated_at:"2025-09-27T13:30:00Z"}],wb=[{facility_id:1,external_id:"강북구_수리센터_002",name:"수유 한강공원 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강북구 수유동 123-4",gu:"강북구",longitude:127.0265,latitude:37.6368,geom:{type:"Point",coordinates:[127.0265,37.6368]},install_area:"PARK",operation_hours:"07:00-20:00",created_at:"2024-05-10T09:30:00Z",updated_at:"2025-10-02T11:00:00Z"},{facility_id:2,external_id:"마포구_공기주입기_001",name:"마포구청역 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 마포구 성산로2길 54",gu:"마포구",longitude:126.9535,latitude:37.5639,geom:{type:"Point",coordinates:[126.9535,37.5639]},install_area:"SUBWAY",operation_hours:"24시간",created_at:"2024-06-01T08:00:00Z",updated_at:"2025-09-30T12:10:00Z"},{facility_id:3,external_id:"광진구_수리센터_001",name:"구의동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 광진구 구의동",gu:"광진구",longitude:127.072,latitude:37.5385,geom:{type:"Point",coordinates:[127.072,37.5385]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-10T11:20:15Z",updated_at:"2025-09-28T15:30:20Z"},{facility_id:4,external_id:"중구_공기주입기_001",name:"청계광장 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 중구 청계천로 1",gu:"중구",longitude:126.9828,latitude:37.5668,geom:{type:"Point",coordinates:[126.9828,37.5668]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-05-15T14:30:00Z",updated_at:"2025-10-02T12:15:45Z"},{facility_id:5,external_id:"강북구_수리센터_001",name:"수유역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강북구 번동",gu:"강북구",longitude:127.0215,latitude:37.6367,geom:{type:"Point",coordinates:[127.0215,37.6367]},install_area:"ETC",operation_hours:"10:00-19:00",created_at:"2024-06-01T08:00:00Z",updated_at:"2025-09-15T16:20:30Z"},{facility_id:6,external_id:"성북구_공기주입기_001",name:"정릉동 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 성북구 정릉동",gu:"성북구",longitude:127.0035,latitude:37.6165,geom:{type:"Point",coordinates:[127.0035,37.6165]},install_area:"PARK",operation_hours:"24시간",created_at:"2024-06-10T10:30:00Z",updated_at:"2025-09-20T14:10:25Z"},{facility_id:7,external_id:"서초구_수리센터_001",name:"방배역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 서초구 남부순환로 2584",gu:"서초구",longitude:127.0032,latitude:37.4925,geom:{type:"Point",coordinates:[127.0032,37.4925]},install_area:"SUBWAY",operation_hours:"10:00-19:00",created_at:"2024-05-20T11:00:00Z",updated_at:"2025-10-03T09:45:15Z"},{facility_id:8,external_id:"서초구_공기주입기_002",name:"서울고등법원앞 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 서초구 서초중앙로 153",gu:"서초구",longitude:127.0127,latitude:37.4928,geom:{type:"Point",coordinates:[127.0127,37.4928]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-15T13:20:00Z",updated_at:"2025-09-28T17:30:40Z"},{facility_id:9,external_id:"송파구_수리센터_001",name:"잠실역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 송파구 잠실동",gu:"송파구",longitude:127.113,latitude:37.513,geom:{type:"Point",coordinates:[127.113,37.513]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-12T09:45:00Z",updated_at:"2025-10-01T14:25:50Z"},{facility_id:10,external_id:"강남구_수리센터_001",name:"수서동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강남구 수서동",gu:"강남구",longitude:127.1005,latitude:37.485,geom:{type:"Point",coordinates:[127.1005,37.485]},install_area:"ETC",operation_hours:"08:00-20:00",created_at:"2024-04-30T10:15:00Z",updated_at:"2025-10-05T13:40:20Z"},{facility_id:11,external_id:"강남구_공기주입기_002",name:"영동6교 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 강남구 양재천서로 80",gu:"강남구",longitude:127.0375,latitude:37.484,geom:{type:"Point",coordinates:[127.0375,37.484]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-20T12:00:00Z",updated_at:"2025-09-22T16:50:10Z"},{facility_id:12,external_id:"마포구_공기주입기_003",name:"망원로 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 마포구 망원로 1-1",gu:"마포구",longitude:126.8988,latitude:37.5568,geom:{type:"Point",coordinates:[126.8988,37.5568]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-25T15:10:00Z",updated_at:"2025-09-30T18:20:45Z"},{facility_id:13,external_id:"관악구_수리센터_001",name:"관악 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 관악구 남부순환로 1583",gu:"관악구",longitude:126.9513,latitude:37.4781,geom:{type:"Point",coordinates:[126.9513,37.4781]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-07-01T08:30:00Z",updated_at:"2025-09-18T13:40:15Z"},{facility_id:14,external_id:"강서구_공기주입기_001",name:"가양동 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 강서구 허준로 202",gu:"강서구",longitude:126.8125,latitude:37.5675,geom:{type:"Point",coordinates:[126.8125,37.5675]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-09-24T15:30:25Z"},{facility_id:15,external_id:"구로구_수리센터_001",name:"구로 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 구로구 새말로121-15",gu:"구로구",longitude:126.876,latitude:37.4985,geom:{type:"Point",coordinates:[126.876,37.4985]},install_area:"ETC",operation_hours:"10:00-17:00",created_at:"2024-07-15T11:20:00Z",updated_at:"2025-10-02T14:05:00Z"},{facility_id:16,external_id:"노원구_공기주입기_001",name:"노원 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 노원구 한글비석로 31길 27",gu:"노원구",longitude:127.0667,latitude:37.6543,geom:{type:"Point",coordinates:[127.0667,37.6543]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-08-01T09:00:00Z",updated_at:"2025-09-20T12:30:45Z"},{facility_id:17,external_id:"광진구_공기주입기_002",name:"강변역 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 광진구 자양동",gu:"광진구",longitude:127.085,latitude:37.538,geom:{type:"Point",coordinates:[127.085,37.538]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-08-10T10:10:00Z",updated_at:"2025-09-25T13:15:30Z"},{facility_id:18,external_id:"성동구_수리센터_002",name:"옥수동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 성동구 옥수동 168-1",gu:"성동구",longitude:127.0255,latitude:37.5458,geom:{type:"Point",coordinates:[127.0255,37.5458]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-18T10:30:00Z",updated_at:"2025-09-27T11:55:30Z"}],Ab=[{toilet_id:1,name:"남대문시장 공중화장실",address:"서울특별시 중구 남창동",gu:"중구",longitude:126.9769,latitude:37.5603,geom:{type:"Point",coordinates:[126.9769,37.5603]},open_type:"공공개방",open_hours:"상시",created_at:"2025-01-01T08:00:00Z",updated_at:"2025-09-01T12:00:00Z"},{toilet_id:2,name:"광화문 공중화장실",address:"서울특별시 종로구 종로1가",gu:"종로구",longitude:126.9768,latitude:37.5712,geom:{type:"Point",coordinates:[126.9768,37.5712]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-01-10T09:30:00Z",updated_at:"2025-09-12T13:45:00Z"},{toilet_id:3,name:"청계광장 화장실",address:"서울특별시 종로구 청계천로",gu:"종로구",longitude:126.9824,latitude:37.566,geom:{type:"Point",coordinates:[126.9824,37.566]},open_type:"공공개방",open_hours:"06:00-23:00",created_at:"2025-01-15T10:00:00Z",updated_at:"2025-09-15T16:30:00Z"},{toilet_id:4,name:"서울숲 공원 화장실",address:"서울특별시 성동구 뚝섬로",gu:"성동구",longitude:127.0425,latitude:37.5445,geom:{type:"Point",coordinates:[127.0425,37.5445]},open_type:"공공개방",open_hours:"06:00-21:00",created_at:"2025-02-01T11:00:00Z",updated_at:"2025-09-20T11:00:00Z"},{toilet_id:5,name:"난지 한강공원 화장실",address:"서울특별시 마포구 상암동 487-116",gu:"마포구",longitude:126.8759,latitude:37.5702,geom:{type:"Point",coordinates:[126.8759,37.5702]},open_type:"공공개방",open_hours:"상시",created_at:"2025-03-10T09:00:00Z",updated_at:"2025-10-02T14:20:00Z"},{toilet_id:6,name:"강남역 공중화장실",address:"서울특별시 강남구 강남대로",gu:"강남구",longitude:127.0278,latitude:37.498,geom:{type:"Point",coordinates:[127.0278,37.498]},open_type:"공공개방",open_hours:"상시",created_at:"2025-02-15T09:45:00Z",updated_at:"2025-10-01T13:10:00Z"},{toilet_id:7,name:"양재천 공원 화장실",address:"서울특별시 서초구 양재천로",gu:"서초구",longitude:127.04,latitude:37.4865,geom:{type:"Point",coordinates:[127.04,37.4865]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-02-20T10:30:00Z",updated_at:"2025-09-28T15:20:00Z"},{toilet_id:8,name:"남산 타워 화장실",address:"서울특별시 용산구 남산공원길",gu:"용산구",longitude:126.988,latitude:37.551,geom:{type:"Point",coordinates:[126.988,37.551]},open_type:"공공개방",open_hours:"추가 문의",created_at:"2025-03-01T10:00:00Z",updated_at:"2025-09-25T12:00:00Z"},{toilet_id:9,name:"올림픽공원 화장실 1호",address:"서울특별시 송파구 올림픽로",gu:"송파구",longitude:127.1215,latitude:37.5205,geom:{type:"Point",coordinates:[127.1215,37.5205]},open_type:"공공개방",open_hours:"상시",created_at:"2025-03-10T09:30:00Z",updated_at:"2025-09-30T11:55:00Z"},{toilet_id:10,name:"서울숲 공원 남문 화장실",address:"서울특별시 성동구 뚝섬로 273",gu:"성동구",longitude:127.0408,latitude:37.5445,geom:{type:"Point",coordinates:[127.0408,37.5445]},open_type:"공공개방",open_hours:"상시",created_at:"2025-02-05T10:00:00Z",updated_at:"2025-09-30T15:00:00Z"},{toilet_id:11,name:"이촌 한강공원 화장실",address:"서울특별시 용산구 이촌로",gu:"용산구",longitude:126.9678,latitude:37.5228,geom:{type:"Point",coordinates:[126.9678,37.5228]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-03-20T11:15:00Z",updated_at:"2025-10-05T16:40:00Z"},{toilet_id:12,name:"월드컵공원 화장실",address:"서울특별시 마포구 월드컵로",gu:"마포구",longitude:126.8975,latitude:37.568,geom:{type:"Point",coordinates:[126.8975,37.568]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-01T12:00:00Z",updated_at:"2025-09-20T14:35:00Z"},{toilet_id:13,name:"구의 공원 화장실",address:"서울특별시 광진구 구의동",gu:"광진구",longitude:127.073,latitude:37.538,geom:{type:"Point",coordinates:[127.073,37.538]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-05T13:00:00Z",updated_at:"2025-10-01T13:45:00Z"},{toilet_id:14,name:"화양 공원 화장실",address:"서울특별시 광진구 화양동",gu:"광진구",longitude:127.068,latitude:37.546,geom:{type:"Point",coordinates:[127.068,37.546]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-10T14:00:00Z",updated_at:"2025-09-28T11:55:00Z"},{toilet_id:15,name:"건대입구 화장실",address:"서울특별시 광진구 능동로",gu:"광진구",longitude:127.071,latitude:37.5405,geom:{type:"Point",coordinates:[127.071,37.5405]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-04-15T15:00:00Z",updated_at:"2025-10-03T12:20:00Z"},{toilet_id:16,name:"어린이대공원 뒤 화장실",address:"서울특별시 광진구 광나루로",gu:"광진구",longitude:127.055,latitude:37.5385,geom:{type:"Point",coordinates:[127.055,37.5385]},open_type:"공공개방",open_hours:"06:00-21:00",created_at:"2025-04-20T16:00:00Z",updated_at:"2025-10-04T15:00:00Z"},{toilet_id:17,name:"방화동 거리 화장실",address:"서울특별시 강서구 방화동",gu:"강서구",longitude:126.819,latitude:37.57,geom:{type:"Point",coordinates:[126.819,37.57]},open_type:"공공개방",open_hours:"상시",created_at:"2025-05-01T08:30:00Z",updated_at:"2025-09-25T10:50:00Z"},{toilet_id:18,name:"화곡동 공중화장실",address:"서울특별시 강서구 화곡동",gu:"강서구",longitude:126.84,latitude:37.5415,geom:{type:"Point",coordinates:[126.84,37.5415]},open_type:"공공개방",open_hours:"상시",created_at:"2025-05-05T09:45:00Z",updated_at:"2025-10-01T11:30:00Z"},{toilet_id:19,name:"목동 공원 화장실",address:"서울특별시 양천구 목동",gu:"양천구",longitude:126.8665,latitude:37.529,geom:{type:"Point",coordinates:[126.8665,37.529]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-05-10T10:00:00Z",updated_at:"2025-10-02T14:05:00Z"},{toilet_id:20,name:"신촌 공중화장실",address:"서울특별시 서대문구 창천동",gu:"서대문구",longitude:126.9385,latitude:37.556,geom:{type:"Point",coordinates:[126.9385,37.556]},open_type:"공공개방",open_hours:"06:00-23:00",created_at:"2025-05-15T11:00:00Z",updated_at:"2025-09-20T12:45:00Z"}],Mb=[{fountain_id:1,name:"서울숲 남문 음수대",address:"서울특별시 성동구 뚝섬로 273",gu:"성동구",longitude:127.0422,latitude:37.5443,geom:{type:"Point",coordinates:[127.0422,37.5443]},created_at:"2025-03-05T09:00:00Z",updated_at:"2025-10-08T11:30:00Z"},{fountain_id:2,name:"올림픽공원 중앙광장 음수대",address:"서울특별시 송파구 올림픽로 424",gu:"송파구",longitude:127.1231,latitude:37.5209,geom:{type:"Point",coordinates:[127.1231,37.5209]},created_at:"2025-02-25T10:30:00Z",updated_at:"2025-10-06T14:10:00Z"},{fountain_id:3,name:"북서울 꿈의숲 산책로 음수대",address:"서울특별시 강북구 월계로 173",gu:"강북구",longitude:127.0411,latitude:37.6212,geom:{type:"Point",coordinates:[127.0411,37.6212]},created_at:"2025-01-20T09:45:00Z",updated_at:"2025-10-06T15:40:00Z"},{fountain_id:4,name:"월드컵공원 평화의광장 음수대",address:"서울특별시 마포구 하늘공원로 108",gu:"마포구",longitude:126.8857,latitude:37.5665,geom:{type:"Point",coordinates:[126.8857,37.5665]},created_at:"2025-02-15T10:30:00Z",updated_at:"2025-10-07T13:10:00Z"},{fountain_id:5,name:"난지 한강공원 수변 음수대",address:"서울특별시 마포구 한강난지로 162",gu:"마포구",longitude:126.8774,latitude:37.5687,geom:{type:"Point",coordinates:[126.8774,37.5687]},created_at:"2025-03-12T09:30:00Z",updated_at:"2025-10-02T12:20:00Z"},{fountain_id:6,name:"잠실한강공원 자전거도로 음수대",address:"서울특별시 송파구 잠실동 19-1",gu:"송파구",install_location:"잠실한강공원 자전거도로 입구",longitude:127.0852,latitude:36.5199,geom:{type:"Point",coordinates:[127.0852,36.5199]},created_at:"2025-02-28T09:40:00Z",updated_at:"2025-10-05T10:50:00Z"},{fountain_id:7,name:"남산야외식물원 음수대",address:"서울특별시 중구 예장동 산5-6",gu:"중구",longitude:126.9882,latitude:37.5511,geom:{type:"Point",coordinates:[126.9882,37.5511]},created_at:"2025-03-05T10:00:00Z",updated_at:"2025-10-03T15:30:00Z"},{fountain_id:8,name:"서울로7017 음수대",address:"서울특별시 중구 청파로 432",gu:"중구",longitude:126.9698,latitude:37.5565,geom:{type:"Point",coordinates:[126.9698,37.5565]},created_at:"2025-04-10T09:15:00Z",updated_at:"2025-10-08T12:40:00Z"},{fountain_id:9,name:"홍제천 산책로 음수대",address:"서울특별시 서대문구 홍제동 331",gu:"서대문구",longitude:126.9412,latitude:37.5864,geom:{type:"Point",coordinates:[126.9412,37.5864]},created_at:"2025-02-15T09:00:00Z",updated_at:"2025-09-28T11:50:00Z"},{fountain_id:10,name:"양재시민의숲 입구 음수대",address:"서울특별시 서초구 매헌로 99",gu:"서초구",longitude:127.0359,latitude:37.4709,geom:{type:"Point",coordinates:[127.0359,37.4709]},created_at:"2025-04-01T09:20:00Z",updated_at:"2025-10-01T13:00:00Z"},{fountain_id:11,name:"북악스카이웨이 팔각정 음수대",address:"서울특별시 종로구 평창동 산6-1",gu:"종로구",longitude:126.9689,latitude:37.6098,geom:{type:"Point",coordinates:[126.9689,37.6098]},created_at:"2025-03-18T10:10:00Z",updated_at:"2025-09-30T14:50:00Z"},{fountain_id:12,name:"뚝섬유원지 강변 음수대",address:"서울특별시 광진구 강변북로 139",gu:"광진구",longitude:127.0668,latitude:37.5308,geom:{type:"Point",coordinates:[127.0668,37.5308]},created_at:"2025-01-15T09:30:00Z",updated_at:"2025-09-29T13:40:00Z"},{fountain_id:13,name:"청계천 광교 하류 음수대",address:"서울특별시 종로구 청계천로 1",gu:"종로구",longitude:126.9784,latitude:37.5698,geom:{type:"Point",coordinates:[126.9784,37.5698]},created_at:"2025-02-01T11:00:00Z",updated_at:"2025-09-30T16:20:00Z"},{fountain_id:14,name:"한강대교 남단 수변 음수대",address:"서울특별시 용산구 이촌로 72",gu:"용산구",longitude:126.9675,latitude:37.5225,geom:{type:"Point",coordinates:[126.9675,37.5225]},created_at:"2025-03-15T11:20:00Z",updated_at:"2025-10-03T15:40:00Z"}],Ob="/assets/route-1-C9XcXLWi.jpg",Db=Object.freeze(Object.defineProperty({__proto__:null,default:Ob},Symbol.toStringTag,{value:"Module"})),Lb="/assets/route-10-MQZnwj7O.jpg",Nb=Object.freeze(Object.defineProperty({__proto__:null,default:Lb},Symbol.toStringTag,{value:"Module"})),Ib="/assets/route-2-CbewcH-C.jpg",zb=Object.freeze(Object.defineProperty({__proto__:null,default:Ib},Symbol.toStringTag,{value:"Module"})),jb="/assets/route-3-BMlVAxXk.jpg",kb=Object.freeze(Object.defineProperty({__proto__:null,default:jb},Symbol.toStringTag,{value:"Module"})),Gb="/assets/route-4-Cv46mKhB.jpg",Ub=Object.freeze(Object.defineProperty({__proto__:null,default:Gb},Symbol.toStringTag,{value:"Module"})),Pb="/assets/route-5-BtKchcar.jpg",Fb=Object.freeze(Object.defineProperty({__proto__:null,default:Pb},Symbol.toStringTag,{value:"Module"})),Zb="/assets/route-6-sxGotr-i.jpg",Yb=Object.freeze(Object.defineProperty({__proto__:null,default:Zb},Symbol.toStringTag,{value:"Module"})),Xb="/assets/route-7-B0sW294w.jpg",Bb=Object.freeze(Object.defineProperty({__proto__:null,default:Xb},Symbol.toStringTag,{value:"Module"})),Hb="/assets/route-8-DoYD3AyJ.jpg",Kb=Object.freeze(Object.defineProperty({__proto__:null,default:Hb},Symbol.toStringTag,{value:"Module"})),qb="/assets/route-9-BcFEQtUX.jpg",Vb=Object.freeze(Object.defineProperty({__proto__:null,default:qb},Symbol.toStringTag,{value:"Module"})),Wb=Object.assign({"../assets/bikeRoutes/route-1.jpg":Db,"../assets/bikeRoutes/route-10.jpg":Nb,"../assets/bikeRoutes/route-2.jpg":zb,"../assets/bikeRoutes/route-3.jpg":kb,"../assets/bikeRoutes/route-4.jpg":Ub,"../assets/bikeRoutes/route-5.jpg":Fb,"../assets/bikeRoutes/route-6.jpg":Yb,"../assets/bikeRoutes/route-7.jpg":Bb,"../assets/bikeRoutes/route-8.jpg":Kb,"../assets/bikeRoutes/route-9.jpg":Vb}),Qn=a=>{const t=`../assets/bikeRoutes/route-${a}.jpg`;return Wb[t]?.default||null},fd=[{route_id:1,name:"한강 여의도 순환 코스",image:Qn(1),description:"여의도 한강공원을 한 바퀴 도는 초보자 친화적인 코스입니다. 평탄한 길로 가족 나들이나 데이트 코스로 적합합니다.",distance_km:7.2,estimated_time_min:35,difficulty:"EASY",elevation_gain_m:15,start_point:{name:"여의도 한강공원 입구",latitude:37.5285,longitude:126.9328,geom:{type:"Point",coordinates:[126.9328,37.5285]}},end_point:{name:"여의도 한강공원 서측",latitude:37.5268,longitude:126.918,geom:{type:"Point",coordinates:[126.918,37.5268]}},waypoints:[{latitude:37.5285,longitude:126.9328},{latitude:37.5295,longitude:126.925},{latitude:37.5268,longitude:126.918},{latitude:37.5242,longitude:126.922},{latitude:37.5258,longitude:126.93},{latitude:37.5285,longitude:126.9328}],geom:{type:"LineString",coordinates:[[126.9328,37.5285],[126.925,37.5295],[126.918,37.5268],[126.922,37.5242],[126.93,37.5258],[126.9328,37.5285]]},nearby_facilities:{stations:[1,2,3],toilets:[1,2,3],drinking_fountains:[1],repair_centers:[1]},tags:["한강","평지","초보","야경","데이트","가족"],rating:4.5,review_count:328,created_at:"2024-01-10T09:00:00Z",updated_at:"2025-10-01T15:30:00Z"},{route_id:2,name:"북한산 둘레길 자전거 코스",image:Qn(2),description:"북한산 자락을 따라 자연을 만끽하는 중급 코스입니다. 적당한 경사와 숲길이 조화를 이룹니다.",distance_km:12.5,estimated_time_min:65,difficulty:"MEDIUM",elevation_gain_m:180,start_point:{name:"북한산 우이령 입구",latitude:37.6658,longitude:127.0128,geom:{type:"Point",coordinates:[127.0128,37.6658]}},end_point:{name:"정릉 입구",latitude:37.6158,longitude:127.0028,geom:{type:"Point",coordinates:[127.0028,37.6158]}},waypoints:[{latitude:37.6658,longitude:127.0128},{latitude:37.6598,longitude:127.0088},{latitude:37.6518,longitude:127.0048},{latitude:37.6438,longitude:127.0008},{latitude:37.6328,longitude:126.9988},{latitude:37.6228,longitude:127.0008},{latitude:37.6158,longitude:127.0028}],geom:{type:"LineString",coordinates:[[127.0128,37.6658],[127.0088,37.6598],[127.0048,37.6518],[127.0008,37.6438],[126.9988,37.6328],[127.0008,37.6228],[127.0028,37.6158]]},nearby_facilities:{stations:[6,7],toilets:[7,8],drinking_fountains:[4,5],repair_centers:[5]},tags:["산","경사","중급","자연","운동","숲"],rating:4.7,review_count:156,created_at:"2024-02-15T10:00:00Z",updated_at:"2025-09-28T14:20:00Z"},{route_id:3,name:"청계천 ~ 한강 연결 코스",image:Qn(3),description:"도심 청계천에서 한강까지 이어지는 도심 투어 코스입니다. 카페와 관광지를 함께 즐길 수 있습니다.",distance_km:24.2,estimated_time_min:145,difficulty:"EASY",elevation_gain_m:25,start_point:{name:"청계광장",latitude:37.5698,longitude:126.9788,geom:{type:"Point",coordinates:[126.9788,37.5698]}},end_point:{name:"뚝섬 한강공원",latitude:37.5308,longitude:127.0668,geom:{type:"Point",coordinates:[127.0668,37.5308]}},waypoints:[{latitude:37.5698,longitude:126.9788},{latitude:37.5668,longitude:126.9918},{latitude:37.5608,longitude:127.0048},{latitude:37.5528,longitude:127.0268},{latitude:37.5428,longitude:127.0468},{latitude:37.5348,longitude:127.0588},{latitude:37.5308,longitude:127.0668}],geom:{type:"LineString",coordinates:[[126.9788,37.5698],[126.9918,37.5668],[127.0048,37.5608],[127.0268,37.5528],[127.0468,37.5428],[127.0588,37.5348],[127.0668,37.5308]]},nearby_facilities:{stations:[4,5,14],toilets:[4,5,6,16,17],drinking_fountains:[2,3,10],repair_centers:[3,4,13]},tags:["도심","평지","초보","관광","카페","하천"],rating:4.3,review_count:421,created_at:"2024-03-20T11:00:00Z",updated_at:"2025-10-02T16:45:00Z"},{route_id:4,name:"양재천 벚꽃길",image:Qn(4),description:"봄에는 벚꽃, 가을에는 단풍이 아름다운 감성 코스입니다. 사진 찍기 좋은 포토존이 많습니다.",distance_km:11.3,estimated_time_min:52,difficulty:"EASY",elevation_gain_m:20,start_point:{name:"양재역",latitude:37.4844,longitude:127.0338,geom:{type:"Point",coordinates:[127.0338,37.4844]}},end_point:{name:"대치역",latitude:37.4944,longitude:127.0638,geom:{type:"Point",coordinates:[127.0638,37.4944]}},waypoints:[{latitude:37.4844,longitude:127.0338},{latitude:37.4864,longitude:127.0408},{latitude:37.4884,longitude:127.0478},{latitude:37.4904,longitude:127.0548},{latitude:37.4924,longitude:127.0598},{latitude:37.4944,longitude:127.0638}],geom:{type:"LineString",coordinates:[[127.0338,37.4844],[127.0408,37.4864],[127.0478,37.4884],[127.0548,37.4904],[127.0598,37.4924],[127.0638,37.4944]]},nearby_facilities:{stations:[8,9,12],toilets:[9,10,14],drinking_fountains:[6],repair_centers:[7,8]},tags:["하천","평지","초보","꽃","사진","데이트"],rating:4.6,review_count:267,created_at:"2024-04-10T09:30:00Z",updated_at:"2025-09-30T11:20:00Z"},{route_id:5,name:"남산 일주 도전 코스",image:Qn(5),description:"남산을 한 바퀴 도는 고급 라이더를 위한 도전 코스입니다. 경사가 있지만 정상의 야경이 압권입니다.",distance_km:8.7,estimated_time_min:55,difficulty:"HARD",elevation_gain_m:320,start_point:{name:"남산 순환로 입구",latitude:37.5508,longitude:126.9918,geom:{type:"Point",coordinates:[126.9918,37.5508]}},end_point:{name:"남산 북측 순환로",latitude:37.5548,longitude:126.9948,geom:{type:"Point",coordinates:[126.9948,37.5548]}},waypoints:[{latitude:37.5508,longitude:126.9918},{latitude:37.5548,longitude:126.9948},{latitude:37.5538,longitude:127.0028},{latitude:37.5498,longitude:127.0048},{latitude:37.5458,longitude:127.0008},{latitude:37.5478,longitude:126.9948},{latitude:37.5508,longitude:126.9918}],geom:{type:"LineString",coordinates:[[126.9918,37.5508],[126.9948,37.5548],[127.0028,37.5538],[127.0048,37.5498],[127.0008,37.5458],[126.9948,37.5478],[126.9918,37.5508]]},nearby_facilities:{stations:[10],toilets:[11,12],drinking_fountains:[7,8],repair_centers:[9]},tags:["산","경사","고급","야경","운동","도전"],rating:4.8,review_count:89,created_at:"2024-05-15T10:00:00Z",updated_at:"2025-10-03T13:15:00Z"},{route_id:6,name:"서울숲 ~ 올림픽공원 연결 코스",image:Qn(6),description:"서울숲에서 출발해 올림픽공원까지 이어지는 중급 코스입니다. 두 개의 큰 공원을 즐길 수 있습니다.",distance_km:14.2,estimated_time_min:70,difficulty:"MEDIUM",elevation_gain_m:85,start_point:{name:"서울숲",latitude:37.5443,longitude:127.0442,geom:{type:"Point",coordinates:[127.0442,37.5443]}},end_point:{name:"올림픽공원",latitude:37.521,longitude:127.1215,geom:{type:"Point",coordinates:[127.1215,37.521]}},waypoints:[{latitude:37.5443,longitude:127.0442},{latitude:37.541,longitude:127.056},{latitude:37.536,longitude:127.072},{latitude:37.53,longitude:127.088},{latitude:37.525,longitude:127.104},{latitude:37.521,longitude:127.1215}],geom:{type:"LineString",coordinates:[[127.0442,37.5443],[127.056,37.541],[127.072,37.536],[127.088,37.53],[127.104,37.525],[127.1215,37.521]]},nearby_facilities:{stations:[13,14,15],toilets:[15,16,17,18],drinking_fountains:[9,10,11],repair_centers:[12,13]},tags:["공원","중급","자연","운동","피크닉"],rating:4.4,review_count:213,created_at:"2024-06-20T11:30:00Z",updated_at:"2025-09-25T15:40:00Z"},{route_id:7,name:"한강 종주 코스 (여의도~잠실)",image:Qn(7),description:"여의도에서 잠실까지 한강을 따라 달리는 장거리 코스입니다. 한강의 다양한 풍경을 경험할 수 있습니다.",distance_km:18.5,estimated_time_min:95,difficulty:"MEDIUM",elevation_gain_m:35,start_point:{name:"여의도 한강공원",latitude:37.5285,longitude:126.9328,geom:{type:"Point",coordinates:[126.9328,37.5285]}},end_point:{name:"잠실 한강공원",latitude:37.5238,longitude:127.0985,geom:{type:"Point",coordinates:[127.0985,37.5238]}},waypoints:[{latitude:37.5285,longitude:126.9328},{latitude:37.527,longitude:126.968},{latitude:37.525,longitude:127.004},{latitude:37.523,longitude:127.04},{latitude:37.524,longitude:127.066},{latitude:37.5235,longitude:127.082},{latitude:37.5238,longitude:127.0985}],geom:{type:"LineString",coordinates:[[126.9328,37.5285],[126.968,37.527],[127.004,37.525],[127.04,37.523],[127.066,37.524],[127.082,37.5235],[127.0985,37.5238]]},nearby_facilities:{stations:[1,2,4,15],toilets:[1,2,4,18,19],drinking_fountains:[1,2,11,12],repair_centers:[1,3,18]},tags:["한강","장거리","중급","경치","라이딩"],rating:4.6,review_count:342,created_at:"2024-07-10T10:00:00Z",updated_at:"2025-10-04T14:25:00Z"},{route_id:8,name:"이촌 ~ 반포 한강 코스",image:Qn(8),description:"이촌 한강공원에서 반포 한강공원까지 이어지는 초급 코스입니다. 반포대교 분수쇼를 볼 수 있습니다.",distance_km:7.6,estimated_time_min:30,difficulty:"EASY",elevation_gain_m:10,start_point:{name:"이촌 한강공원",latitude:37.523,longitude:126.968,geom:{type:"Point",coordinates:[126.968,37.523]}},end_point:{name:"반포 한강공원",latitude:37.513,longitude:127.002,geom:{type:"Point",coordinates:[127.002,37.513]}},waypoints:[{latitude:37.523,longitude:126.968},{latitude:37.52,longitude:126.978},{latitude:37.517,longitude:126.988},{latitude:37.515,longitude:126.995},{latitude:37.513,longitude:127.002}],geom:{type:"LineString",coordinates:[[126.968,37.523],[126.978,37.52],[126.988,37.517],[126.995,37.515],[127.002,37.513]]},nearby_facilities:{stations:[1],toilets:[19],drinking_fountains:[12,13],repair_centers:[18]},tags:["한강","평지","초보","야경","분수쇼","데이트"],rating:4.5,review_count:289,created_at:"2024-08-05T09:30:00Z",updated_at:"2025-09-29T12:50:00Z"},{route_id:9,name:"월드컵공원 순환 코스",image:Qn(9),description:"월드컵공원을 돌아보는 중급 코스입니다. 하늘공원의 억새밭이 유명합니다.",distance_km:10.2,estimated_time_min:58,difficulty:"MEDIUM",elevation_gain_m:140,start_point:{name:"월드컵공원 정문",latitude:37.5685,longitude:126.898,geom:{type:"Point",coordinates:[126.898,37.5685]}},end_point:{name:"월드컵공원 북문",latitude:37.572,longitude:126.892,geom:{type:"Point",coordinates:[126.892,37.572]}},waypoints:[{latitude:37.5685,longitude:126.898},{latitude:37.57,longitude:126.895},{latitude:37.572,longitude:126.892},{latitude:37.571,longitude:126.888},{latitude:37.569,longitude:126.891},{latitude:37.567,longitude:126.895},{latitude:37.5685,longitude:126.898}],geom:{type:"LineString",coordinates:[[126.898,37.5685],[126.895,37.57],[126.892,37.572],[126.888,37.571],[126.891,37.569],[126.895,37.567],[126.898,37.5685]]},nearby_facilities:{stations:[],toilets:[20],drinking_fountains:[14],repair_centers:[17]},tags:["공원","경사","중급","억새","자연","운동"],rating:4.5,review_count:178,created_at:"2024-09-10T11:00:00Z",updated_at:"2025-10-05T10:30:00Z"},{route_id:10,name:"강남 도심 투어 코스",image:Qn(10),description:"강남역에서 출발해 도심을 돌아보는 초급 코스입니다. 쇼핑과 맛집 탐방을 함께 즐길 수 있습니다.",distance_km:8.9,estimated_time_min:42,difficulty:"EASY",elevation_gain_m:30,start_point:{name:"강남역",latitude:37.4978,longitude:127.0278,geom:{type:"Point",coordinates:[127.0278,37.4978]}},end_point:{name:"삼성역 부근 아파트 단지",latitude:37.508,longitude:127.044,geom:{type:"Point",coordinates:[127.044,37.508]}},waypoints:[{latitude:37.4978,longitude:127.0278},{latitude:37.502,longitude:127.032},{latitude:37.506,longitude:127.038},{latitude:37.508,longitude:127.044},{latitude:37.505,longitude:127.05},{latitude:37.501,longitude:127.042},{latitude:37.499,longitude:127.034},{latitude:37.4978,longitude:127.0278}],geom:{type:"LineString",coordinates:[[127.0278,37.4978],[127.032,37.502],[127.038,37.506],[127.044,37.508],[127.05,37.505],[127.042,37.501],[127.034,37.499],[127.0278,37.4978]]},nearby_facilities:{stations:[11,12],toilets:[13,14],drinking_fountains:[],repair_centers:[10,11,16]},tags:["도심","평지","초보","쇼핑","맛집","카페"],rating:4.2,review_count:395,created_at:"2024-09-25T10:30:00Z",updated_at:"2025-10-06T16:10:00Z"}],Qb=()=>{const a=Dt.useRef(null),t=Dt.useRef(null),n=Dt.useRef(null),s=Dt.useRef(null),r=Dt.useRef(null),u=Dt.useRef(null),c=Dt.useRef(null),h=Dt.useRef(null),d=Dt.useRef(null),_=Dt.useRef(null),m=Dt.useRef(null),p=Dt.useRef(null),v=Dt.useRef(null),[E,T]=Dt.useState(["bike","repair","toilet","water"]),[w,C]=Dt.useState(!1),[M,N]=Dt.useState(null),[P,L]=Dt.useState(!1),[O,H]=Dt.useState(null),[V,K]=Dt.useState(null),[Q,$]=Dt.useState(null),[ot,tt]=Dt.useState(!1),[et,nt]=Dt.useState(!1);Dt.useEffect(()=>((async()=>{const _t=await s1(),rt=new jT({target:a.current,layers:[new sR({source:new ab})],view:new Jn({center:cs([_t.longitude,_t.latitude]),zoom:13})});t.current=rt;const xt=document.createElement("div");xt.className="ol-popup",m.current=xt;const Lt=new lb({element:xt,autoPan:{animation:{duration:250}},positioning:"bottom-center",offset:[0,-52]});rt.addOverlay(Lt),p.current=Lt,rt.on("singleclick",jt=>{ct(jt)}),rt.on("pointermove",jt=>{const Xt=jt.pixel,xe=rt.forEachFeatureAtPixel(Xt,ce=>ce);P&&!O||P&&O&&!V?rt.getTargetElement().style.cursor="crosshair":xe&&xe.get("type")!=="userLocation"?rt.getTargetElement().style.cursor="pointer":rt.getTargetElement().style.cursor=""}),J(_t),k(),F(),C(!0)})(),()=>{v.current&&v.current.unmount(),t.current&&t.current.setTarget(null)}),[]),Dt.useEffect(()=>{P?(tt(!0),nt(!1)):(R(),tt(!1),nt(!1))},[P]);const ct=lt=>{if(!t.current)return;const rt=t.current.forEachFeatureAtPixel(lt.pixel,xt=>xt);if(P){if(rt&&rt.get("type")==="bikeRoute"){const xt=rt.get("data");I(xt);return}if(ot||!O&&!et){const xt=lt.coordinate,[Lt,jt]=Tf(xt),Xt={longitude:Lt,latitude:jt};console.log("🟢 출발지 선택:",Xt),H(Xt),tt(!1),nt(!0),X("start",Xt);return}if(et||O&&!V){const xt=lt.coordinate,[Lt,jt]=Tf(xt),Xt={longitude:Lt,latitude:jt};console.log("🔴 도착지 선택:",Xt),K(Xt),nt(!1),X("end",Xt),W(O,Xt);return}return}if(rt&&rt.get("type")!=="userLocation"&&rt.get("type")!=="routeMarker"){const xt=rt.getGeometry().getCoordinates(),Lt=rt.get("type"),jt=rt.get("data");Lt==="bikeRoute"?(N({type:Lt,data:jt}),p.current.setPosition(xt)):(N({type:Lt,data:jt}),p.current.setPosition(xt))}else rt||(N(null),p.current.setPosition(void 0))},I=lt=>{const _t={latitude:lt.start_point.latitude,longitude:lt.start_point.longitude,name:lt.start_point.name},rt={latitude:lt.end_point.latitude,longitude:lt.end_point.longitude,name:lt.end_point.name};L(!0),st(),H(_t),K(rt),tt(!1),nt(!1),X("start",_t),X("end",rt),W(_t,rt),N(null),p.current.setPosition(void 0);const xt=(_t.longitude+rt.longitude)/2,Lt=(_t.latitude+rt.latitude)/2;t.current&&t.current.getView().animate({center:cs([xt,Lt]),zoom:12,duration:800})},X=(lt,_t)=>{if(!t.current)return;const rt=lt==="start"?yb(_t):vb(_t);if(rt.set("type","routeMarker"),d.current)d.current.getSource().addFeature(rt);else{const xt=new ls({features:[rt]}),Lt=new ss({source:xt,zIndex:999});t.current.addLayer(Lt),d.current=Lt}},W=async(lt,_t)=>{try{const rt=await Tb(lt,_t),xt=xb(rt.geometry),Lt=new ls({features:[xt]}),jt=new ss({source:Lt,zIndex:100});t.current.addLayer(jt),h.current=jt,$({distance:Rb(rt.distance),duration:bb(rt.duration)});const Xt=Lt.getExtent();t.current.getView().fit(Xt,{padding:[100,100,100,100],duration:500})}catch(rt){console.error("경로 계산 실패:",rt),alert("경로를 찾을 수 없습니다. 다시 시도해주세요."),R()}},st=()=>{t.current&&(h.current&&(t.current.removeLayer(h.current),h.current=null),d.current&&(t.current.removeLayer(d.current),d.current=null),$(null))},R=()=>{st(),H(null),K(null),tt(!1),nt(!1)},F=()=>{if(!t.current||!fd)return;const lt=fd.map(rt=>{const xt=new ta({geometry:new Js(cs([rt.start_point.longitude,rt.start_point.latitude])),type:"bikeRoute",data:rt}),Lt=`
        <svg width="44" height="52" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow-route" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
            </filter>
          </defs>
          <path d="M22 0C15.4 0 10 5.4 10 12c0 9 12 28 12 28s12-19 12-28c0-6.6-5.4-12-12-12z" 
                fill="#AF52DE" 
                stroke="#fff" 
                stroke-width="2.5"
                filter="url(#shadow-route)"/>
          <circle cx="22" cy="12" r="8" fill="white" opacity="0.95"/>
          <text x="22" y="17" text-anchor="middle" font-size="14">🚴</text>
        </svg>
      `;return xt.setStyle(new gn({image:new ps({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(Lt),scale:1})})),xt}),_t=new ss({source:new ls({features:lt}),zIndex:15,properties:{type:"bikeRoutes"}});t.current.addLayer(_t),_.current=_t},k=()=>{if(!t.current)return;const lt=t.current,_t=Cb.map($t=>gb({longitude:$t.longitude,latitude:$t.latitude},$t)),rt=new ss({source:new ls({features:_t}),zIndex:10,properties:{type:"bike"}});lt.addLayer(rt),s.current=rt;const Lt=wb.filter($t=>$t.facility_type==="REPAIR_CENTER").map($t=>_b({longitude:$t.longitude,latitude:$t.latitude},$t)),jt=new ss({source:new ls({features:Lt}),zIndex:10,properties:{type:"repair"}});lt.addLayer(jt),r.current=jt;const Xt=Ab.map($t=>mb({longitude:$t.longitude,latitude:$t.latitude},$t)),xe=new ss({source:new ls({features:Xt}),zIndex:10,properties:{type:"toilet"}});lt.addLayer(xe),u.current=xe;const ce=Mb.map($t=>pb({longitude:$t.longitude,latitude:$t.latitude},$t)),Mn=new ss({source:new ls({features:ce}),zIndex:10,properties:{type:"water"}});lt.addLayer(Mn),c.current=Mn};Dt.useEffect(()=>{t.current&&(s.current&&s.current.setVisible(E.includes("bike")),r.current&&r.current.setVisible(E.includes("repair")),u.current&&u.current.setVisible(E.includes("toilet")),c.current&&c.current.setVisible(E.includes("water")))},[E]),Dt.useEffect(()=>{if(!t.current)return;const lt=t.current;let _t=!1;const rt=xt=>{xt&&xt.pixel&&lt.forEachFeatureAtPixel(xt.pixel,jt=>jt)||(_t||(C(!1),n.current&&(lt.removeLayer(n.current),n.current=null)),_t=!1)};return lt.on("pointerdrag",rt),window.setGPSButtonClick=()=>{_t=!0},()=>{lt.un("pointerdrag",rt),delete window.setGPSButtonClick}},[]),Dt.useEffect(()=>{m.current&&(v.current||(v.current=a1.createRoot(m.current)),M?v.current.render(S.jsx(ob,{type:M.type,data:M.data,onClose:()=>{N(null),p.current&&p.current.setPosition(void 0)},onRouteClick:M.type==="bikeRoute"?I:void 0})):v.current.render(S.jsx("div",{style:{display:"none"}})))},[M]);const J=lt=>{if(!t.current)return;n.current&&t.current.removeLayer(n.current);const _t=db(lt),rt=new ls({features:[_t]}),xt=new ss({source:rt,zIndex:1e3});t.current.addLayer(xt),n.current=xt},it=lt=>{T(_t=>_t.includes(lt)?_t.filter(rt=>rt!==lt):[..._t,lt])},ft=async()=>{window.setGPSButtonClick&&window.setGPSButtonClick();const lt=await s1();if(t.current){const _t=t.current.getView();C(!0),_t.animate({center:cs([lt.longitude,lt.latitude]),zoom:15,duration:500}),setTimeout(()=>J(lt),500)}},ut=()=>{L(lt=>!lt),N(null),p.current&&p.current.setPosition(void 0)},zt=()=>{console.log("🟢 출발지 버튼 클릭"),N(null),p.current&&p.current.setPosition(void 0),h.current&&(t.current.removeLayer(h.current),h.current=null),d.current&&(t.current.removeLayer(d.current),d.current=null),H(null),K(null),$(null),setTimeout(()=>{tt(!0),nt(!1),console.log("✅ 출발지 선택 모드 활성화")},50)},wt=()=>{if(console.log("🔴 도착지 버튼 클릭"),!O){alert("출발지를 먼저 선택해주세요."),zt();return}if(N(null),p.current&&p.current.setPosition(void 0),h.current&&(t.current.removeLayer(h.current),h.current=null),d.current&&V){const lt=d.current.getSource();lt.getFeatures().forEach(rt=>{const xt=rt.getGeometry().getCoordinates(),[Lt,jt]=Tf(xt);Math.abs(Lt-V.longitude)<1e-4&&Math.abs(jt-V.latitude)<1e-4&&lt.removeFeature(rt)})}K(null),$(null),setTimeout(()=>{tt(!1),nt(!0),console.log("✅ 도착지 선택 모드 활성화")},50)};return S.jsxs("div",{className:"map-view-container",children:[S.jsxs("div",{className:"filter-overlay",children:[S.jsx(vu,{id:"bike",icon:"🚲",text:"대여소",activeColor:"#4A90E2",isActive:E.includes("bike"),onClick:it}),S.jsx(vu,{id:"repair",icon:"🔧",text:"수리점",activeColor:"#FF9500",isActive:E.includes("repair"),onClick:it}),S.jsx(vu,{id:"toilet",icon:"🚻",text:"화장실",activeColor:"#34C759",isActive:E.includes("toilet"),onClick:it}),S.jsx(vu,{id:"water",icon:"💧",text:"음수대",activeColor:"#5AC8FA",isActive:E.includes("water"),onClick:it})]}),S.jsx(ub,{isRoutingMode:P,onToggleMode:ut,startPoint:O,endPoint:V,routeInfo:Q,onClearRoute:R,isSelectingStart:ot,isSelectingEnd:et,onStartPointClick:zt,onEndPointClick:wt}),S.jsx(rb,{onClick:ft,isActive:w}),S.jsx("div",{ref:a,className:"map-container"})]})},Jb=[{id:"q1",question:"자전거 도로 찾기",answer:"지도 화면에서 자전거 도로 레이어를 활성화하거나, '경로 추천' 탭에서 인기있는 자전거 경로를 확인할 수 있습니다.",icon:S.jsx(o1,{})},{id:"q2",question:"대여소 정보 찾기",answer:"'대여소' 탭에서 각 지역의 자전거 대여소 정보를 확인할 수 있습니다.",icon:S.jsx(Wv,{})},{id:"q3",question:"회원 정보 수정",answer:"우측 상단 프로필 아이콘을 클릭하여 '마이페이지'로 이동하시면 회원 정보를 수정할 수 있습니다.",icon:S.jsx(nx,{})},{id:"q4",question:"기타 문의",answer:"추가적인 도움이 필요하시면 rideon.help@egmail.com 으로 이메일을 보내주세요. 최대한 빨리 답변드리겠습니다.",icon:S.jsx(tx,{})}];function $b(){const[a,t]=Dt.useState([]),n=Dt.useRef(null);Dt.useEffect(()=>{t([{id:Date.now(),type:"bot",text:"안녕하세요! RideOn 고객센터입니다. 무엇을 도와드릴까요? 🤔"}])},[]),Dt.useEffect(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[a]);const s=r=>{const u={id:Date.now(),type:"user",text:r.question};setTimeout(()=>{const c={id:Date.now()+1,type:"bot",text:r.answer};t(h=>[...h,u,c])},200)};return S.jsxs("div",{className:"contact-panel",children:[S.jsxs("div",{className:"contact-panel__messages",children:[a.map(r=>S.jsx("div",{className:`chat-bubble chat-bubble--${r.type}`,children:r.text},r.id)),S.jsx("div",{ref:n})]}),S.jsxs("div",{className:"contact-panel__questions",children:[S.jsx("h3",{className:"contact-panel__questions-title",children:"자주 묻는 질문"}),S.jsx("div",{className:"contact-panel__faq-grid",children:Jb.map(r=>S.jsxs("button",{type:"button",className:"faq-card",onClick:()=>s(r),children:[S.jsx("span",{className:"faq-card__icon",children:r.icon}),S.jsx("span",{className:"faq-card__question",children:r.question})]},r.id))})]})]})}function tC({activeTab:a,onRouteClick:t}){const n=c=>({EASY:"쉬움",MEDIUM:"보통",HARD:"어려움"})[c]||c,s=c=>({EASY:"bg-green-100 text-green-700",MEDIUM:"bg-yellow-100 text-yellow-700",HARD:"bg-red-100 text-red-700"})[c]||"bg-gray-100 text-gray-700",r=c=>c.image||null,u=()=>{switch(a){case"stations":return S.jsxs("div",{children:[S.jsx("div",{className:"font-bold text-xl mb-4",children:"대여소 목록"}),S.jsx("div",{className:"text-gray-500",children:"여기에 대여소 목록이 표시됩니다."})]});case"route":return S.jsxs("div",{className:"h-full flex flex-col",children:[S.jsxs("div",{className:"pb-4 border-b",children:[S.jsx("h1",{className:"text-2xl font-bold mb-2",children:"추천 경로"}),S.jsx("p",{className:"text-gray-600 text-sm",children:"서울의 아름다운 자전거 코스를 만나보세요"})]}),S.jsx("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4 pr-2",children:fd.map(c=>S.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>t&&t(c),children:[S.jsxs("div",{className:"relative h-40 bg-gray-100 overflow-hidden",children:[S.jsx("div",{className:"absolute top-3 right-3 z-10",children:S.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-md ${s(c.difficulty)}`,children:n(c.difficulty)})}),r(c)?S.jsx("img",{src:r(c),alt:c.name,className:"w-full h-full object-cover"}):S.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:S.jsx("span",{className:"text-white text-5xl opacity-30",children:"🚴"})})]}),S.jsxs("div",{className:"p-4",children:[S.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900",children:c.name}),S.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:c.description}),S.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-700",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),S.jsxs("span",{className:"font-medium",children:[c.distance_km,"km"]})]}),S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),S.jsx("span",{className:"font-medium",children:c.estimated_time_min<60?`${c.estimated_time_min}분`:`${Math.floor(c.estimated_time_min/60)}시간 ${c.estimated_time_min%60}분`})]})]}),S.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[S.jsxs("div",{className:"flex items-center gap-1",children:[S.jsx("svg",{className:"w-5 h-5 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:S.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),S.jsx("span",{className:"font-bold text-gray-900",children:c.rating}),S.jsxs("span",{className:"text-gray-500 text-sm",children:["(",c.review_count,")"]})]}),S.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-gray-500",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),S.jsxs("span",{children:[c.review_count,"명 참여"]})]})]}),S.jsx("div",{className:"flex flex-wrap gap-1.5",children:c.tags.slice(0,3).map((h,d)=>S.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:h},d))})]})]},c.route_id))})]});case"contact":return S.jsx($b,{});default:return null}};return S.jsx("div",{className:"absolute left-14 top-0 h-full w-80 bg-white shadow-lg p-6 z-10 overflow-hidden flex flex-col",children:u()})}function eC({onLogin:a}){const t=n=>{n.preventDefault(),console.log("로그인 시도"),a()};return S.jsxs("form",{onSubmit:t,className:"login-form",children:[S.jsxs("div",{className:"login-form__header",children:[S.jsx("h2",{className:"login-form__title",children:"로그인"}),S.jsx("p",{className:"login-form__greeting",children:"RideOn에 오신 것을 환영합니다!"})]}),S.jsxs("div",{className:"login-form__field",children:[S.jsx("label",{htmlFor:"email",className:"login-form__label",children:"이메일"}),S.jsx("input",{type:"email",id:"email",placeholder:"user@email.com",className:"login-form__input",required:!0})]}),S.jsxs("div",{className:"login-form__field",children:[S.jsx("label",{htmlFor:"password",className:"login-form__label",children:"비밀번호"}),S.jsx("input",{type:"password",id:"password",placeholder:"••••••••",className:"login-form__input",required:!0})]}),S.jsxs("button",{type:"submit",className:"login-form__submit",children:[S.jsx(ix,{size:20}),S.jsx("span",{children:"로그인"})]}),S.jsxs("div",{className:"login-form__options",children:[S.jsx("a",{href:"#",className:"login-form__options-link",children:"회원가입"}),S.jsx("span",{className:"login-form__options-separator",children:"|"}),S.jsx("a",{href:"#",className:"login-form__options-link",children:"비밀번호를 잊으셨나요?"})]})]})}function nC({onClose:a}){const[t,n]=Dt.useState(!1),s=()=>{n(!0)},r=()=>{n(!1),a()};return S.jsx("div",{className:"profile-panel",children:t?S.jsxs("div",{children:[S.jsxs("div",{className:"profile-panel__user-info",children:[S.jsx(u1,{className:"profile-panel__avatar"}),S.jsxs("div",{children:[S.jsx("div",{className:"profile-panel__username",children:"김유저"}),S.jsx("div",{className:"profile-panel__email",children:"user@email.com"})]})]}),S.jsxs("div",{className:"profile-panel__actions",children:[S.jsx("button",{type:"button",className:"profile-panel__button profile-panel__button--mypage",children:"마이페이지"}),S.jsxs("button",{type:"button",onClick:r,className:"profile-panel__button profile-panel__button--logout",children:[S.jsx(sx,{size:16}),S.jsx("span",{children:"로그아웃"})]})]})]}):S.jsx(eC,{onLogin:s})})}const iC=[{key:"map",icon:S.jsx(o1,{size:24}),label:"지도"},{key:"stations",icon:S.jsx(Jv,{size:24}),label:"대여소"},{key:"route",icon:S.jsx(ex,{size:24}),label:"경로 추천"},{key:"contact",icon:S.jsx($v,{size:24}),label:"문의"},{key:"bookmark",icon:S.jsx(Qv,{size:24}),label:"북마크"}];function sC(){const[a,t]=Dt.useState("map"),[n,s]=Dt.useState(!1);return S.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex flex-col",children:[S.jsxs("header",{className:"h-20 px-8 flex items-center justify-between bg-white shadow w-full relative",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(ax,{size:32,className:"text-black"}),S.jsx("span",{className:"text-blue-600 font-bold text-2xl",children:"RideOn"})]}),S.jsx("div",{className:"flex items-center gap-3 relative",children:S.jsx("button",{className:"flex items-center gap-2 focus:outline-none",onClick:()=>s(r=>!r),style:{background:"none",border:"none",cursor:"pointer"},children:S.jsx(u1,{size:36,className:"text-blue-500"})})}),n&&S.jsx(nC,{onClose:()=>s(!1)})]}),S.jsxs("div",{className:"flex flex-1 relative",children:[S.jsx("aside",{className:"w-16 bg-white shadow-lg flex flex-col py-8 items-center relative z-10",children:S.jsx("nav",{className:"flex flex-col gap-6",children:iC.map(r=>S.jsx(aC,{icon:r.icon,active:a===r.key,onClick:()=>t(r.key),label:r.label},r.key))})}),S.jsx("main",{className:"flex-1 flex items-center justify-center relative",children:S.jsx(Qb,{})}),a!=="map"&&S.jsx(tC,{activeTab:a,onRouteClick:r=>{console.log("선택된 경로:",r)}})]})]})}function aC({icon:a,active:t,onClick:n,label:s}){return S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("button",{className:`flex items-center justify-center w-12 h-12 rounded-lg transition
          ${t?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"}`,type:"button",onClick:n,children:a}),S.jsx("span",{className:"text-xs mt-1 text-gray-500",children:s})]})}const lC=a1.createRoot(document.getElementById("root"));lC.render(S.jsx(sC,{}));
