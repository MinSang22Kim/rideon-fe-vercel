(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function Nx(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var jf={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp;function Ix(){if(dp)return Sl;dp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var h in r)h!=="key"&&(o[h]=r[h])}else o=r;return r=o.ref,{$$typeof:a,type:s,key:c,ref:r!==void 0?r:null,props:o}}return Sl.Fragment=t,Sl.jsx=n,Sl.jsxs=n,Sl}var gp;function zx(){return gp||(gp=1,jf.exports=Ix()),jf.exports}var T=zx(),kf={exports:{}},yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function jx(){if(mp)return yt;mp=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),p=Symbol.iterator;function y(w){return w===null||typeof w!="object"?null:(w=p&&w[p]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function b(w,Y,U){this.props=w,this.context=Y,this.refs=R,this.updater=U||x}b.prototype.isReactComponent={},b.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},b.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function C(){}C.prototype=b.prototype;function M(w,Y,U){this.props=w,this.context=Y,this.refs=R,this.updater=U||x}var z=M.prototype=new C;z.constructor=M,E(z,b.prototype),z.isPureReactComponent=!0;var D=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function W(w,Y,U,tt,rt,ht){return U=ht.ref,{$$typeof:a,type:w,key:Y,ref:U!==void 0?U:null,props:ht}}function B(w,Y){return W(w.type,Y,void 0,void 0,void 0,w.props)}function Z(w){return typeof w=="object"&&w!==null&&w.$$typeof===a}function $(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(U){return Y[U]})}var nt=/\/+/g;function et(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?$(""+w.key):Y.toString(36)}function it(){}function st(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(it,it):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function lt(w,Y,U,tt,rt){var ht=typeof w;(ht==="undefined"||ht==="boolean")&&(w=null);var ut=!1;if(w===null)ut=!0;else switch(ht){case"bigint":case"string":case"number":ut=!0;break;case"object":switch(w.$$typeof){case a:case t:ut=!0;break;case _:return ut=w._init,lt(ut(w._payload),Y,U,tt,rt)}}if(ut)return rt=rt(w),ut=tt===""?"."+et(w,0):tt,D(rt)?(U="",ut!=null&&(U=ut.replace(nt,"$&/")+"/"),lt(rt,Y,U,"",function(re){return re})):rt!=null&&(Z(rt)&&(rt=B(rt,U+(rt.key==null||w&&w.key===rt.key?"":(""+rt.key).replace(nt,"$&/")+"/")+ut)),Y.push(rt)),1;ut=0;var jt=tt===""?".":tt+":";if(D(w))for(var wt=0;wt<w.length;wt++)tt=w[wt],ht=jt+et(tt,wt),ut+=lt(tt,Y,U,ht,rt);else if(wt=y(w),typeof wt=="function")for(w=wt.call(w),wt=0;!(tt=w.next()).done;)tt=tt.value,ht=jt+et(tt,wt++),ut+=lt(tt,Y,U,ht,rt);else if(ht==="object"){if(typeof w.then=="function")return lt(st(w),Y,U,tt,rt);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ut}function N(w,Y,U){if(w==null)return w;var tt=[],rt=0;return lt(w,tt,"","",function(ht){return Y.call(U,ht,rt++)}),tt}function q(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(U){(w._status===0||w._status===-1)&&(w._status=1,w._result=U)},function(U){(w._status===0||w._status===-1)&&(w._status=2,w._result=U)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function at(){}return yt.Children={map:N,forEach:function(w,Y,U){N(w,function(){Y.apply(this,arguments)},U)},count:function(w){var Y=0;return N(w,function(){Y++}),Y},toArray:function(w){return N(w,function(Y){return Y})||[]},only:function(w){if(!Z(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},yt.Component=b,yt.Fragment=n,yt.Profiler=r,yt.PureComponent=M,yt.StrictMode=s,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,yt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return O.H.useMemoCache(w)}},yt.cache=function(w){return function(){return w.apply(null,arguments)}},yt.cloneElement=function(w,Y,U){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var tt=E({},w.props),rt=w.key,ht=void 0;if(Y!=null)for(ut in Y.ref!==void 0&&(ht=void 0),Y.key!==void 0&&(rt=""+Y.key),Y)!H.call(Y,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&Y.ref===void 0||(tt[ut]=Y[ut]);var ut=arguments.length-2;if(ut===1)tt.children=U;else if(1<ut){for(var jt=Array(ut),wt=0;wt<ut;wt++)jt[wt]=arguments[wt+2];tt.children=jt}return W(w.type,rt,void 0,void 0,ht,tt)},yt.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},yt.createElement=function(w,Y,U){var tt,rt={},ht=null;if(Y!=null)for(tt in Y.key!==void 0&&(ht=""+Y.key),Y)H.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(rt[tt]=Y[tt]);var ut=arguments.length-2;if(ut===1)rt.children=U;else if(1<ut){for(var jt=Array(ut),wt=0;wt<ut;wt++)jt[wt]=arguments[wt+2];rt.children=jt}if(w&&w.defaultProps)for(tt in ut=w.defaultProps,ut)rt[tt]===void 0&&(rt[tt]=ut[tt]);return W(w,ht,void 0,void 0,null,rt)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(w){return{$$typeof:h,render:w}},yt.isValidElement=Z,yt.lazy=function(w){return{$$typeof:_,_payload:{_status:-1,_result:w},_init:q}},yt.memo=function(w,Y){return{$$typeof:g,type:w,compare:Y===void 0?null:Y}},yt.startTransition=function(w){var Y=O.T,U={};O.T=U;try{var tt=w(),rt=O.S;rt!==null&&rt(U,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(at,J)}catch(ht){J(ht)}finally{O.T=Y}},yt.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},yt.use=function(w){return O.H.use(w)},yt.useActionState=function(w,Y,U){return O.H.useActionState(w,Y,U)},yt.useCallback=function(w,Y){return O.H.useCallback(w,Y)},yt.useContext=function(w){return O.H.useContext(w)},yt.useDebugValue=function(){},yt.useDeferredValue=function(w,Y){return O.H.useDeferredValue(w,Y)},yt.useEffect=function(w,Y,U){var tt=O.H;if(typeof U=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(w,Y)},yt.useId=function(){return O.H.useId()},yt.useImperativeHandle=function(w,Y,U){return O.H.useImperativeHandle(w,Y,U)},yt.useInsertionEffect=function(w,Y){return O.H.useInsertionEffect(w,Y)},yt.useLayoutEffect=function(w,Y){return O.H.useLayoutEffect(w,Y)},yt.useMemo=function(w,Y){return O.H.useMemo(w,Y)},yt.useOptimistic=function(w,Y){return O.H.useOptimistic(w,Y)},yt.useReducer=function(w,Y,U){return O.H.useReducer(w,Y,U)},yt.useRef=function(w){return O.H.useRef(w)},yt.useState=function(w){return O.H.useState(w)},yt.useSyncExternalStore=function(w,Y,U){return O.H.useSyncExternalStore(w,Y,U)},yt.useTransition=function(){return O.H.useTransition()},yt.version="19.1.1",yt}var _p;function Pd(){return _p||(_p=1,kf.exports=jx()),kf.exports}var j=Pd();const ta=Nx(j);var Pf={exports:{}},Tl={},Uf={exports:{}},Gf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function kx(){return pp||(pp=1,(function(a){function t(N,q){var J=N.length;N.push(q);t:for(;0<J;){var at=J-1>>>1,w=N[at];if(0<r(w,q))N[at]=q,N[J]=w,J=at;else break t}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var q=N[0],J=N.pop();if(J!==q){N[0]=J;t:for(var at=0,w=N.length,Y=w>>>1;at<Y;){var U=2*(at+1)-1,tt=N[U],rt=U+1,ht=N[rt];if(0>r(tt,J))rt<w&&0>r(ht,tt)?(N[at]=ht,N[rt]=J,at=rt):(N[at]=tt,N[U]=J,at=U);else if(rt<w&&0>r(ht,J))N[at]=ht,N[rt]=J,at=rt;else break t}}return q}function r(N,q){var J=N.sortIndex-q.sortIndex;return J!==0?J:N.id-q.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;a.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();a.unstable_now=function(){return c.now()-h}}var f=[],g=[],_=1,p=null,y=3,x=!1,E=!1,R=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function D(N){for(var q=n(g);q!==null;){if(q.callback===null)s(g);else if(q.startTime<=N)s(g),q.sortIndex=q.expirationTime,t(f,q);else break;q=n(g)}}function O(N){if(R=!1,D(N),!E)if(n(f)!==null)E=!0,H||(H=!0,et());else{var q=n(g);q!==null&&lt(O,q.startTime-N)}}var H=!1,W=-1,B=5,Z=-1;function $(){return b?!0:!(a.unstable_now()-Z<B)}function nt(){if(b=!1,H){var N=a.unstable_now();Z=N;var q=!0;try{t:{E=!1,R&&(R=!1,M(W),W=-1),x=!0;var J=y;try{e:{for(D(N),p=n(f);p!==null&&!(p.expirationTime>N&&$());){var at=p.callback;if(typeof at=="function"){p.callback=null,y=p.priorityLevel;var w=at(p.expirationTime<=N);if(N=a.unstable_now(),typeof w=="function"){p.callback=w,D(N),q=!0;break e}p===n(f)&&s(f),D(N)}else s(f);p=n(f)}if(p!==null)q=!0;else{var Y=n(g);Y!==null&&lt(O,Y.startTime-N),q=!1}}break t}finally{p=null,y=J,x=!1}q=void 0}}finally{q?et():H=!1}}}var et;if(typeof z=="function")et=function(){z(nt)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,st=it.port2;it.port1.onmessage=nt,et=function(){st.postMessage(null)}}else et=function(){C(nt,0)};function lt(N,q){W=C(function(){N(a.unstable_now())},q)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return y},a.unstable_next=function(N){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var J=y;y=q;try{return N()}finally{y=J}},a.unstable_requestPaint=function(){b=!0},a.unstable_runWithPriority=function(N,q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=y;y=N;try{return q()}finally{y=J}},a.unstable_scheduleCallback=function(N,q,J){var at=a.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?at+J:at):J=at,N){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=J+w,N={id:_++,callback:q,priorityLevel:N,startTime:J,expirationTime:w,sortIndex:-1},J>at?(N.sortIndex=J,t(g,N),n(f)===null&&N===n(g)&&(R?(M(W),W=-1):R=!0,lt(O,J-at))):(N.sortIndex=w,t(f,N),E||x||(E=!0,H||(H=!0,et()))),N},a.unstable_shouldYield=$,a.unstable_wrapCallback=function(N){var q=y;return function(){var J=y;y=q;try{return N.apply(this,arguments)}finally{y=J}}}})(Gf)),Gf}var yp;function Px(){return yp||(yp=1,Uf.exports=kx()),Uf.exports}var Ff={exports:{}},Le={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Ux(){if(vp)return Le;vp=1;var a=Pd();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(f,g,_){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:f,containerInfo:g,implementation:_}}var c=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Le.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Le.createPortal=function(f,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,_)},Le.flushSync=function(f){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,f)return f()}finally{c.T=g,s.p=_,s.d.f()}},Le.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(f,g))},Le.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},Le.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var _=g.as,p=h(_,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):_==="script"&&s.d.X(f,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Le.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=h(g.as,g.crossOrigin);s.d.M(f,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(f)},Le.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,p=h(_,g.crossOrigin);s.d.L(f,_,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Le.preloadModule=function(f,g){if(typeof f=="string")if(g){var _=h(g.as,g.crossOrigin);s.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(f)},Le.requestFormReset=function(f){s.d.r(f)},Le.unstable_batchedUpdates=function(f,g){return f(g)},Le.useFormState=function(f,g,_){return c.H.useFormState(f,g,_)},Le.useFormStatus=function(){return c.H.useHostTransitionStatus()},Le.version="19.1.1",Le}var xp;function Gx(){if(xp)return Ff.exports;xp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Ff.exports=Ux(),Ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Fx(){if(Ep)return Tl;Ep=1;var a=Px(),t=Pd(),n=Gx();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function c(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(o(e)!==e)throw Error(s(188))}function f(e){var i=e.alternate;if(!i){if(i=o(e),i===null)throw Error(s(188));return i!==e?null:e}for(var l=e,u=i;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return h(d),e;if(m===u)return h(d),i;m=m.sibling}throw Error(s(188))}if(l.return!==u.return)l=d,u=m;else{for(var v=!1,S=d.child;S;){if(S===l){v=!0,l=d,u=m;break}if(S===u){v=!0,u=d,l=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===l){v=!0,l=m,u=d;break}if(S===u){v=!0,u=m,l=d;break}S=S.sibling}if(!v)throw Error(s(189))}}if(l.alternate!==u)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var _=Object.assign,p=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),z=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function et(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var it=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===it?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case b:return"Profiler";case R:return"StrictMode";case O:return"Suspense";case H:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case z:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case D:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return i=e.displayName||null,i!==null?i:st(e.type)||"Memo";case B:i=e._payload,e=e._init;try{return st(e(i))}catch{}}return null}var lt=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},at=[],w=-1;function Y(e){return{current:e}}function U(e){0>w||(e.current=at[w],at[w]=null,w--)}function tt(e,i){w++,at[w]=e.current,e.current=i}var rt=Y(null),ht=Y(null),ut=Y(null),jt=Y(null);function wt(e,i){switch(tt(ut,i),tt(ht,e),tt(rt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?F_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=F_(i),e=B_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(rt),tt(rt,e)}function re(){U(rt),U(ht),U(ut)}function Ee(e){e.memoizedState!==null&&tt(jt,e);var i=rt.current,l=B_(i,e.type);i!==l&&(tt(ht,e),tt(rt,l))}function ei(e){ht.current===e&&(U(rt),U(ht)),jt.current===e&&(U(jt),pl._currentValue=J)}var Cs=Object.prototype.hasOwnProperty,ni=a.unstable_scheduleCallback,bn=a.unstable_cancelCallback,Ue=a.unstable_shouldYield,cn=a.unstable_requestPaint,Se=a.unstable_now,ji=a.unstable_getCurrentPriorityLevel,ki=a.unstable_ImmediatePriority,Pn=a.unstable_UserBlockingPriority,Cn=a.unstable_NormalPriority,Pi=a.unstable_LowPriority,ie=a.unstable_IdlePriority,Rr=a.log,br=a.unstable_setDisableYieldValue,Un=null,de=null;function Gn(e){if(typeof Rr=="function"&&br(e),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(Un,e)}catch{}}var we=Math.clz32?Math.clz32:bc,uo=Math.log,Cr=Math.LN2;function bc(e){return e>>>=0,e===0?32:31-(uo(e)/Cr|0)|0}var ua=256,ws=4194304;function Fn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ui(e,i,l){var u=e.pendingLanes;if(u===0)return 0;var d=0,m=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var S=u&134217727;return S!==0?(u=S&~m,u!==0?d=Fn(u):(v&=S,v!==0?d=Fn(v):l||(l=S&~e,l!==0&&(d=Fn(l))))):(S=u&~m,S!==0?d=Fn(S):v!==0?d=Fn(v):l||(l=u&~e,l!==0&&(d=Fn(l)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,l=i&-i,m>=l||m===32&&(l&4194048)!==0)?i:d}function Gi(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Cc(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ca(){var e=ua;return ua<<=1,(ua&4194048)===0&&(ua=256),e}function Fi(){var e=ws;return ws<<=1,(ws&62914560)===0&&(ws=4194304),e}function ii(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function wn(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function co(e,i,l,u,d,m){var v=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var S=e.entanglements,A=e.expirationTimes,P=e.hiddenUpdates;for(l=v&~l;0<l;){var X=31-we(l),Q=1<<X;S[X]=0,A[X]=-1;var G=P[X];if(G!==null)for(P[X]=null,X=0;X<G.length;X++){var F=G[X];F!==null&&(F.lane&=-536870913)}l&=~Q}u!==0&&wr(e,u,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(v&~i))}function wr(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var u=31-we(i);e.entangledLanes|=i,e.entanglements[u]=e.entanglements[u]|1073741824|l&4194090}function ze(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var u=31-we(l),d=1<<u;d&i|e[u]&i&&(e[u]|=i),l&=~d}}function An(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Je(){var e=q.p;return e!==0?e:(e=window.event,e===void 0?32:lp(e.type))}function Ge(e,i){var l=q.p;try{return q.p=e,i()}finally{q.p=l}}var ge=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ge,Rt="__reactProps$"+ge,Jt="__reactContainer$"+ge,tn="__reactEvents$"+ge,wc="__reactListeners$"+ge,R2="__reactHandles$"+ge,Mg="__reactResources$"+ge,Ar="__reactMarker$"+ge;function Ac(e){delete e[Ht],delete e[Rt],delete e[tn],delete e[wc],delete e[R2]}function ha(e){var i=e[Ht];if(i)return i;for(var l=e.parentNode;l;){if(i=l[Jt]||l[Ht]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=H_(e);e!==null;){if(l=e[Ht])return l;e=H_(e)}return i}e=l,l=e.parentNode}return null}function fa(e){if(e=e[Ht]||e[Jt]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Mr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function da(e){var i=e[Mg];return i||(i=e[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function me(e){e[Ar]=!0}var Lg=new Set,Og={};function As(e,i){ga(e,i),ga(e+"Capture",i)}function ga(e,i){for(Og[e]=i,e=0;e<i.length;e++)Lg.add(i[e])}var b2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dg={},Ng={};function C2(e){return Cs.call(Ng,e)?!0:Cs.call(Dg,e)?!1:b2.test(e)?Ng[e]=!0:(Dg[e]=!0,!1)}function ho(e,i,l){if(C2(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function fo(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function si(e,i,l,u){if(u===null)e.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+u)}}var Mc,Ig;function ma(e){if(Mc===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Mc=i&&i[1]||"",Ig=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mc+e+Ig}var Lc=!1;function Oc(e,i){if(!e||Lc)return"";Lc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(F){var G=F}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(F){G=F}e.call(Q.prototype)}}else{try{throw Error()}catch(F){G=F}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var A=v.split(`
`),P=S.split(`
`);for(d=u=0;u<A.length&&!A[u].includes("DetermineComponentFrameRoot");)u++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(u===A.length||d===P.length)for(u=A.length-1,d=P.length-1;1<=u&&0<=d&&A[u]!==P[d];)d--;for(;1<=u&&0<=d;u--,d--)if(A[u]!==P[d]){if(u!==1||d!==1)do if(u--,d--,0>d||A[u]!==P[d]){var X=`
`+A[u].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=u&&0<=d);break}}}finally{Lc=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ma(l):""}function w2(e){switch(e.tag){case 26:case 27:case 5:return ma(e.type);case 16:return ma("Lazy");case 13:return ma("Suspense");case 19:return ma("SuspenseList");case 0:case 15:return Oc(e.type,!1);case 11:return Oc(e.type.render,!1);case 1:return Oc(e.type,!0);case 31:return ma("Activity");default:return""}}function zg(e){try{var i="";do i+=w2(e),e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jg(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function A2(e){var i=jg(e)?"checked":"value",l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),u=""+e[i];if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,m.call(this,v)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function go(e){e._valueTracker||(e._valueTracker=A2(e))}function kg(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),u="";return e&&(u=jg(e)?e.checked?"true":"false":e.value),e=u,e!==l?(i.setValue(e),!0):!1}function mo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var M2=/[\n"\\]/g;function fn(e){return e.replace(M2,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dc(e,i,l,u,d,m,v,S){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+hn(i)):e.value!==""+hn(i)&&(e.value=""+hn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Nc(e,v,hn(i)):l!=null?Nc(e,v,hn(l)):u!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+hn(S):e.removeAttribute("name")}function Pg(e,i,l,u,d,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;l=l!=null?""+hn(l):"",i=i!=null?""+hn(i):l,S||i===e.value||(e.value=i),e.defaultValue=i}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=S?e.checked:!!u,e.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Nc(e,i,l){i==="number"&&mo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function _a(e,i,l,u){if(e=e.options,i){i={};for(var d=0;d<l.length;d++)i["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=i.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&u&&(e[l].defaultSelected=!0)}else{for(l=""+hn(l),i=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,u&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function Ug(e,i,l){if(i!=null&&(i=""+hn(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+hn(l):""}function Gg(e,i,l,u){if(i==null){if(u!=null){if(l!=null)throw Error(s(92));if(lt(u)){if(1<u.length)throw Error(s(93));u=u[0]}l=u}l==null&&(l=""),i=l}l=hn(i),e.defaultValue=l,u=e.textContent,u===l&&u!==""&&u!==null&&(e.value=u)}function pa(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var L2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fg(e,i,l){var u=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":u?e.setProperty(i,l):typeof l!="number"||l===0||L2.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Bg(e,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var d in i)u=i[d],i.hasOwnProperty(d)&&l[d]!==u&&Fg(e,d,u)}else for(var m in i)i.hasOwnProperty(m)&&Fg(e,m,i[m])}function Ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),D2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _o(e){return D2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var zc=null;function jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,va=null;function Zg(e){var i=fa(e);if(i&&(e=i.stateNode)){var l=e[Rt]||null;t:switch(e=i.stateNode,i.type){case"input":if(Dc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var u=l[i];if(u!==e&&u.form===e.form){var d=u[Rt]||null;if(!d)throw Error(s(90));Dc(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<l.length;i++)u=l[i],u.form===e.form&&kg(u)}break t;case"textarea":Ug(e,l.value,l.defaultValue);break t;case"select":i=l.value,i!=null&&_a(e,!!l.multiple,i,!1)}}}var kc=!1;function Yg(e,i,l){if(kc)return e(i,l);kc=!0;try{var u=e(i);return u}finally{if(kc=!1,(ya!==null||va!==null)&&(eu(),ya&&(i=ya,e=va,va=ya=null,Zg(i),e)))for(i=0;i<e.length;i++)Zg(e[i])}}function Lr(e,i){var l=e.stateNode;if(l===null)return null;var u=l[Rt]||null;if(u===null)return null;l=u[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break t;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pc=!1;if(ai)try{var Or={};Object.defineProperty(Or,"passive",{get:function(){Pc=!0}}),window.addEventListener("test",Or,Or),window.removeEventListener("test",Or,Or)}catch{Pc=!1}var Bi=null,Uc=null,po=null;function Xg(){if(po)return po;var e,i=Uc,l=i.length,u,d="value"in Bi?Bi.value:Bi.textContent,m=d.length;for(e=0;e<l&&i[e]===d[e];e++);var v=l-e;for(u=1;u<=v&&i[l-u]===d[m-u];u++);return po=d.slice(e,1<u?1-u:void 0)}function yo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function vo(){return!0}function Hg(){return!1}function Fe(e){function i(l,u,d,m,v){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(l=e[S],this[S]=l?l(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vo:Hg,this.isPropagationStopped=Hg,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),i}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=Fe(Ms),Dr=_({},Ms,{view:0,detail:0}),N2=Fe(Dr),Gc,Fc,Nr,Eo=_({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Nr&&(Nr&&e.type==="mousemove"?(Gc=e.screenX-Nr.screenX,Fc=e.screenY-Nr.screenY):Fc=Gc=0,Nr=e),Gc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),Kg=Fe(Eo),I2=_({},Eo,{dataTransfer:0}),z2=Fe(I2),j2=_({},Dr,{relatedTarget:0}),Bc=Fe(j2),k2=_({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),P2=Fe(k2),U2=_({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G2=Fe(U2),F2=_({},Ms,{data:0}),Vg=Fe(F2),B2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X2(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Y2[e])?!!i[e]:!1}function Zc(){return X2}var H2=_({},Dr,{key:function(e){if(e.key){var i=B2[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Z2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(e){return e.type==="keypress"?yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),K2=Fe(H2),V2=_({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qg=Fe(V2),q2=_({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),W2=Fe(q2),Q2=_({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=Fe(Q2),J2=_({},Eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=Fe(J2),ev=_({},Ms,{newState:0,oldState:0}),nv=Fe(ev),iv=[9,13,27,32],Yc=ai&&"CompositionEvent"in window,Ir=null;ai&&"documentMode"in document&&(Ir=document.documentMode);var sv=ai&&"TextEvent"in window&&!Ir,Wg=ai&&(!Yc||Ir&&8<Ir&&11>=Ir),Qg=" ",$g=!1;function Jg(e,i){switch(e){case"keyup":return iv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function av(e,i){switch(e){case"compositionend":return t0(i);case"keypress":return i.which!==32?null:($g=!0,Qg);case"textInput":return e=i.data,e===Qg&&$g?null:e;default:return null}}function rv(e,i){if(xa)return e==="compositionend"||!Yc&&Jg(e,i)?(e=Xg(),po=Uc=Bi=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wg&&i.locale!=="ko"?null:i.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e0(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!lv[e.type]:i==="textarea"}function n0(e,i,l,u){ya?va?va.push(u):va=[u]:ya=u,i=lu(i,"onChange"),0<i.length&&(l=new xo("onChange","change",null,l,u),e.push({event:l,listeners:i}))}var zr=null,jr=null;function ov(e){j_(e,0)}function So(e){var i=Mr(e);if(kg(i))return e}function i0(e,i){if(e==="change")return i}var s0=!1;if(ai){var Xc;if(ai){var Hc="oninput"in document;if(!Hc){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Hc=typeof a0.oninput=="function"}Xc=Hc}else Xc=!1;s0=Xc&&(!document.documentMode||9<document.documentMode)}function r0(){zr&&(zr.detachEvent("onpropertychange",l0),jr=zr=null)}function l0(e){if(e.propertyName==="value"&&So(jr)){var i=[];n0(i,jr,e,jc(e)),Yg(ov,i)}}function uv(e,i,l){e==="focusin"?(r0(),zr=i,jr=l,zr.attachEvent("onpropertychange",l0)):e==="focusout"&&r0()}function cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return So(jr)}function hv(e,i){if(e==="click")return So(i)}function fv(e,i){if(e==="input"||e==="change")return So(i)}function dv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var en=typeof Object.is=="function"?Object.is:dv;function kr(e,i){if(en(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),u=Object.keys(i);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!Cs.call(i,d)||!en(e[d],i[d]))return!1}return!0}function o0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u0(e,i){var l=o0(e);e=0;for(var u;l;){if(l.nodeType===3){if(u=e+l.textContent.length,e<=i&&u>=i)return{node:l,offset:i-e};e=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=o0(l)}}function c0(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?c0(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function h0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=mo(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=mo(e.document)}return i}function Kc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var gv=ai&&"documentMode"in document&&11>=document.documentMode,Ea=null,Vc=null,Pr=null,qc=!1;function f0(e,i,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qc||Ea==null||Ea!==mo(u)||(u=Ea,"selectionStart"in u&&Kc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Pr&&kr(Pr,u)||(Pr=u,u=lu(Vc,"onSelect"),0<u.length&&(i=new xo("onSelect","select",null,i,l),e.push({event:i,listeners:u}),i.target=Ea)))}function Ls(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Sa={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionrun:Ls("Transition","TransitionRun"),transitionstart:Ls("Transition","TransitionStart"),transitioncancel:Ls("Transition","TransitionCancel"),transitionend:Ls("Transition","TransitionEnd")},Wc={},d0={};ai&&(d0=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Os(e){if(Wc[e])return Wc[e];if(!Sa[e])return e;var i=Sa[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in d0)return Wc[e]=i[l];return e}var g0=Os("animationend"),m0=Os("animationiteration"),_0=Os("animationstart"),mv=Os("transitionrun"),_v=Os("transitionstart"),pv=Os("transitioncancel"),p0=Os("transitionend"),y0=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function Mn(e,i){y0.set(e,i),As(i,[e])}var v0=new WeakMap;function dn(e,i){if(typeof e=="object"&&e!==null){var l=v0.get(e);return l!==void 0?l:(i={value:e,source:i,stack:zg(i)},v0.set(e,i),i)}return{value:e,source:i,stack:zg(i)}}var gn=[],Ta=0,$c=0;function To(){for(var e=Ta,i=$c=Ta=0;i<e;){var l=gn[i];gn[i++]=null;var u=gn[i];gn[i++]=null;var d=gn[i];gn[i++]=null;var m=gn[i];if(gn[i++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}m!==0&&x0(l,d,m)}}function Ro(e,i,l,u){gn[Ta++]=e,gn[Ta++]=i,gn[Ta++]=l,gn[Ta++]=u,$c|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Jc(e,i,l,u){return Ro(e,i,l,u),bo(e)}function Ra(e,i){return Ro(e,null,null,i),bo(e)}function x0(e,i,l){e.lanes|=l;var u=e.alternate;u!==null&&(u.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,u=m.alternate,u!==null&&(u.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&i!==null&&(d=31-we(l),e=m.hiddenUpdates,u=e[d],u===null?e[d]=[i]:u.push(i),i.lane=l|536870912),m):null}function bo(e){if(50<ul)throw ul=0,rf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={};function yv(e,i,l,u){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,i,l,u){return new yv(e,i,l,u)}function th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ri(e,i){var l=e.alternate;return l===null?(l=nn(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function E0(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Co(e,i,l,u,d,m){var v=0;if(u=e,typeof e=="function")th(e)&&(v=1);else if(typeof e=="string")v=xx(e,l,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Z:return e=nn(31,l,i,d),e.elementType=Z,e.lanes=m,e;case E:return Ds(l.children,d,m,i);case R:v=8,d|=24;break;case b:return e=nn(12,l,i,d|2),e.elementType=b,e.lanes=m,e;case O:return e=nn(13,l,i,d),e.elementType=O,e.lanes=m,e;case H:return e=nn(19,l,i,d),e.elementType=H,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:case z:v=10;break t;case M:v=9;break t;case D:v=11;break t;case W:v=14;break t;case B:v=16,u=null;break t}v=29,l=Error(s(130,e===null?"null":typeof e,"")),u=null}return i=nn(v,l,i,d),i.elementType=e,i.type=u,i.lanes=m,i}function Ds(e,i,l,u){return e=nn(7,e,u,i),e.lanes=l,e}function eh(e,i,l){return e=nn(6,e,null,i),e.lanes=l,e}function nh(e,i,l){return i=nn(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ca=[],wa=0,wo=null,Ao=0,mn=[],_n=0,Ns=null,li=1,oi="";function Is(e,i){Ca[wa++]=Ao,Ca[wa++]=wo,wo=e,Ao=i}function S0(e,i,l){mn[_n++]=li,mn[_n++]=oi,mn[_n++]=Ns,Ns=e;var u=li;e=oi;var d=32-we(u)-1;u&=~(1<<d),l+=1;var m=32-we(i)+d;if(30<m){var v=d-d%5;m=(u&(1<<v)-1).toString(32),u>>=v,d-=v,li=1<<32-we(i)+d|l<<d|u,oi=m+e}else li=1<<m|l<<d|u,oi=e}function ih(e){e.return!==null&&(Is(e,1),S0(e,1,0))}function sh(e){for(;e===wo;)wo=Ca[--wa],Ca[wa]=null,Ao=Ca[--wa],Ca[wa]=null;for(;e===Ns;)Ns=mn[--_n],mn[_n]=null,oi=mn[--_n],mn[_n]=null,li=mn[--_n],mn[_n]=null}var je=null,te=null,It=!1,zs=null,Bn=!1,ah=Error(s(519));function js(e){var i=Error(s(418,""));throw Fr(dn(i,e)),ah}function T0(e){var i=e.stateNode,l=e.type,u=e.memoizedProps;switch(i[Ht]=e,i[Rt]=u,l){case"dialog":Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":case"embed":Ct("load",i);break;case"video":case"audio":for(l=0;l<hl.length;l++)Ct(hl[l],i);break;case"source":Ct("error",i);break;case"img":case"image":case"link":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"input":Ct("invalid",i),Pg(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),go(i);break;case"select":Ct("invalid",i);break;case"textarea":Ct("invalid",i),Gg(i,u.value,u.defaultValue,u.children),go(i)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||u.suppressHydrationWarning===!0||G_(i.textContent,l)?(u.popover!=null&&(Ct("beforetoggle",i),Ct("toggle",i)),u.onScroll!=null&&Ct("scroll",i),u.onScrollEnd!=null&&Ct("scrollend",i),u.onClick!=null&&(i.onclick=ou),i=!0):i=!1,i||js(e)}function R0(e){for(je=e.return;je;)switch(je.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:je=je.return}}function Ur(e){if(e!==je)return!1;if(!It)return R0(e),It=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Sf(e.type,e.memoizedProps)),l=!l),l&&te&&js(e),R0(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(l=e.data,l==="/$"){if(i===0){te=On(e.nextSibling);break t}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;e=e.nextSibling}te=null}}else i===27?(i=te,ss(e.type)?(e=Cf,Cf=null,te=e):te=i):te=je?On(e.stateNode.nextSibling):null;return!0}function Gr(){te=je=null,It=!1}function b0(){var e=zs;return e!==null&&(Ye===null?Ye=e:Ye.push.apply(Ye,e),zs=null),e}function Fr(e){zs===null?zs=[e]:zs.push(e)}var rh=Y(null),ks=null,ui=null;function Zi(e,i,l){tt(rh,i._currentValue),i._currentValue=l}function ci(e){e._currentValue=rh.current,U(rh)}function lh(e,i,l){for(;e!==null;){var u=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),e===l)break;e=e.return}}function oh(e,i,l,u){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=d;for(var A=0;A<i.length;A++)if(S.context===i[A]){m.lanes|=l,S=m.alternate,S!==null&&(S.lanes|=l),lh(m.return,l,e),u||(v=null);break t}m=S.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(s(341));v.lanes|=l,m=v.alternate,m!==null&&(m.lanes|=l),lh(v,l,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Br(e,i,l,u){e=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=d.type;en(d.pendingProps.value,v.value)||(e!==null?e.push(S):e=[S])}}else if(d===jt.current){if(v=d.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}d=d.return}e!==null&&oh(i,e,l,u),i.flags|=262144}function Mo(e){for(e=e.firstContext;e!==null;){if(!en(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){ks=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Me(e){return C0(ks,e)}function Lo(e,i){return ks===null&&Ps(e),C0(e,i)}function C0(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},ui===null){if(e===null)throw Error(s(308));ui=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ui=ui.next=i;return l}var vv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,u){e.push(u)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},xv=a.unstable_scheduleCallback,Ev=a.unstable_NormalPriority,ue={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new vv,data:new Map,refCount:0}}function Zr(e){e.refCount--,e.refCount===0&&xv(Ev,function(){e.controller.abort()})}var Yr=null,ch=0,Aa=0,Ma=null;function Sv(e,i){if(Yr===null){var l=Yr=[];ch=0,Aa=df(),Ma={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ch++,i.then(w0,w0),i}function w0(){if(--ch===0&&Yr!==null){Ma!==null&&(Ma.status="fulfilled");var e=Yr;Yr=null,Aa=0,Ma=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Tv(e,i){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){u.status="fulfilled",u.value=i;for(var d=0;d<l.length;d++)(0,l[d])(i)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var A0=N.S;N.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sv(e,i),A0!==null&&A0(e,i)};var Us=Y(null);function hh(){var e=Us.current;return e!==null?e:Kt.pooledCache}function Oo(e,i){i===null?tt(Us,Us.current):tt(Us,i.pool)}function M0(){var e=hh();return e===null?null:{parent:ue._currentValue,pool:e}}var Xr=Error(s(460)),L0=Error(s(474)),Do=Error(s(542)),fh={then:function(){}};function O0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function No(){}function D0(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(No,No),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,I0(e),e;default:if(typeof i.status=="string")i.then(No,No);else{if(e=Kt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(u){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=u}},function(u){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,I0(e),e}throw Hr=i,Xr}}var Hr=null;function N0(){if(Hr===null)throw Error(s(459));var e=Hr;return Hr=null,e}function I0(e){if(e===Xr||e===Do)throw Error(s(483))}var Yi=!1;function dh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hi(e,i,l){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(Pt&2)!==0){var d=u.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),u.pending=i,i=bo(e),x0(e,null,l),i}return Ro(e,u,i,l),bo(e)}function Kr(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,ze(e,l)}}function mh(e,i){var l=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,l=l.next}while(l!==null);m===null?d=m=i:m=m.next=i}else d=m=i;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var _h=!1;function Vr(){if(_h){var e=Ma;if(e!==null)throw e}}function qr(e,i,l,u){_h=!1;var d=e.updateQueue;Yi=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,P=A.next;A.next=null,v===null?m=P:v.next=P,v=A;var X=e.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=P:S.next=P,X.lastBaseUpdate=A))}if(m!==null){var Q=d.baseState;v=0,X=P=A=null,S=m;do{var G=S.lane&-536870913,F=G!==S.lane;if(F?(Mt&G)===G:(u&G)===G){G!==0&&G===Aa&&(_h=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var _t=e,gt=S;G=i;var Yt=l;switch(gt.tag){case 1:if(_t=gt.payload,typeof _t=="function"){Q=_t.call(Yt,Q,G);break t}Q=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=gt.payload,G=typeof _t=="function"?_t.call(Yt,Q,G):_t,G==null)break t;Q=_({},Q,G);break t;case 2:Yi=!0}}G=S.callback,G!==null&&(e.flags|=64,F&&(e.flags|=8192),F=d.callbacks,F===null?d.callbacks=[G]:F.push(G))}else F={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(P=X=F,A=Q):X=X.next=F,v|=G;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;F=S,S=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);X===null&&(A=Q),d.baseState=A,d.firstBaseUpdate=P,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),ts|=v,e.lanes=v,e.memoizedState=Q}}function z0(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function j0(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)z0(l[e],i)}var La=Y(null),Io=Y(0);function k0(e,i){e=pi,tt(Io,e),tt(La,i),pi=e|i.baseLanes}function ph(){tt(Io,pi),tt(La,La.current)}function yh(){pi=Io.current,U(La),U(Io)}var Ki=0,St=null,Bt=null,le=null,zo=!1,Oa=!1,Gs=!1,jo=0,Wr=0,Da=null,Rv=0;function se(){throw Error(s(321))}function vh(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!en(e[l],i[l]))return!1;return!0}function xh(e,i,l,u,d,m){return Ki=m,St=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,N.H=e===null||e.memoizedState===null?xm:Em,Gs=!1,m=l(u,d),Gs=!1,Oa&&(m=U0(i,l,u,d)),P0(e),m}function P0(e){N.H=Bo;var i=Bt!==null&&Bt.next!==null;if(Ki=0,le=Bt=St=null,zo=!1,Wr=0,Da=null,i)throw Error(s(300));e===null||_e||(e=e.dependencies,e!==null&&Mo(e)&&(_e=!0))}function U0(e,i,l,u){St=e;var d=0;do{if(Oa&&(Da=null),Wr=0,Oa=!1,25<=d)throw Error(s(301));if(d+=1,le=Bt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}N.H=Ov,m=i(l,u)}while(Oa);return m}function bv(){var e=N.H,i=e.useState()[0];return i=typeof i.then=="function"?Qr(i):i,e=e.useState()[0],(Bt!==null?Bt.memoizedState:null)!==e&&(St.flags|=1024),i}function Eh(){var e=jo!==0;return jo=0,e}function Sh(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function Th(e){if(zo){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}zo=!1}Ki=0,le=Bt=St=null,Oa=!1,Wr=jo=0,Da=null}function Be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?St.memoizedState=le=e:le=le.next=e,le}function oe(){if(Bt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Bt.next;var i=le===null?St.memoizedState:le.next;if(i!==null)le=i,Bt=e;else{if(e===null)throw St.alternate===null?Error(s(467)):Error(s(310));Bt=e,e={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},le===null?St.memoizedState=le=e:le=le.next=e}return le}function Rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qr(e){var i=Wr;return Wr+=1,Da===null&&(Da=[]),e=D0(Da,e,i),i=St,(le===null?i.memoizedState:le.next)===null&&(i=i.alternate,N.H=i===null||i.memoizedState===null?xm:Em),e}function ko(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qr(e);if(e.$$typeof===z)return Me(e)}throw Error(s(438,String(e)))}function bh(e){var i=null,l=St.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var u=St.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=Rh(),St.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),u=0;u<e;u++)l[u]=$;return i.index++,l}function hi(e,i){return typeof i=="function"?i(e):i}function Po(e){var i=oe();return Ch(i,Bt,e)}function Ch(e,i,l){var u=e.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=l;var d=e.baseQueue,m=u.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}i.baseQueue=d=m,u.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{i=d.next;var S=v=null,A=null,P=i,X=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Mt&Q)===Q:(Ki&Q)===Q){var G=P.revertLane;if(G===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Aa&&(X=!0);else if((Ki&G)===G){P=P.next,G===Aa&&(X=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=Q,v=m):A=A.next=Q,St.lanes|=G,ts|=G;Q=P.action,Gs&&l(m,Q),m=P.hasEagerState?P.eagerState:l(m,Q)}else G={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},A===null?(S=A=G,v=m):A=A.next=G,St.lanes|=Q,ts|=Q;P=P.next}while(P!==null&&P!==i);if(A===null?v=m:A.next=S,!en(m,e.memoizedState)&&(_e=!0,X&&(l=Ma,l!==null)))throw l;e.memoizedState=m,e.baseState=v,e.baseQueue=A,u.lastRenderedState=m}return d===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function wh(e){var i=oe(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var u=l.dispatch,d=l.pending,m=i.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do m=e(m,v.action),v=v.next;while(v!==d);en(m,i.memoizedState)||(_e=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),l.lastRenderedState=m}return[m,u]}function G0(e,i,l){var u=St,d=oe(),m=It;if(m){if(l===void 0)throw Error(s(407));l=l()}else l=i();var v=!en((Bt||d).memoizedState,l);v&&(d.memoizedState=l,_e=!0),d=d.queue;var S=Z0.bind(null,u,d,e);if($r(2048,8,S,[e]),d.getSnapshot!==i||v||le!==null&&le.memoizedState.tag&1){if(u.flags|=2048,Na(9,Uo(),B0.bind(null,u,d,l,i),null),Kt===null)throw Error(s(349));m||(Ki&124)!==0||F0(u,i,l)}return l}function F0(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=St.updateQueue,i===null?(i=Rh(),St.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function B0(e,i,l,u){i.value=l,i.getSnapshot=u,Y0(i)&&X0(e)}function Z0(e,i,l){return l(function(){Y0(i)&&X0(e)})}function Y0(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!en(e,l)}catch{return!0}}function X0(e){var i=Ra(e,2);i!==null&&on(i,e,2)}function Ah(e){var i=Be();if(typeof e=="function"){var l=e;if(e=l(),Gs){Gn(!0);try{l()}finally{Gn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},i}function H0(e,i,l,u){return e.baseState=l,Ch(e,Bt,typeof u=="function"?u:hi)}function Cv(e,i,l,u,d){if(Fo(e))throw Error(s(485));if(e=i.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};N.T!==null?l(!0):m.isTransition=!1,u(m),l=i.pending,l===null?(m.next=i.pending=m,K0(i,m)):(m.next=l.next,i.pending=l.next=m)}}function K0(e,i){var l=i.action,u=i.payload,d=e.state;if(i.isTransition){var m=N.T,v={};N.T=v;try{var S=l(d,u),A=N.S;A!==null&&A(v,S),V0(e,i,S)}catch(P){Mh(e,i,P)}finally{N.T=m}}else try{m=l(d,u),V0(e,i,m)}catch(P){Mh(e,i,P)}}function V0(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){q0(e,i,u)},function(u){return Mh(e,i,u)}):q0(e,i,l)}function q0(e,i,l){i.status="fulfilled",i.value=l,W0(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,K0(e,l)))}function Mh(e,i,l){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=l,W0(i),i=i.next;while(i!==u)}e.action=null}function W0(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Q0(e,i){return i}function $0(e,i){if(It){var l=Kt.formState;if(l!==null){t:{var u=St;if(It){if(te){e:{for(var d=te,m=Bn;d.nodeType!==8;){if(!m){d=null;break e}if(d=On(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){te=On(d.nextSibling),u=d.data==="F!";break t}}js(u)}u=!1}u&&(i=l[0])}}return l=Be(),l.memoizedState=l.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Q0,lastRenderedState:i},l.queue=u,l=pm.bind(null,St,u),u.dispatch=l,u=Ah(!1),m=Ih.bind(null,St,!1,u.queue),u=Be(),d={state:i,dispatch:null,action:e,pending:null},u.queue=d,l=Cv.bind(null,St,d,m,l),d.dispatch=l,u.memoizedState=e,[i,l,!1]}function J0(e){var i=oe();return tm(i,Bt,e)}function tm(e,i,l){if(i=Ch(e,i,Q0)[0],e=Po(hi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Qr(i)}catch(v){throw v===Xr?Do:v}else u=i;i=oe();var d=i.queue,m=d.dispatch;return l!==i.memoizedState&&(St.flags|=2048,Na(9,Uo(),wv.bind(null,d,l),null)),[u,m,e]}function wv(e,i){e.action=i}function em(e){var i=oe(),l=Bt;if(l!==null)return tm(i,l,e);oe(),i=i.memoizedState,l=oe();var u=l.queue.dispatch;return l.memoizedState=e,[i,u,!1]}function Na(e,i,l,u){return e={tag:e,create:l,deps:u,inst:i,next:null},i=St.updateQueue,i===null&&(i=Rh(),St.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(u=l.next,l.next=e,e.next=u,i.lastEffect=e),e}function Uo(){return{destroy:void 0,resource:void 0}}function nm(){return oe().memoizedState}function Go(e,i,l,u){var d=Be();u=u===void 0?null:u,St.flags|=e,d.memoizedState=Na(1|i,Uo(),l,u)}function $r(e,i,l,u){var d=oe();u=u===void 0?null:u;var m=d.memoizedState.inst;Bt!==null&&u!==null&&vh(u,Bt.memoizedState.deps)?d.memoizedState=Na(i,m,l,u):(St.flags|=e,d.memoizedState=Na(1|i,m,l,u))}function im(e,i){Go(8390656,8,e,i)}function sm(e,i){$r(2048,8,e,i)}function am(e,i){return $r(4,2,e,i)}function rm(e,i){return $r(4,4,e,i)}function lm(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function om(e,i,l){l=l!=null?l.concat([e]):null,$r(4,4,lm.bind(null,i,e),l)}function Lh(){}function um(e,i){var l=oe();i=i===void 0?null:i;var u=l.memoizedState;return i!==null&&vh(i,u[1])?u[0]:(l.memoizedState=[e,i],e)}function cm(e,i){var l=oe();i=i===void 0?null:i;var u=l.memoizedState;if(i!==null&&vh(i,u[1]))return u[0];if(u=e(),Gs){Gn(!0);try{e()}finally{Gn(!1)}}return l.memoizedState=[u,i],u}function Oh(e,i,l){return l===void 0||(Ki&1073741824)!==0?e.memoizedState=i:(e.memoizedState=l,e=d_(),St.lanes|=e,ts|=e,l)}function hm(e,i,l,u){return en(l,i)?l:La.current!==null?(e=Oh(e,l,u),en(e,i)||(_e=!0),e):(Ki&42)===0?(_e=!0,e.memoizedState=l):(e=d_(),St.lanes|=e,ts|=e,i)}function fm(e,i,l,u,d){var m=q.p;q.p=m!==0&&8>m?m:8;var v=N.T,S={};N.T=S,Ih(e,!1,i,l);try{var A=d(),P=N.S;if(P!==null&&P(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var X=Tv(A,u);Jr(e,i,X,ln(e))}else Jr(e,i,u,ln(e))}catch(Q){Jr(e,i,{then:function(){},status:"rejected",reason:Q},ln())}finally{q.p=m,N.T=v}}function Av(){}function Dh(e,i,l,u){if(e.tag!==5)throw Error(s(476));var d=dm(e).queue;fm(e,d,i,J,l===null?Av:function(){return gm(e),l(u)})}function dm(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:J},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gm(e){var i=dm(e).next.queue;Jr(e,i,{},ln())}function Nh(){return Me(pl)}function mm(){return oe().memoizedState}function _m(){return oe().memoizedState}function Mv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=ln();e=Xi(l);var u=Hi(i,e,l);u!==null&&(on(u,i,l),Kr(u,i,l)),i={cache:uh()},e.payload=i;return}i=i.return}}function Lv(e,i,l){var u=ln();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Fo(e)?ym(i,l):(l=Jc(e,i,l,u),l!==null&&(on(l,e,u),vm(l,i,u)))}function pm(e,i,l){var u=ln();Jr(e,i,l,u)}function Jr(e,i,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Fo(e))ym(i,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var v=i.lastRenderedState,S=m(v,l);if(d.hasEagerState=!0,d.eagerState=S,en(S,v))return Ro(e,i,d,0),Kt===null&&To(),!1}catch{}finally{}if(l=Jc(e,i,d,u),l!==null)return on(l,e,u),vm(l,i,u),!0}return!1}function Ih(e,i,l,u){if(u={lane:2,revertLane:df(),action:u,hasEagerState:!1,eagerState:null,next:null},Fo(e)){if(i)throw Error(s(479))}else i=Jc(e,l,u,2),i!==null&&on(i,e,2)}function Fo(e){var i=e.alternate;return e===St||i!==null&&i===St}function ym(e,i){Oa=zo=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function vm(e,i,l){if((l&4194048)!==0){var u=i.lanes;u&=e.pendingLanes,l|=u,i.lanes=l,ze(e,l)}}var Bo={readContext:Me,use:ko,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se,useHostTransitionStatus:se,useFormState:se,useActionState:se,useOptimistic:se,useMemoCache:se,useCacheRefresh:se},xm={readContext:Me,use:ko,useCallback:function(e,i){return Be().memoizedState=[e,i===void 0?null:i],e},useContext:Me,useEffect:im,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,Go(4194308,4,lm.bind(null,i,e),l)},useLayoutEffect:function(e,i){return Go(4194308,4,e,i)},useInsertionEffect:function(e,i){Go(4,2,e,i)},useMemo:function(e,i){var l=Be();i=i===void 0?null:i;var u=e();if(Gs){Gn(!0);try{e()}finally{Gn(!1)}}return l.memoizedState=[u,i],u},useReducer:function(e,i,l){var u=Be();if(l!==void 0){var d=l(i);if(Gs){Gn(!0);try{l(i)}finally{Gn(!1)}}}else d=i;return u.memoizedState=u.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},u.queue=e,e=e.dispatch=Lv.bind(null,St,e),[u.memoizedState,e]},useRef:function(e){var i=Be();return e={current:e},i.memoizedState=e},useState:function(e){e=Ah(e);var i=e.queue,l=pm.bind(null,St,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Lh,useDeferredValue:function(e,i){var l=Be();return Oh(l,e,i)},useTransition:function(){var e=Ah(!1);return e=fm.bind(null,St,e.queue,!0,!1),Be().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var u=St,d=Be();if(It){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),Kt===null)throw Error(s(349));(Mt&124)!==0||F0(u,i,l)}d.memoizedState=l;var m={value:l,getSnapshot:i};return d.queue=m,im(Z0.bind(null,u,m,e),[e]),u.flags|=2048,Na(9,Uo(),B0.bind(null,u,m,l,i),null),l},useId:function(){var e=Be(),i=Kt.identifierPrefix;if(It){var l=oi,u=li;l=(u&~(1<<32-we(u)-1)).toString(32)+l,i="«"+i+"R"+l,l=jo++,0<l&&(i+="H"+l.toString(32)),i+="»"}else l=Rv++,i="«"+i+"r"+l.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Nh,useFormState:$0,useActionState:$0,useOptimistic:function(e){var i=Be();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Ih.bind(null,St,!0,l),l.dispatch=i,[e,i]},useMemoCache:bh,useCacheRefresh:function(){return Be().memoizedState=Mv.bind(null,St)}},Em={readContext:Me,use:ko,useCallback:um,useContext:Me,useEffect:sm,useImperativeHandle:om,useInsertionEffect:am,useLayoutEffect:rm,useMemo:cm,useReducer:Po,useRef:nm,useState:function(){return Po(hi)},useDebugValue:Lh,useDeferredValue:function(e,i){var l=oe();return hm(l,Bt.memoizedState,e,i)},useTransition:function(){var e=Po(hi)[0],i=oe().memoizedState;return[typeof e=="boolean"?e:Qr(e),i]},useSyncExternalStore:G0,useId:mm,useHostTransitionStatus:Nh,useFormState:J0,useActionState:J0,useOptimistic:function(e,i){var l=oe();return H0(l,Bt,e,i)},useMemoCache:bh,useCacheRefresh:_m},Ov={readContext:Me,use:ko,useCallback:um,useContext:Me,useEffect:sm,useImperativeHandle:om,useInsertionEffect:am,useLayoutEffect:rm,useMemo:cm,useReducer:wh,useRef:nm,useState:function(){return wh(hi)},useDebugValue:Lh,useDeferredValue:function(e,i){var l=oe();return Bt===null?Oh(l,e,i):hm(l,Bt.memoizedState,e,i)},useTransition:function(){var e=wh(hi)[0],i=oe().memoizedState;return[typeof e=="boolean"?e:Qr(e),i]},useSyncExternalStore:G0,useId:mm,useHostTransitionStatus:Nh,useFormState:em,useActionState:em,useOptimistic:function(e,i){var l=oe();return Bt!==null?H0(l,Bt,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:bh,useCacheRefresh:_m},Ia=null,tl=0;function Zo(e){var i=tl;return tl+=1,Ia===null&&(Ia=[]),D0(Ia,e,i)}function el(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Yo(e,i){throw i.$$typeof===p?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sm(e){var i=e._init;return i(e._payload)}function Tm(e){function i(I,L){if(e){var k=I.deletions;k===null?(I.deletions=[L],I.flags|=16):k.push(L)}}function l(I,L){if(!e)return null;for(;L!==null;)i(I,L),L=L.sibling;return null}function u(I){for(var L=new Map;I!==null;)I.key!==null?L.set(I.key,I):L.set(I.index,I),I=I.sibling;return L}function d(I,L){return I=ri(I,L),I.index=0,I.sibling=null,I}function m(I,L,k){return I.index=k,e?(k=I.alternate,k!==null?(k=k.index,k<L?(I.flags|=67108866,L):k):(I.flags|=67108866,L)):(I.flags|=1048576,L)}function v(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function S(I,L,k,V){return L===null||L.tag!==6?(L=eh(k,I.mode,V),L.return=I,L):(L=d(L,k),L.return=I,L)}function A(I,L,k,V){var ot=k.type;return ot===E?X(I,L,k.props.children,V,k.key):L!==null&&(L.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===B&&Sm(ot)===L.type)?(L=d(L,k.props),el(L,k),L.return=I,L):(L=Co(k.type,k.key,k.props,null,I.mode,V),el(L,k),L.return=I,L)}function P(I,L,k,V){return L===null||L.tag!==4||L.stateNode.containerInfo!==k.containerInfo||L.stateNode.implementation!==k.implementation?(L=nh(k,I.mode,V),L.return=I,L):(L=d(L,k.children||[]),L.return=I,L)}function X(I,L,k,V,ot){return L===null||L.tag!==7?(L=Ds(k,I.mode,V,ot),L.return=I,L):(L=d(L,k),L.return=I,L)}function Q(I,L,k){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=eh(""+L,I.mode,k),L.return=I,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case y:return k=Co(L.type,L.key,L.props,null,I.mode,k),el(k,L),k.return=I,k;case x:return L=nh(L,I.mode,k),L.return=I,L;case B:var V=L._init;return L=V(L._payload),Q(I,L,k)}if(lt(L)||et(L))return L=Ds(L,I.mode,k,null),L.return=I,L;if(typeof L.then=="function")return Q(I,Zo(L),k);if(L.$$typeof===z)return Q(I,Lo(I,L),k);Yo(I,L)}return null}function G(I,L,k,V){var ot=L!==null?L.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:S(I,L,""+k,V);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case y:return k.key===ot?A(I,L,k,V):null;case x:return k.key===ot?P(I,L,k,V):null;case B:return ot=k._init,k=ot(k._payload),G(I,L,k,V)}if(lt(k)||et(k))return ot!==null?null:X(I,L,k,V,null);if(typeof k.then=="function")return G(I,L,Zo(k),V);if(k.$$typeof===z)return G(I,L,Lo(I,k),V);Yo(I,k)}return null}function F(I,L,k,V,ot){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return I=I.get(k)||null,S(L,I,""+V,ot);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case y:return I=I.get(V.key===null?k:V.key)||null,A(L,I,V,ot);case x:return I=I.get(V.key===null?k:V.key)||null,P(L,I,V,ot);case B:var Tt=V._init;return V=Tt(V._payload),F(I,L,k,V,ot)}if(lt(V)||et(V))return I=I.get(k)||null,X(L,I,V,ot,null);if(typeof V.then=="function")return F(I,L,k,Zo(V),ot);if(V.$$typeof===z)return F(I,L,k,Lo(L,V),ot);Yo(L,V)}return null}function _t(I,L,k,V){for(var ot=null,Tt=null,ct=L,mt=L=0,ye=null;ct!==null&&mt<k.length;mt++){ct.index>mt?(ye=ct,ct=null):ye=ct.sibling;var Ot=G(I,ct,k[mt],V);if(Ot===null){ct===null&&(ct=ye);break}e&&ct&&Ot.alternate===null&&i(I,ct),L=m(Ot,L,mt),Tt===null?ot=Ot:Tt.sibling=Ot,Tt=Ot,ct=ye}if(mt===k.length)return l(I,ct),It&&Is(I,mt),ot;if(ct===null){for(;mt<k.length;mt++)ct=Q(I,k[mt],V),ct!==null&&(L=m(ct,L,mt),Tt===null?ot=ct:Tt.sibling=ct,Tt=ct);return It&&Is(I,mt),ot}for(ct=u(ct);mt<k.length;mt++)ye=F(ct,I,mt,k[mt],V),ye!==null&&(e&&ye.alternate!==null&&ct.delete(ye.key===null?mt:ye.key),L=m(ye,L,mt),Tt===null?ot=ye:Tt.sibling=ye,Tt=ye);return e&&ct.forEach(function(us){return i(I,us)}),It&&Is(I,mt),ot}function gt(I,L,k,V){if(k==null)throw Error(s(151));for(var ot=null,Tt=null,ct=L,mt=L=0,ye=null,Ot=k.next();ct!==null&&!Ot.done;mt++,Ot=k.next()){ct.index>mt?(ye=ct,ct=null):ye=ct.sibling;var us=G(I,ct,Ot.value,V);if(us===null){ct===null&&(ct=ye);break}e&&ct&&us.alternate===null&&i(I,ct),L=m(us,L,mt),Tt===null?ot=us:Tt.sibling=us,Tt=us,ct=ye}if(Ot.done)return l(I,ct),It&&Is(I,mt),ot;if(ct===null){for(;!Ot.done;mt++,Ot=k.next())Ot=Q(I,Ot.value,V),Ot!==null&&(L=m(Ot,L,mt),Tt===null?ot=Ot:Tt.sibling=Ot,Tt=Ot);return It&&Is(I,mt),ot}for(ct=u(ct);!Ot.done;mt++,Ot=k.next())Ot=F(ct,I,mt,Ot.value,V),Ot!==null&&(e&&Ot.alternate!==null&&ct.delete(Ot.key===null?mt:Ot.key),L=m(Ot,L,mt),Tt===null?ot=Ot:Tt.sibling=Ot,Tt=Ot);return e&&ct.forEach(function(Dx){return i(I,Dx)}),It&&Is(I,mt),ot}function Yt(I,L,k,V){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case y:t:{for(var ot=k.key;L!==null;){if(L.key===ot){if(ot=k.type,ot===E){if(L.tag===7){l(I,L.sibling),V=d(L,k.props.children),V.return=I,I=V;break t}}else if(L.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===B&&Sm(ot)===L.type){l(I,L.sibling),V=d(L,k.props),el(V,k),V.return=I,I=V;break t}l(I,L);break}else i(I,L);L=L.sibling}k.type===E?(V=Ds(k.props.children,I.mode,V,k.key),V.return=I,I=V):(V=Co(k.type,k.key,k.props,null,I.mode,V),el(V,k),V.return=I,I=V)}return v(I);case x:t:{for(ot=k.key;L!==null;){if(L.key===ot)if(L.tag===4&&L.stateNode.containerInfo===k.containerInfo&&L.stateNode.implementation===k.implementation){l(I,L.sibling),V=d(L,k.children||[]),V.return=I,I=V;break t}else{l(I,L);break}else i(I,L);L=L.sibling}V=nh(k,I.mode,V),V.return=I,I=V}return v(I);case B:return ot=k._init,k=ot(k._payload),Yt(I,L,k,V)}if(lt(k))return _t(I,L,k,V);if(et(k)){if(ot=et(k),typeof ot!="function")throw Error(s(150));return k=ot.call(k),gt(I,L,k,V)}if(typeof k.then=="function")return Yt(I,L,Zo(k),V);if(k.$$typeof===z)return Yt(I,L,Lo(I,k),V);Yo(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,L!==null&&L.tag===6?(l(I,L.sibling),V=d(L,k),V.return=I,I=V):(l(I,L),V=eh(k,I.mode,V),V.return=I,I=V),v(I)):l(I,L)}return function(I,L,k,V){try{tl=0;var ot=Yt(I,L,k,V);return Ia=null,ot}catch(ct){if(ct===Xr||ct===Do)throw ct;var Tt=nn(29,ct,null,I.mode);return Tt.lanes=V,Tt.return=I,Tt}finally{}}}var za=Tm(!0),Rm=Tm(!1),pn=Y(null),Zn=null;function Vi(e){var i=e.alternate;tt(ce,ce.current&1),tt(pn,e),Zn===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Zn=e)}function bm(e){if(e.tag===22){if(tt(ce,ce.current),tt(pn,e),Zn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Zn=e)}}else qi()}function qi(){tt(ce,ce.current),tt(pn,pn.current)}function fi(e){U(pn),Zn===e&&(Zn=null),U(ce)}var ce=Y(0);function Xo(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||bf(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function zh(e,i,l,u){i=e.memoizedState,l=l(u,i),l=l==null?i:_({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var jh={enqueueSetState:function(e,i,l){e=e._reactInternals;var u=ln(),d=Xi(u);d.payload=i,l!=null&&(d.callback=l),i=Hi(e,d,u),i!==null&&(on(i,e,u),Kr(i,e,u))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var u=ln(),d=Xi(u);d.tag=1,d.payload=i,l!=null&&(d.callback=l),i=Hi(e,d,u),i!==null&&(on(i,e,u),Kr(i,e,u))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=ln(),u=Xi(l);u.tag=2,i!=null&&(u.callback=i),i=Hi(e,u,l),i!==null&&(on(i,e,l),Kr(i,e,l))}};function Cm(e,i,l,u,d,m,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,m,v):i.prototype&&i.prototype.isPureReactComponent?!kr(l,u)||!kr(d,m):!0}function wm(e,i,l,u){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,u),i.state!==e&&jh.enqueueReplaceState(i,i.state,null)}function Fs(e,i){var l=i;if("ref"in i){l={};for(var u in i)u!=="ref"&&(l[u]=i[u])}if(e=e.defaultProps){l===i&&(l=_({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}var Ho=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Am(e){Ho(e)}function Mm(e){console.error(e)}function Lm(e){Ho(e)}function Ko(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Om(e,i,l){try{var u=e.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function kh(e,i,l){return l=Xi(l),l.tag=3,l.payload={element:null},l.callback=function(){Ko(e,i)},l}function Dm(e){return e=Xi(e),e.tag=3,e}function Nm(e,i,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=u.value;e.payload=function(){return d(m)},e.callback=function(){Om(i,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Om(i,l,u),typeof d!="function"&&(es===null?es=new Set([this]):es.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function Dv(e,i,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=l.alternate,i!==null&&Br(i,l,d,!0),l=pn.current,l!==null){switch(l.tag){case 13:return Zn===null?of():l.alternate===null&&ee===0&&(ee=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===fh?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([u]):i.add(u),cf(e,u,d)),!1;case 22:return l.flags|=65536,u===fh?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([u]):l.add(u)),cf(e,u,d)),!1}throw Error(s(435,l.tag))}return cf(e,u,d),of(),!1}if(It)return i=pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,u!==ah&&(e=Error(s(422),{cause:u}),Fr(dn(e,l)))):(u!==ah&&(i=Error(s(423),{cause:u}),Fr(dn(i,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,u=dn(u,l),d=kh(e.stateNode,u,d),mh(e,d),ee!==4&&(ee=2)),!1;var m=Error(s(520),{cause:u});if(m=dn(m,l),ol===null?ol=[m]:ol.push(m),ee!==4&&(ee=2),i===null)return!0;u=dn(u,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=kh(l.stateNode,u,e),mh(l,e),!1;case 1:if(i=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(es===null||!es.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Dm(d),Nm(d,e,l,u),mh(l,d),!1}l=l.return}while(l!==null);return!1}var Im=Error(s(461)),_e=!1;function Te(e,i,l,u){i.child=e===null?Rm(i,null,l,u):za(i,e.child,l,u)}function zm(e,i,l,u,d){l=l.render;var m=i.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return Ps(i),u=xh(e,i,l,v,m,d),S=Eh(),e!==null&&!_e?(Sh(e,i,d),di(e,i,d)):(It&&S&&ih(i),i.flags|=1,Te(e,i,u,d),i.child)}function jm(e,i,l,u,d){if(e===null){var m=l.type;return typeof m=="function"&&!th(m)&&m.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=m,km(e,i,m,u,d)):(e=Co(l.type,null,u,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!Xh(e,d)){var v=m.memoizedProps;if(l=l.compare,l=l!==null?l:kr,l(v,u)&&e.ref===i.ref)return di(e,i,d)}return i.flags|=1,e=ri(m,u),e.ref=i.ref,e.return=i,i.child=e}function km(e,i,l,u,d){if(e!==null){var m=e.memoizedProps;if(kr(m,u)&&e.ref===i.ref)if(_e=!1,i.pendingProps=u=m,Xh(e,d))(e.flags&131072)!==0&&(_e=!0);else return i.lanes=e.lanes,di(e,i,d)}return Ph(e,i,l,u,d)}function Pm(e,i,l){var u=i.pendingProps,d=u.children,m=e!==null?e.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|l:l,e!==null){for(d=i.child=e.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return Um(e,i,u,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oo(i,m!==null?m.cachePool:null),m!==null?k0(i,m):ph(),bm(i);else return i.lanes=i.childLanes=536870912,Um(e,i,m!==null?m.baseLanes|l:l,l)}else m!==null?(Oo(i,m.cachePool),k0(i,m),qi(),i.memoizedState=null):(e!==null&&Oo(i,null),ph(),qi());return Te(e,i,d,l),i.child}function Um(e,i,l,u){var d=hh();return d=d===null?null:{parent:ue._currentValue,pool:d},i.memoizedState={baseLanes:l,cachePool:d},e!==null&&Oo(i,null),ph(),bm(i),e!==null&&Br(e,i,u,!0),null}function Vo(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Ph(e,i,l,u,d){return Ps(i),l=xh(e,i,l,u,void 0,d),u=Eh(),e!==null&&!_e?(Sh(e,i,d),di(e,i,d)):(It&&u&&ih(i),i.flags|=1,Te(e,i,l,d),i.child)}function Gm(e,i,l,u,d,m){return Ps(i),i.updateQueue=null,l=U0(i,u,l,d),P0(e),u=Eh(),e!==null&&!_e?(Sh(e,i,m),di(e,i,m)):(It&&u&&ih(i),i.flags|=1,Te(e,i,l,m),i.child)}function Fm(e,i,l,u,d){if(Ps(i),i.stateNode===null){var m=ba,v=l.contextType;typeof v=="object"&&v!==null&&(m=Me(v)),m=new l(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=jh,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},dh(i),v=l.contextType,m.context=typeof v=="object"&&v!==null?Me(v):ba,m.state=i.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(zh(i,l,v,u),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&jh.enqueueReplaceState(m,m.state,null),qr(i,u,m,d),Vr(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(e===null){m=i.stateNode;var S=i.memoizedProps,A=Fs(l,S);m.props=A;var P=m.context,X=l.contextType;v=ba,typeof X=="object"&&X!==null&&(v=Me(X));var Q=l.getDerivedStateFromProps;X=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||P!==v)&&wm(i,m,u,v),Yi=!1;var G=i.memoizedState;m.state=G,qr(i,u,m,d),Vr(),P=i.memoizedState,S||G!==P||Yi?(typeof Q=="function"&&(zh(i,l,Q,u),P=i.memoizedState),(A=Yi||Cm(i,l,A,u,G,P,v))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=P),m.props=u,m.state=P,m.context=v,u=A):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,gh(e,i),v=i.memoizedProps,X=Fs(l,v),m.props=X,Q=i.pendingProps,G=m.context,P=l.contextType,A=ba,typeof P=="object"&&P!==null&&(A=Me(P)),S=l.getDerivedStateFromProps,(P=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Q||G!==A)&&wm(i,m,u,A),Yi=!1,G=i.memoizedState,m.state=G,qr(i,u,m,d),Vr();var F=i.memoizedState;v!==Q||G!==F||Yi||e!==null&&e.dependencies!==null&&Mo(e.dependencies)?(typeof S=="function"&&(zh(i,l,S,u),F=i.memoizedState),(X=Yi||Cm(i,l,X,u,G,F,A)||e!==null&&e.dependencies!==null&&Mo(e.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,F,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,F,A)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=F),m.props=u,m.state=F,m.context=A,u=X):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),u=!1)}return m=u,Vo(e,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&u?(i.child=za(i,e.child,null,d),i.child=za(i,null,l,d)):Te(e,i,l,d),i.memoizedState=m.state,e=i.child):e=di(e,i,d),e}function Bm(e,i,l,u){return Gr(),i.flags|=256,Te(e,i,l,u),i.child}var Uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gh(e){return{baseLanes:e,cachePool:M0()}}function Fh(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=yn),e}function Zm(e,i,l){var u=i.pendingProps,d=!1,m=(i.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(ce.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(It){if(d?Vi(i):qi(),It){var S=te,A;if(A=S){t:{for(A=S,S=Bn;A.nodeType!==8;){if(!S){S=null;break t}if(A=On(A.nextSibling),A===null){S=null;break t}}S=A}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ns!==null?{id:li,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},A=nn(18,null,null,0),A.stateNode=S,A.return=i,i.child=A,je=i,te=null,A=!0):A=!1}A||js(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return bf(S)?i.lanes=32:i.lanes=536870912,null;fi(i)}return S=u.children,u=u.fallback,d?(qi(),d=i.mode,S=qo({mode:"hidden",children:S},d),u=Ds(u,d,l,null),S.return=i,u.return=i,S.sibling=u,i.child=S,d=i.child,d.memoizedState=Gh(l),d.childLanes=Fh(e,v,l),i.memoizedState=Uh,u):(Vi(i),Bh(i,S))}if(A=e.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(m)i.flags&256?(Vi(i),i.flags&=-257,i=Zh(e,i,l)):i.memoizedState!==null?(qi(),i.child=e.child,i.flags|=128,i=null):(qi(),d=u.fallback,S=i.mode,u=qo({mode:"visible",children:u.children},S),d=Ds(d,S,l,null),d.flags|=2,u.return=i,d.return=i,u.sibling=d,i.child=u,za(i,e.child,null,l),u=i.child,u.memoizedState=Gh(l),u.childLanes=Fh(e,v,l),i.memoizedState=Uh,i=d);else if(Vi(i),bf(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,u=Error(s(419)),u.stack="",u.digest=v,Fr({value:u,source:null,stack:null}),i=Zh(e,i,l)}else if(_e||Br(e,i,l,!1),v=(l&e.childLanes)!==0,_e||v){if(v=Kt,v!==null&&(u=l&-l,u=(u&42)!==0?1:An(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==A.retryLane))throw A.retryLane=u,Ra(e,u),on(v,e,u),Im;S.data==="$?"||of(),i=Zh(e,i,l)}else S.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=A.treeContext,te=On(S.nextSibling),je=i,It=!0,zs=null,Bn=!1,e!==null&&(mn[_n++]=li,mn[_n++]=oi,mn[_n++]=Ns,li=e.id,oi=e.overflow,Ns=i),i=Bh(i,u.children),i.flags|=4096);return i}return d?(qi(),d=u.fallback,S=i.mode,A=e.child,P=A.sibling,u=ri(A,{mode:"hidden",children:u.children}),u.subtreeFlags=A.subtreeFlags&65011712,P!==null?d=ri(P,d):(d=Ds(d,S,l,null),d.flags|=2),d.return=i,u.return=i,u.sibling=d,i.child=u,u=d,d=i.child,S=e.child.memoizedState,S===null?S=Gh(l):(A=S.cachePool,A!==null?(P=ue._currentValue,A=A.parent!==P?{parent:P,pool:P}:A):A=M0(),S={baseLanes:S.baseLanes|l,cachePool:A}),d.memoizedState=S,d.childLanes=Fh(e,v,l),i.memoizedState=Uh,u):(Vi(i),l=e.child,e=l.sibling,l=ri(l,{mode:"visible",children:u.children}),l.return=i,l.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=l,i.memoizedState=null,l)}function Bh(e,i){return i=qo({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function qo(e,i){return e=nn(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zh(e,i,l){return za(i,e.child,null,l),e=Bh(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ym(e,i,l){e.lanes|=i;var u=e.alternate;u!==null&&(u.lanes|=i),lh(e.return,i,l)}function Yh(e,i,l,u,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=l,m.tailMode=d)}function Xm(e,i,l){var u=i.pendingProps,d=u.revealOrder,m=u.tail;if(Te(e,i,u.children,l),u=ce.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ym(e,l,i);else if(e.tag===19)Ym(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}u&=1}switch(tt(ce,u),d){case"forwards":for(l=i.child,d=null;l!==null;)e=l.alternate,e!==null&&Xo(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=i.child,i.child=null):(d=l.sibling,l.sibling=null),Yh(i,!1,d,l,m);break;case"backwards":for(l=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&Xo(e)===null){i.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Yh(i,!0,l,null,m);break;case"together":Yh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function di(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),ts|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(Br(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,l=ri(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=ri(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Xh(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Mo(e)))}function Nv(e,i,l){switch(i.tag){case 3:wt(i,i.stateNode.containerInfo),Zi(i,ue,e.memoizedState.cache),Gr();break;case 27:case 5:Ee(i);break;case 4:wt(i,i.stateNode.containerInfo);break;case 10:Zi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Vi(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Zm(e,i,l):(Vi(i),e=di(e,i,l),e!==null?e.sibling:null);Vi(i);break;case 19:var d=(e.flags&128)!==0;if(u=(l&i.childLanes)!==0,u||(Br(e,i,l,!1),u=(l&i.childLanes)!==0),d){if(u)return Xm(e,i,l);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),tt(ce,ce.current),u)break;return null;case 22:case 23:return i.lanes=0,Pm(e,i,l);case 24:Zi(i,ue,e.memoizedState.cache)}return di(e,i,l)}function Hm(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)_e=!0;else{if(!Xh(e,l)&&(i.flags&128)===0)return _e=!1,Nv(e,i,l);_e=(e.flags&131072)!==0}else _e=!1,It&&(i.flags&1048576)!==0&&S0(i,Ao,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var u=i.elementType,d=u._init;if(u=d(u._payload),i.type=u,typeof u=="function")th(u)?(e=Fs(u,e),i.tag=1,i=Fm(null,i,u,e,l)):(i.tag=0,i=Ph(null,i,u,e,l));else{if(u!=null){if(d=u.$$typeof,d===D){i.tag=11,i=zm(null,i,u,e,l);break t}else if(d===W){i.tag=14,i=jm(null,i,u,e,l);break t}}throw i=st(u)||u,Error(s(306,i,""))}}return i;case 0:return Ph(e,i,i.type,i.pendingProps,l);case 1:return u=i.type,d=Fs(u,i.pendingProps),Fm(e,i,u,d,l);case 3:t:{if(wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));u=i.pendingProps;var m=i.memoizedState;d=m.element,gh(e,i),qr(i,u,null,l);var v=i.memoizedState;if(u=v.cache,Zi(i,ue,u),u!==m.cache&&oh(i,[ue],l,!0),Vr(),u=v.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Bm(e,i,u,l);break t}else if(u!==d){d=dn(Error(s(424)),i),Fr(d),i=Bm(e,i,u,l);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(te=On(e.firstChild),je=i,It=!0,zs=null,Bn=!0,l=Rm(i,null,u,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gr(),u===d){i=di(e,i,l);break t}Te(e,i,u,l)}i=i.child}return i;case 26:return Vo(e,i),e===null?(l=W_(i.type,null,i.pendingProps,null))?i.memoizedState=l:It||(l=i.type,e=i.pendingProps,u=uu(ut.current).createElement(l),u[Ht]=i,u[Rt]=e,be(u,l,e),me(u),i.stateNode=u):i.memoizedState=W_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ee(i),e===null&&It&&(u=i.stateNode=K_(i.type,i.pendingProps,ut.current),je=i,Bn=!0,d=te,ss(i.type)?(Cf=d,te=On(u.firstChild)):te=d),Te(e,i,i.pendingProps.children,l),Vo(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&It&&((d=u=te)&&(u=lx(u,i.type,i.pendingProps,Bn),u!==null?(i.stateNode=u,je=i,te=On(u.firstChild),Bn=!1,d=!0):d=!1),d||js(i)),Ee(i),d=i.type,m=i.pendingProps,v=e!==null?e.memoizedProps:null,u=m.children,Sf(d,m)?u=null:v!==null&&Sf(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=xh(e,i,bv,null,null,l),pl._currentValue=d),Vo(e,i),Te(e,i,u,l),i.child;case 6:return e===null&&It&&((e=l=te)&&(l=ox(l,i.pendingProps,Bn),l!==null?(i.stateNode=l,je=i,te=null,e=!0):e=!1),e||js(i)),null;case 13:return Zm(e,i,l);case 4:return wt(i,i.stateNode.containerInfo),u=i.pendingProps,e===null?i.child=za(i,null,u,l):Te(e,i,u,l),i.child;case 11:return zm(e,i,i.type,i.pendingProps,l);case 7:return Te(e,i,i.pendingProps,l),i.child;case 8:return Te(e,i,i.pendingProps.children,l),i.child;case 12:return Te(e,i,i.pendingProps.children,l),i.child;case 10:return u=i.pendingProps,Zi(i,i.type,u.value),Te(e,i,u.children,l),i.child;case 9:return d=i.type._context,u=i.pendingProps.children,Ps(i),d=Me(d),u=u(d),i.flags|=1,Te(e,i,u,l),i.child;case 14:return jm(e,i,i.type,i.pendingProps,l);case 15:return km(e,i,i.type,i.pendingProps,l);case 19:return Xm(e,i,l);case 31:return u=i.pendingProps,l=i.mode,u={mode:u.mode,children:u.children},e===null?(l=qo(u,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=ri(e.child,u),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return Pm(e,i,l);case 24:return Ps(i),u=Me(ue),e===null?(d=hh(),d===null&&(d=Kt,m=uh(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),i.memoizedState={parent:u,cache:d},dh(i),Zi(i,ue,d)):((e.lanes&l)!==0&&(gh(e,i),qr(i,null,null,l),Vr()),d=e.memoizedState,m=i.memoizedState,d.parent!==u?(d={parent:u,cache:u},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Zi(i,ue,u)):(u=m.cache,Zi(i,ue,u),u!==d.cache&&oh(i,[ue],l,!0))),Te(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function gi(e){e.flags|=4}function Km(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ep(i)){if(i=pn.current,i!==null&&((Mt&4194048)===Mt?Zn!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||i!==Zn))throw Hr=fh,L0;e.flags|=8192}}function Wo(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Fi():536870912,e.lanes|=i,Ua|=i)}function nl(e,i){if(!It)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function Wt(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,u=0;if(i)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=u,e.childLanes=l,i}function Iv(e,i,l){var u=i.pendingProps;switch(sh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return l=i.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),ci(ue),re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ur(i)?gi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,b0())),Wt(i),null;case 26:return l=i.memoizedState,e===null?(gi(i),l!==null?(Wt(i),Km(i,l)):(Wt(i),i.flags&=-16777217)):l?l!==e.memoizedState?(gi(i),Wt(i),Km(i,l)):(Wt(i),i.flags&=-16777217):(e.memoizedProps!==u&&gi(i),Wt(i),i.flags&=-16777217),null;case 27:ei(i),l=ut.current;var d=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==u&&gi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}e=rt.current,Ur(i)?T0(i):(e=K_(d,u,l),i.stateNode=e,gi(i))}return Wt(i),null;case 5:if(ei(i),l=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==u&&gi(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return Wt(i),null}if(e=rt.current,Ur(i))T0(i);else{switch(d=uu(ut.current),e){case 1:e=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:e=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":e=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":e=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":e=d.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?e.multiple=!0:u.size&&(e.size=u.size);break;default:e=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}e[Ht]=i,e[Rt]=u;t:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)e.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break t;for(;d.sibling===null;){if(d.return===null||d.return===i)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=e;t:switch(be(e,l,u),l){case"button":case"input":case"select":case"textarea":e=!!u.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&gi(i)}}return Wt(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==u&&gi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(e=ut.current,Ur(i)){if(e=i.stateNode,l=i.memoizedProps,u=null,d=je,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}e[Ht]=i,e=!!(e.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||G_(e.nodeValue,l)),e||js(i)}else e=uu(e).createTextNode(u),e[Ht]=i,i.stateNode=e}return Wt(i),null;case 13:if(u=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ur(i),u!==null&&u.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ht]=i}else Gr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),d=!1}else d=b0(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(fi(i),i):(fi(i),null)}if(fi(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=u!==null,e=e!==null&&e.memoizedState!==null,l){u=i.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048)}return l!==e&&l&&(i.child.flags|=8192),Wo(i,i.updateQueue),Wt(i),null;case 4:return re(),e===null&&pf(i.stateNode.containerInfo),Wt(i),null;case 10:return ci(i.type),Wt(i),null;case 19:if(U(ce),d=i.memoizedState,d===null)return Wt(i),null;if(u=(i.flags&128)!==0,m=d.rendering,m===null)if(u)nl(d,!1);else{if(ee!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(m=Xo(e),m!==null){for(i.flags|=128,nl(d,!1),e=m.updateQueue,i.updateQueue=e,Wo(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)E0(l,e),l=l.sibling;return tt(ce,ce.current&1|2),i.child}e=e.sibling}d.tail!==null&&Se()>Jo&&(i.flags|=128,u=!0,nl(d,!1),i.lanes=4194304)}else{if(!u)if(e=Xo(m),e!==null){if(i.flags|=128,u=!0,e=e.updateQueue,i.updateQueue=e,Wo(i,e),nl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!It)return Wt(i),null}else 2*Se()-d.renderingStartTime>Jo&&l!==536870912&&(i.flags|=128,u=!0,nl(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(e=d.last,e!==null?e.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Se(),i.sibling=null,e=ce.current,tt(ce,u?e&1|2:e&1),i):(Wt(i),null);case 22:case 23:return fi(i),yh(),u=i.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(l&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),l=i.updateQueue,l!==null&&Wo(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==l&&(i.flags|=2048),e!==null&&U(Us),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ci(ue),Wt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function zv(e,i){switch(sh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ci(ue),re(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ei(i),null;case 13:if(fi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Gr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return U(ce),null;case 4:return re(),null;case 10:return ci(i.type),null;case 22:case 23:return fi(i),yh(),e!==null&&U(Us),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ci(ue),null;case 25:return null;default:return null}}function Vm(e,i){switch(sh(i),i.tag){case 3:ci(ue),re();break;case 26:case 27:case 5:ei(i);break;case 4:re();break;case 13:fi(i);break;case 19:U(ce);break;case 10:ci(i.type);break;case 22:case 23:fi(i),yh(),e!==null&&U(Us);break;case 24:ci(ue)}}function il(e,i){try{var l=i.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&e)===e){u=void 0;var m=l.create,v=l.inst;u=m(),v.destroy=u}l=l.next}while(l!==d)}}catch(S){Xt(i,i.return,S)}}function Wi(e,i,l){try{var u=i.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var m=d.next;u=m;do{if((u.tag&e)===e){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,d=i;var A=l,P=S;try{P()}catch(X){Xt(d,A,X)}}}u=u.next}while(u!==m)}}catch(X){Xt(i,i.return,X)}}function qm(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{j0(i,l)}catch(u){Xt(e,e.return,u)}}}function Wm(e,i,l){l.props=Fs(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(u){Xt(e,i,u)}}function sl(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof l=="function"?e.refCleanup=l(u):l.current=u}}catch(d){Xt(e,i,d)}}function Yn(e,i){var l=e.ref,u=e.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Xt(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Xt(e,i,d)}else l.current=null}function Qm(e){var i=e.type,l=e.memoizedProps,u=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Xt(e,e.return,d)}}function Hh(e,i,l){try{var u=e.stateNode;nx(u,e.type,l,i),u[Rt]=i}catch(d){Xt(e,e.return,d)}}function $m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function Kh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||$m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vh(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=ou));else if(u!==4&&(u===27&&ss(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Vh(e,i,l),e=e.sibling;e!==null;)Vh(e,i,l),e=e.sibling}function Qo(e,i,l){var u=e.tag;if(u===5||u===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(u!==4&&(u===27&&ss(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Qo(e,i,l),e=e.sibling;e!==null;)Qo(e,i,l),e=e.sibling}function Jm(e){var i=e.stateNode,l=e.memoizedProps;try{for(var u=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);be(i,u,l),i[Ht]=e,i[Rt]=l}catch(m){Xt(e,e.return,m)}}var mi=!1,ae=!1,qh=!1,t_=typeof WeakSet=="function"?WeakSet:Set,pe=null;function jv(e,i){if(e=e.containerInfo,xf=mu,e=h0(e),Kc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else t:{l=(l=e.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break t}var v=0,S=-1,A=-1,P=0,X=0,Q=e,G=null;e:for(;;){for(var F;Q!==l||d!==0&&Q.nodeType!==3||(S=v+d),Q!==m||u!==0&&Q.nodeType!==3||(A=v+u),Q.nodeType===3&&(v+=Q.nodeValue.length),(F=Q.firstChild)!==null;)G=Q,Q=F;for(;;){if(Q===e)break e;if(G===l&&++P===d&&(S=v),G===m&&++X===u&&(A=v),(F=Q.nextSibling)!==null)break;Q=G,G=Q.parentNode}Q=F}l=S===-1||A===-1?null:{start:S,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ef={focusedElem:e,selectionRange:l},mu=!1,pe=i;pe!==null;)if(i=pe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,pe=e;else for(;pe!==null;){switch(i=pe,m=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=i,d=m.memoizedProps,m=m.memoizedState,u=l.stateNode;try{var _t=Fs(l.type,d,l.elementType===l.type);e=u.getSnapshotBeforeUpdate(_t,m),u.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Xt(l,l.return,gt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)Rf(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,pe=e;break}pe=i.return}}function e_(e,i,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Qi(e,l),u&4&&il(5,l);break;case 1:if(Qi(e,l),u&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(v){Xt(l,l.return,v)}else{var d=Fs(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(l,l.return,v)}}u&64&&qm(l),u&512&&sl(l,l.return);break;case 3:if(Qi(e,l),u&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{j0(e,i)}catch(v){Xt(l,l.return,v)}}break;case 27:i===null&&u&4&&Jm(l);case 26:case 5:Qi(e,l),i===null&&u&4&&Qm(l),u&512&&sl(l,l.return);break;case 12:Qi(e,l);break;case 13:Qi(e,l),u&4&&s_(e,l),u&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Xv.bind(null,l),ux(e,l))));break;case 22:if(u=l.memoizedState!==null||mi,!u){i=i!==null&&i.memoizedState!==null||ae,d=mi;var m=ae;mi=u,(ae=i)&&!m?$i(e,l,(l.subtreeFlags&8772)!==0):Qi(e,l),mi=d,ae=m}break;case 30:break;default:Qi(e,l)}}function n_(e){var i=e.alternate;i!==null&&(e.alternate=null,n_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ac(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Ze=!1;function _i(e,i,l){for(l=l.child;l!==null;)i_(e,i,l),l=l.sibling}function i_(e,i,l){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(Un,l)}catch{}switch(l.tag){case 26:ae||Yn(l,i),_i(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ae||Yn(l,i);var u=qt,d=Ze;ss(l.type)&&(qt=l.stateNode,Ze=!1),_i(e,i,l),dl(l.stateNode),qt=u,Ze=d;break;case 5:ae||Yn(l,i);case 6:if(u=qt,d=Ze,qt=null,_i(e,i,l),qt=u,Ze=d,qt!==null)if(Ze)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(l.stateNode)}catch(m){Xt(l,i,m)}else try{qt.removeChild(l.stateNode)}catch(m){Xt(l,i,m)}break;case 18:qt!==null&&(Ze?(e=qt,X_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),El(e)):X_(qt,l.stateNode));break;case 4:u=qt,d=Ze,qt=l.stateNode.containerInfo,Ze=!0,_i(e,i,l),qt=u,Ze=d;break;case 0:case 11:case 14:case 15:ae||Wi(2,l,i),ae||Wi(4,l,i),_i(e,i,l);break;case 1:ae||(Yn(l,i),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Wm(l,i,u)),_i(e,i,l);break;case 21:_i(e,i,l);break;case 22:ae=(u=ae)||l.memoizedState!==null,_i(e,i,l),ae=u;break;default:_i(e,i,l)}}function s_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(l){Xt(i,i.return,l)}}function kv(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new t_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new t_),i;default:throw Error(s(435,e.tag))}}function Wh(e,i){var l=kv(e);i.forEach(function(u){var d=Hv.bind(null,e,u);l.has(u)||(l.add(u),u.then(d,d))})}function sn(e,i){var l=i.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],m=e,v=i,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(ss(S.type)){qt=S.stateNode,Ze=!1;break t}break;case 5:qt=S.stateNode,Ze=!1;break t;case 3:case 4:qt=S.stateNode.containerInfo,Ze=!0;break t}S=S.return}if(qt===null)throw Error(s(160));i_(m,v,d),qt=null,Ze=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)a_(i,e),i=i.sibling}var Ln=null;function a_(e,i){var l=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(i,e),an(e),u&4&&(Wi(3,e,e.return),il(3,e),Wi(5,e,e.return));break;case 1:sn(i,e),an(e),u&512&&(ae||l===null||Yn(l,l.return)),u&64&&mi&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=Ln;if(sn(i,e),an(e),u&512&&(ae||l===null||Yn(l,l.return)),u&4){var m=l!==null?l.memoizedState:null;if(u=e.memoizedState,l===null)if(u===null)if(e.stateNode===null){t:{u=e.type,l=e.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ar]||m[Ht]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(u),d.head.insertBefore(m,d.querySelector("head > title"))),be(m,u,l),m[Ht]=e,me(m),u=m;break t;case"link":var v=J_("link","href",d).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}m=d.createElement(u),be(m,u,l),d.head.appendChild(m);break;case"meta":if(v=J_("meta","content",d).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}m=d.createElement(u),be(m,u,l),d.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ht]=e,me(m),u=m}e.stateNode=u}else tp(d,e.type,e.stateNode);else e.stateNode=$_(d,u,e.memoizedProps);else m!==u?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,u===null?tp(d,e.type,e.stateNode):$_(d,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Hh(e,e.memoizedProps,l.memoizedProps)}break;case 27:sn(i,e),an(e),u&512&&(ae||l===null||Yn(l,l.return)),l!==null&&u&4&&Hh(e,e.memoizedProps,l.memoizedProps);break;case 5:if(sn(i,e),an(e),u&512&&(ae||l===null||Yn(l,l.return)),e.flags&32){d=e.stateNode;try{pa(d,"")}catch(F){Xt(e,e.return,F)}}u&4&&e.stateNode!=null&&(d=e.memoizedProps,Hh(e,d,l!==null?l.memoizedProps:d)),u&1024&&(qh=!0);break;case 6:if(sn(i,e),an(e),u&4){if(e.stateNode===null)throw Error(s(162));u=e.memoizedProps,l=e.stateNode;try{l.nodeValue=u}catch(F){Xt(e,e.return,F)}}break;case 3:if(fu=null,d=Ln,Ln=cu(i.containerInfo),sn(i,e),Ln=d,an(e),u&4&&l!==null&&l.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(F){Xt(e,e.return,F)}qh&&(qh=!1,r_(e));break;case 4:u=Ln,Ln=cu(e.stateNode.containerInfo),sn(i,e),an(e),Ln=u;break;case 12:sn(i,e),an(e);break;case 13:sn(i,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(nf=Se()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Wh(e,u)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,P=mi,X=ae;if(mi=P||d,ae=X||A,sn(i,e),ae=X,mi=P,an(e),u&8192)t:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(l===null||A||mi||ae||Bs(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(m=A.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=A.stateNode;var Q=A.memoizedProps.style,G=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){Xt(A,A.return,F)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(F){Xt(A,A.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=e.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Wh(e,l))));break;case 19:sn(i,e),an(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Wh(e,u)));break;case 30:break;case 21:break;default:sn(i,e),an(e)}}function an(e){var i=e.flags;if(i&2){try{for(var l,u=e.return;u!==null;){if($m(u)){l=u;break}u=u.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,m=Kh(e);Qo(e,m,d);break;case 5:var v=l.stateNode;l.flags&32&&(pa(v,""),l.flags&=-33);var S=Kh(e);Qo(e,S,v);break;case 3:case 4:var A=l.stateNode.containerInfo,P=Kh(e);Vh(e,P,A);break;default:throw Error(s(161))}}catch(X){Xt(e,e.return,X)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function r_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;r_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Qi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(e,i.alternate,i),i=i.sibling}function Bs(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Wi(4,i,i.return),Bs(i);break;case 1:Yn(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Wm(i,i.return,l),Bs(i);break;case 27:dl(i.stateNode);case 26:case 5:Yn(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}e=e.sibling}}function $i(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,d=e,m=i,v=m.flags;switch(m.tag){case 0:case 11:case 15:$i(d,m,l),il(4,m);break;case 1:if($i(d,m,l),u=m,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){Xt(u,u.return,P)}if(u=m,d=u.updateQueue,d!==null){var S=u.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)z0(A[d],S)}catch(P){Xt(u,u.return,P)}}l&&v&64&&qm(m),sl(m,m.return);break;case 27:Jm(m);case 26:case 5:$i(d,m,l),l&&u===null&&v&4&&Qm(m),sl(m,m.return);break;case 12:$i(d,m,l);break;case 13:$i(d,m,l),l&&v&4&&s_(d,m);break;case 22:m.memoizedState===null&&$i(d,m,l),sl(m,m.return);break;case 30:break;default:$i(d,m,l)}i=i.sibling}}function Qh(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Zr(l))}function $h(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zr(e))}function Xn(e,i,l,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(e,i,l,u),i=i.sibling}function l_(e,i,l,u){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i,l,u),d&2048&&il(9,i);break;case 1:Xn(e,i,l,u);break;case 3:Xn(e,i,l,u),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Zr(e)));break;case 12:if(d&2048){Xn(e,i,l,u),e=i.stateNode;try{var m=i.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Xt(i,i.return,A)}}else Xn(e,i,l,u);break;case 13:Xn(e,i,l,u);break;case 23:break;case 22:m=i.stateNode,v=i.alternate,i.memoizedState!==null?m._visibility&2?Xn(e,i,l,u):al(e,i):m._visibility&2?Xn(e,i,l,u):(m._visibility|=2,ja(e,i,l,u,(i.subtreeFlags&10256)!==0)),d&2048&&Qh(v,i);break;case 24:Xn(e,i,l,u),d&2048&&$h(i.alternate,i);break;default:Xn(e,i,l,u)}}function ja(e,i,l,u,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=e,v=i,S=l,A=u,P=v.flags;switch(v.tag){case 0:case 11:case 15:ja(m,v,S,A,d),il(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?ja(m,v,S,A,d):al(m,v):(X._visibility|=2,ja(m,v,S,A,d)),d&&P&2048&&Qh(v.alternate,v);break;case 24:ja(m,v,S,A,d),d&&P&2048&&$h(v.alternate,v);break;default:ja(m,v,S,A,d)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,u=i,d=u.flags;switch(u.tag){case 22:al(l,u),d&2048&&Qh(u.alternate,u);break;case 24:al(l,u),d&2048&&$h(u.alternate,u);break;default:al(l,u)}i=i.sibling}}var rl=8192;function ka(e){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)o_(e),e=e.sibling}function o_(e){switch(e.tag){case 26:ka(e),e.flags&rl&&e.memoizedState!==null&&Sx(Ln,e.memoizedState,e.memoizedProps);break;case 5:ka(e);break;case 3:case 4:var i=Ln;Ln=cu(e.stateNode.containerInfo),ka(e),Ln=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=rl,rl=16777216,ka(e),rl=i):ka(e));break;default:ka(e)}}function u_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];pe=u,h_(u,e)}u_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)c_(e),e=e.sibling}function c_(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Wi(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,$o(e)):ll(e);break;default:ll(e)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var u=i[l];pe=u,h_(u,e)}u_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Wi(8,i,i.return),$o(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,$o(i));break;default:$o(i)}e=e.sibling}}function h_(e,i){for(;pe!==null;){var l=pe;switch(l.tag){case 0:case 11:case 15:Wi(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zr(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,pe=u;else t:for(l=e;pe!==null;){u=pe;var d=u.sibling,m=u.return;if(n_(u),u===l){pe=null;break t}if(d!==null){d.return=m,pe=d;break t}pe=m}}}var Pv={getCacheForType:function(e){var i=Me(ue),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l}},Uv=typeof WeakMap=="function"?WeakMap:Map,Pt=0,Kt=null,bt=null,Mt=0,Ut=0,rn=null,Ji=!1,Pa=!1,Jh=!1,pi=0,ee=0,ts=0,Zs=0,tf=0,yn=0,Ua=0,ol=null,Ye=null,ef=!1,nf=0,Jo=1/0,tu=null,es=null,Re=0,ns=null,Ga=null,Fa=0,sf=0,af=null,f_=null,ul=0,rf=null;function ln(){if((Pt&2)!==0&&Mt!==0)return Mt&-Mt;if(N.T!==null){var e=Aa;return e!==0?e:df()}return Je()}function d_(){yn===0&&(yn=(Mt&536870912)===0||It?ca():536870912);var e=pn.current;return e!==null&&(e.flags|=32),yn}function on(e,i,l){(e===Kt&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),is(e,Mt,yn,!1)),wn(e,l),((Pt&2)===0||e!==Kt)&&(e===Kt&&((Pt&2)===0&&(Zs|=l),ee===4&&is(e,Mt,yn,!1)),Hn(e))}function g_(e,i,l){if((Pt&6)!==0)throw Error(s(327));var u=!l&&(i&124)===0&&(i&e.expiredLanes)===0||Gi(e,i),d=u?Bv(e,i):uf(e,i,!0),m=u;do{if(d===0){Pa&&!u&&is(e,i,0,!1);break}else{if(l=e.current.alternate,m&&!Gv(l)){d=uf(e,i,!1),m=!1;continue}if(d===2){if(m=i,e.errorRecoveryDisabledLanes&m)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var S=e;d=ol;var A=S.current.memoizedState.isDehydrated;if(A&&(Ba(S,v).flags|=256),v=uf(S,v,!1),v!==2){if(Jh&&!A){S.errorRecoveryDisabledLanes|=m,Zs|=m,d=4;break t}m=Ye,Ye=d,m!==null&&(Ye===null?Ye=m:Ye.push.apply(Ye,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Ba(e,0),is(e,i,0,!0);break}t:{switch(u=e,m=d,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:is(u,i,yn,!Ji);break t;case 2:Ye=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=nf+300-Se(),10<d)){if(is(u,i,yn,!Ji),Ui(u,0,!0)!==0)break t;u.timeoutHandle=Z_(m_.bind(null,u,l,Ye,tu,ef,i,yn,Zs,Ua,Ji,m,2,-0,0),d);break t}m_(u,l,Ye,tu,ef,i,yn,Zs,Ua,Ji,m,0,-0,0)}}break}while(!0);Hn(e)}function m_(e,i,l,u,d,m,v,S,A,P,X,Q,G,F){if(e.timeoutHandle=-1,Q=i.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(_l={stylesheets:null,count:0,unsuspend:Ex},o_(i),Q=Tx(),Q!==null)){e.cancelPendingCommit=Q(S_.bind(null,e,i,m,l,u,d,v,S,A,X,1,G,F)),is(e,m,v,!P);return}S_(e,i,m,l,u,d,v,S,A)}function Gv(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],m=d.getSnapshot;d=d.value;try{if(!en(m(),d))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function is(e,i,l,u){i&=~tf,i&=~Zs,e.suspendedLanes|=i,e.pingedLanes&=~i,u&&(e.warmLanes|=i),u=e.expirationTimes;for(var d=i;0<d;){var m=31-we(d),v=1<<m;u[m]=-1,d&=~v}l!==0&&wr(e,l,i)}function eu(){return(Pt&6)===0?(cl(0),!1):!0}function lf(){if(bt!==null){if(Ut===0)var e=bt.return;else e=bt,ui=ks=null,Th(e),Ia=null,tl=0,e=bt;for(;e!==null;)Vm(e.alternate,e),e=e.return;bt=null}}function Ba(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,sx(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),lf(),Kt=e,bt=l=ri(e.current,null),Mt=i,Ut=0,rn=null,Ji=!1,Pa=Gi(e,i),Jh=!1,Ua=yn=tf=Zs=ts=ee=0,Ye=ol=null,ef=!1,(i&8)!==0&&(i|=i&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=i;0<u;){var d=31-we(u),m=1<<d;i|=e[d],u&=~m}return pi=i,To(),l}function __(e,i){St=null,N.H=Bo,i===Xr||i===Do?(i=N0(),Ut=3):i===L0?(i=N0(),Ut=4):Ut=i===Im?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,rn=i,bt===null&&(ee=1,Ko(e,dn(i,e.current)))}function p_(){var e=N.H;return N.H=Bo,e===null?Bo:e}function y_(){var e=N.A;return N.A=Pv,e}function of(){ee=4,Ji||(Mt&4194048)!==Mt&&pn.current!==null||(Pa=!0),(ts&134217727)===0&&(Zs&134217727)===0||Kt===null||is(Kt,Mt,yn,!1)}function uf(e,i,l){var u=Pt;Pt|=2;var d=p_(),m=y_();(Kt!==e||Mt!==i)&&(tu=null,Ba(e,i)),i=!1;var v=ee;t:do try{if(Ut!==0&&bt!==null){var S=bt,A=rn;switch(Ut){case 8:lf(),v=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(i=!0);var P=Ut;if(Ut=0,rn=null,Za(e,S,A,P),l&&Pa){v=0;break t}break;default:P=Ut,Ut=0,rn=null,Za(e,S,A,P)}}Fv(),v=ee;break}catch(X){__(e,X)}while(!0);return i&&e.shellSuspendCounter++,ui=ks=null,Pt=u,N.H=d,N.A=m,bt===null&&(Kt=null,Mt=0,To()),v}function Fv(){for(;bt!==null;)v_(bt)}function Bv(e,i){var l=Pt;Pt|=2;var u=p_(),d=y_();Kt!==e||Mt!==i?(tu=null,Jo=Se()+500,Ba(e,i)):Pa=Gi(e,i);t:do try{if(Ut!==0&&bt!==null){i=bt;var m=rn;e:switch(Ut){case 1:Ut=0,rn=null,Za(e,i,m,1);break;case 2:case 9:if(O0(m)){Ut=0,rn=null,x_(i);break}i=function(){Ut!==2&&Ut!==9||Kt!==e||(Ut=7),Hn(e)},m.then(i,i);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:O0(m)?(Ut=0,rn=null,x_(i)):(Ut=0,rn=null,Za(e,i,m,7));break;case 5:var v=null;switch(bt.tag){case 26:v=bt.memoizedState;case 5:case 27:var S=bt;if(!v||ep(v)){Ut=0,rn=null;var A=S.sibling;if(A!==null)bt=A;else{var P=S.return;P!==null?(bt=P,nu(P)):bt=null}break e}}Ut=0,rn=null,Za(e,i,m,5);break;case 6:Ut=0,rn=null,Za(e,i,m,6);break;case 8:lf(),ee=6;break t;default:throw Error(s(462))}}Zv();break}catch(X){__(e,X)}while(!0);return ui=ks=null,N.H=u,N.A=d,Pt=l,bt!==null?0:(Kt=null,Mt=0,To(),ee)}function Zv(){for(;bt!==null&&!Ue();)v_(bt)}function v_(e){var i=Hm(e.alternate,e,pi);e.memoizedProps=e.pendingProps,i===null?nu(e):bt=i}function x_(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Gm(l,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Gm(l,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:Th(i);default:Vm(l,i),i=bt=E0(i,pi),i=Hm(l,i,pi)}e.memoizedProps=e.pendingProps,i===null?nu(e):bt=i}function Za(e,i,l,u){ui=ks=null,Th(i),Ia=null,tl=0;var d=i.return;try{if(Dv(e,d,i,l,Mt)){ee=1,Ko(e,dn(l,e.current)),bt=null;return}}catch(m){if(d!==null)throw bt=d,m;ee=1,Ko(e,dn(l,e.current)),bt=null;return}i.flags&32768?(It||u===1?e=!0:Pa||(Mt&536870912)!==0?e=!1:(Ji=e=!0,(u===2||u===9||u===3||u===6)&&(u=pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),E_(i,e)):nu(i)}function nu(e){var i=e;do{if((i.flags&32768)!==0){E_(i,Ji);return}e=i.return;var l=Iv(i.alternate,i,pi);if(l!==null){bt=l;return}if(i=i.sibling,i!==null){bt=i;return}bt=i=e}while(i!==null);ee===0&&(ee=5)}function E_(e,i){do{var l=zv(e.alternate,e);if(l!==null){l.flags&=32767,bt=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){bt=e;return}bt=e=l}while(e!==null);ee=6,bt=null}function S_(e,i,l,u,d,m,v,S,A){e.cancelPendingCommit=null;do iu();while(Re!==0);if((Pt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=$c,co(e,l,m,v,S,A),e===Kt&&(bt=Kt=null,Mt=0),Ga=i,ns=e,Fa=l,sf=m,af=d,f_=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kv(Cn,function(){return w_(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=N.T,N.T=null,d=q.p,q.p=2,v=Pt,Pt|=4;try{jv(e,i,l)}finally{Pt=v,q.p=d,N.T=u}}Re=1,T_(),R_(),b_()}}function T_(){if(Re===1){Re=0;var e=ns,i=Ga,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var u=q.p;q.p=2;var d=Pt;Pt|=4;try{a_(i,e);var m=Ef,v=h0(e.containerInfo),S=m.focusedElem,A=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&c0(S.ownerDocument.documentElement,S)){if(A!==null&&Kc(S)){var P=A.start,X=A.end;if(X===void 0&&(X=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(X,S.value.length);else{var Q=S.ownerDocument||document,G=Q&&Q.defaultView||window;if(G.getSelection){var F=G.getSelection(),_t=S.textContent.length,gt=Math.min(A.start,_t),Yt=A.end===void 0?gt:Math.min(A.end,_t);!F.extend&&gt>Yt&&(v=Yt,Yt=gt,gt=v);var I=u0(S,gt),L=u0(S,Yt);if(I&&L&&(F.rangeCount!==1||F.anchorNode!==I.node||F.anchorOffset!==I.offset||F.focusNode!==L.node||F.focusOffset!==L.offset)){var k=Q.createRange();k.setStart(I.node,I.offset),F.removeAllRanges(),gt>Yt?(F.addRange(k),F.extend(L.node,L.offset)):(k.setEnd(L.node,L.offset),F.addRange(k))}}}}for(Q=[],F=S;F=F.parentNode;)F.nodeType===1&&Q.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var V=Q[S];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}mu=!!xf,Ef=xf=null}finally{Pt=d,q.p=u,N.T=l}}e.current=i,Re=2}}function R_(){if(Re===2){Re=0;var e=ns,i=Ga,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var u=q.p;q.p=2;var d=Pt;Pt|=4;try{e_(e,i.alternate,i)}finally{Pt=d,q.p=u,N.T=l}}Re=3}}function b_(){if(Re===4||Re===3){Re=0,cn();var e=ns,i=Ga,l=Fa,u=f_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Re=5:(Re=0,Ga=ns=null,C_(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(es=null),Ae(l),i=i.stateNode,de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(Un,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=N.T,d=q.p,q.p=2,N.T=null;try{for(var m=e.onRecoverableError,v=0;v<u.length;v++){var S=u[v];m(S.value,{componentStack:S.stack})}}finally{N.T=i,q.p=d}}(Fa&3)!==0&&iu(),Hn(e),d=e.pendingLanes,(l&4194090)!==0&&(d&42)!==0?e===rf?ul++:(ul=0,rf=e):ul=0,cl(0)}}function C_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Zr(i)))}function iu(e){return T_(),R_(),b_(),w_()}function w_(){if(Re!==5)return!1;var e=ns,i=sf;sf=0;var l=Ae(Fa),u=N.T,d=q.p;try{q.p=32>l?32:l,N.T=null,l=af,af=null;var m=ns,v=Fa;if(Re=0,Ga=ns=null,Fa=0,(Pt&6)!==0)throw Error(s(331));var S=Pt;if(Pt|=4,c_(m.current),l_(m,m.current,v,l),Pt=S,cl(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(Un,m)}catch{}return!0}finally{q.p=d,N.T=u,C_(e,i)}}function A_(e,i,l){i=dn(l,i),i=kh(e.stateNode,i,2),e=Hi(e,i,2),e!==null&&(wn(e,2),Hn(e))}function Xt(e,i,l){if(e.tag===3)A_(e,e,l);else for(;i!==null;){if(i.tag===3){A_(i,e,l);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(es===null||!es.has(u))){e=dn(l,e),l=Dm(2),u=Hi(i,l,2),u!==null&&(Nm(l,u,i,e),wn(u,2),Hn(u));break}}i=i.return}}function cf(e,i,l){var u=e.pingCache;if(u===null){u=e.pingCache=new Uv;var d=new Set;u.set(i,d)}else d=u.get(i),d===void 0&&(d=new Set,u.set(i,d));d.has(l)||(Jh=!0,d.add(l),e=Yv.bind(null,e,i,l),i.then(e,e))}function Yv(e,i,l){var u=e.pingCache;u!==null&&u.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Kt===e&&(Mt&l)===l&&(ee===4||ee===3&&(Mt&62914560)===Mt&&300>Se()-nf?(Pt&2)===0&&Ba(e,0):tf|=l,Ua===Mt&&(Ua=0)),Hn(e)}function M_(e,i){i===0&&(i=Fi()),e=Ra(e,i),e!==null&&(wn(e,i),Hn(e))}function Xv(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),M_(e,l)}function Hv(e,i){var l=0;switch(e.tag){case 13:var u=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),M_(e,l)}function Kv(e,i){return ni(e,i)}var su=null,Ya=null,hf=!1,au=!1,ff=!1,Ys=0;function Hn(e){e!==Ya&&e.next===null&&(Ya===null?su=Ya=e:Ya=Ya.next=e),au=!0,hf||(hf=!0,qv())}function cl(e,i){if(!ff&&au){ff=!0;do for(var l=!1,u=su;u!==null;){if(e!==0){var d=u.pendingLanes;if(d===0)var m=0;else{var v=u.suspendedLanes,S=u.pingedLanes;m=(1<<31-we(42|e)+1)-1,m&=d&~(v&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,N_(u,m))}else m=Mt,m=Ui(u,u===Kt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Gi(u,m)||(l=!0,N_(u,m));u=u.next}while(l);ff=!1}}function Vv(){L_()}function L_(){au=hf=!1;var e=0;Ys!==0&&(ix()&&(e=Ys),Ys=0);for(var i=Se(),l=null,u=su;u!==null;){var d=u.next,m=O_(u,i);m===0?(u.next=null,l===null?su=d:l.next=d,d===null&&(Ya=l)):(l=u,(e!==0||(m&3)!==0)&&(au=!0)),u=d}cl(e)}function O_(e,i){for(var l=e.suspendedLanes,u=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var v=31-we(m),S=1<<v,A=d[v];A===-1?((S&l)===0||(S&u)!==0)&&(d[v]=Cc(S,i)):A<=i&&(e.expiredLanes|=S),m&=~S}if(i=Kt,l=Mt,l=Ui(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,l===0||e===i&&(Ut===2||Ut===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&bn(u),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Gi(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(u!==null&&bn(u),Ae(l)){case 2:case 8:l=Pn;break;case 32:l=Cn;break;case 268435456:l=ie;break;default:l=Cn}return u=D_.bind(null,e),l=ni(l,u),e.callbackPriority=i,e.callbackNode=l,i}return u!==null&&u!==null&&bn(u),e.callbackPriority=2,e.callbackNode=null,2}function D_(e,i){if(Re!==0&&Re!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(iu()&&e.callbackNode!==l)return null;var u=Mt;return u=Ui(e,e===Kt?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(g_(e,u,i),O_(e,Se()),e.callbackNode!=null&&e.callbackNode===l?D_.bind(null,e):null)}function N_(e,i){if(iu())return null;g_(e,i,!0)}function qv(){ax(function(){(Pt&6)!==0?ni(ki,Vv):L_()})}function df(){return Ys===0&&(Ys=ca()),Ys}function I_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_o(""+e)}function z_(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function Wv(e,i,l,u,d){if(i==="submit"&&l&&l.stateNode===d){var m=I_((d[Rt]||null).action),v=u.submitter;v&&(i=(i=v[Rt]||null)?I_(i.formAction):v.getAttribute("formAction"),i!==null&&(m=i,v=null));var S=new xo("action","action",null,u,d);e.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ys!==0){var A=v?z_(d,v):new FormData(d);Dh(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(S.preventDefault(),A=v?z_(d,v):new FormData(d),Dh(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var gf=0;gf<Qc.length;gf++){var mf=Qc[gf],Qv=mf.toLowerCase(),$v=mf[0].toUpperCase()+mf.slice(1);Mn(Qv,"on"+$v)}Mn(g0,"onAnimationEnd"),Mn(m0,"onAnimationIteration"),Mn(_0,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(mv,"onTransitionRun"),Mn(_v,"onTransitionStart"),Mn(pv,"onTransitionCancel"),Mn(p0,"onTransitionEnd"),ga("onMouseEnter",["mouseout","mouseover"]),ga("onMouseLeave",["mouseout","mouseover"]),ga("onPointerEnter",["pointerout","pointerover"]),ga("onPointerLeave",["pointerout","pointerover"]),As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),As("onBeforeInput",["compositionend","keypress","textInput","paste"]),As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function j_(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var u=e[l],d=u.event;u=u.listeners;t:{var m=void 0;if(i)for(var v=u.length-1;0<=v;v--){var S=u[v],A=S.instance,P=S.currentTarget;if(S=S.listener,A!==m&&d.isPropagationStopped())break t;m=S,d.currentTarget=P;try{m(d)}catch(X){Ho(X)}d.currentTarget=null,m=A}else for(v=0;v<u.length;v++){if(S=u[v],A=S.instance,P=S.currentTarget,S=S.listener,A!==m&&d.isPropagationStopped())break t;m=S,d.currentTarget=P;try{m(d)}catch(X){Ho(X)}d.currentTarget=null,m=A}}}}function Ct(e,i){var l=i[tn];l===void 0&&(l=i[tn]=new Set);var u=e+"__bubble";l.has(u)||(k_(i,e,2,!1),l.add(u))}function _f(e,i,l){var u=0;i&&(u|=4),k_(l,e,u,i)}var ru="_reactListening"+Math.random().toString(36).slice(2);function pf(e){if(!e[ru]){e[ru]=!0,Lg.forEach(function(l){l!=="selectionchange"&&(Jv.has(l)||_f(l,!1,e),_f(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[ru]||(i[ru]=!0,_f("selectionchange",!1,i))}}function k_(e,i,l,u){switch(lp(i)){case 2:var d=Cx;break;case 8:d=wx;break;default:d=Of}l=d.bind(null,i,l,e),d=void 0,!Pc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),u?d!==void 0?e.addEventListener(i,l,{capture:!0,passive:d}):e.addEventListener(i,l,!0):d!==void 0?e.addEventListener(i,l,{passive:d}):e.addEventListener(i,l,!1)}function yf(e,i,l,u,d){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===d)break;if(v===4)for(v=u.return;v!==null;){var A=v.tag;if((A===3||A===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;S!==null;){if(v=ha(S),v===null)return;if(A=v.tag,A===5||A===6||A===26||A===27){u=m=v;continue t}S=S.parentNode}}u=u.return}Yg(function(){var P=m,X=jc(l),Q=[];t:{var G=y0.get(e);if(G!==void 0){var F=xo,_t=e;switch(e){case"keypress":if(yo(l)===0)break t;case"keydown":case"keyup":F=K2;break;case"focusin":_t="focus",F=Bc;break;case"focusout":_t="blur",F=Bc;break;case"beforeblur":case"afterblur":F=Bc;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Kg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=z2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=W2;break;case g0:case m0:case _0:F=P2;break;case p0:F=$2;break;case"scroll":case"scrollend":F=N2;break;case"wheel":F=tv;break;case"copy":case"cut":case"paste":F=G2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qg;break;case"toggle":case"beforetoggle":F=nv}var gt=(i&4)!==0,Yt=!gt&&(e==="scroll"||e==="scrollend"),I=gt?G!==null?G+"Capture":null:G;gt=[];for(var L=P,k;L!==null;){var V=L;if(k=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||k===null||I===null||(V=Lr(L,I),V!=null&&gt.push(fl(L,V,k))),Yt)break;L=L.return}0<gt.length&&(G=new F(G,_t,null,l,X),Q.push({event:G,listeners:gt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",G&&l!==zc&&(_t=l.relatedTarget||l.fromElement)&&(ha(_t)||_t[Jt]))break t;if((F||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,F?(_t=l.relatedTarget||l.toElement,F=P,_t=_t?ha(_t):null,_t!==null&&(Yt=o(_t),gt=_t.tag,_t!==Yt||gt!==5&&gt!==27&&gt!==6)&&(_t=null)):(F=null,_t=P),F!==_t)){if(gt=Kg,V="onMouseLeave",I="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qg,V="onPointerLeave",I="onPointerEnter",L="pointer"),Yt=F==null?G:Mr(F),k=_t==null?G:Mr(_t),G=new gt(V,L+"leave",F,l,X),G.target=Yt,G.relatedTarget=k,V=null,ha(X)===P&&(gt=new gt(I,L+"enter",_t,l,X),gt.target=k,gt.relatedTarget=Yt,V=gt),Yt=V,F&&_t)e:{for(gt=F,I=_t,L=0,k=gt;k;k=Xa(k))L++;for(k=0,V=I;V;V=Xa(V))k++;for(;0<L-k;)gt=Xa(gt),L--;for(;0<k-L;)I=Xa(I),k--;for(;L--;){if(gt===I||I!==null&&gt===I.alternate)break e;gt=Xa(gt),I=Xa(I)}gt=null}else gt=null;F!==null&&P_(Q,G,F,gt,!1),_t!==null&&Yt!==null&&P_(Q,Yt,_t,gt,!0)}}t:{if(G=P?Mr(P):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ot=i0;else if(e0(G))if(s0)ot=fv;else{ot=cv;var Tt=uv}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&Ic(P.elementType)&&(ot=i0):ot=hv;if(ot&&(ot=ot(e,P))){n0(Q,ot,l,X);break t}Tt&&Tt(e,G,P),e==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&Nc(G,"number",G.value)}switch(Tt=P?Mr(P):window,e){case"focusin":(e0(Tt)||Tt.contentEditable==="true")&&(Ea=Tt,Vc=P,Pr=null);break;case"focusout":Pr=Vc=Ea=null;break;case"mousedown":qc=!0;break;case"contextmenu":case"mouseup":case"dragend":qc=!1,f0(Q,l,X);break;case"selectionchange":if(gv)break;case"keydown":case"keyup":f0(Q,l,X)}var ct;if(Yc)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else xa?Jg(e,l)&&(mt="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(mt="onCompositionStart");mt&&(Wg&&l.locale!=="ko"&&(xa||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&xa&&(ct=Xg()):(Bi=X,Uc="value"in Bi?Bi.value:Bi.textContent,xa=!0)),Tt=lu(P,mt),0<Tt.length&&(mt=new Vg(mt,e,null,l,X),Q.push({event:mt,listeners:Tt}),ct?mt.data=ct:(ct=t0(l),ct!==null&&(mt.data=ct)))),(ct=sv?av(e,l):rv(e,l))&&(mt=lu(P,"onBeforeInput"),0<mt.length&&(Tt=new Vg("onBeforeInput","beforeinput",null,l,X),Q.push({event:Tt,listeners:mt}),Tt.data=ct)),Wv(Q,e,P,l,X)}j_(Q,i)})}function fl(e,i,l){return{instance:e,listener:i,currentTarget:l}}function lu(e,i){for(var l=i+"Capture",u=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Lr(e,l),d!=null&&u.unshift(fl(e,d,m)),d=Lr(e,i),d!=null&&u.push(fl(e,d,m))),e.tag===3)return u;e=e.return}return[]}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function P_(e,i,l,u,d){for(var m=i._reactName,v=[];l!==null&&l!==u;){var S=l,A=S.alternate,P=S.stateNode;if(S=S.tag,A!==null&&A===u)break;S!==5&&S!==26&&S!==27||P===null||(A=P,d?(P=Lr(l,m),P!=null&&v.unshift(fl(l,P,A))):d||(P=Lr(l,m),P!=null&&v.push(fl(l,P,A)))),l=l.return}v.length!==0&&e.push({event:i,listeners:v})}var tx=/\r\n?/g,ex=/\u0000|\uFFFD/g;function U_(e){return(typeof e=="string"?e:""+e).replace(tx,`
`).replace(ex,"")}function G_(e,i){return i=U_(i),U_(e)===i}function ou(){}function Zt(e,i,l,u,d,m){switch(l){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||pa(e,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&pa(e,""+u);break;case"className":fo(e,"class",u);break;case"tabIndex":fo(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":fo(e,l,u);break;case"style":Bg(e,u,m);break;case"data":if(i!=="object"){fo(e,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=_o(""+u),e.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(i!=="input"&&Zt(e,i,"name",d.name,d,null),Zt(e,i,"formEncType",d.formEncType,d,null),Zt(e,i,"formMethod",d.formMethod,d,null),Zt(e,i,"formTarget",d.formTarget,d,null)):(Zt(e,i,"encType",d.encType,d,null),Zt(e,i,"method",d.method,d,null),Zt(e,i,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(l);break}u=_o(""+u),e.setAttribute(l,u);break;case"onClick":u!=null&&(e.onclick=ou);break;case"onScroll":u!=null&&Ct("scroll",e);break;case"onScrollEnd":u!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}l=_o(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""+u):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":u===!0?e.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(l,u):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(l,u):e.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(l):e.setAttribute(l,u);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ho(e,"popover",u);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ho(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=O2.get(l)||l,ho(e,l,u))}}function vf(e,i,l,u,d,m){switch(l){case"style":Bg(e,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof u=="string"?pa(e,u):(typeof u=="number"||typeof u=="bigint")&&pa(e,""+u);break;case"onScroll":u!=null&&Ct("scroll",e);break;case"onScrollEnd":u!=null&&Ct("scrollend",e);break;case"onClick":u!=null&&(e.onclick=ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Og.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),i=l.slice(2,d?l.length-7:void 0),m=e[Rt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(i,m,d),typeof u=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,u,d);break t}l in e?e[l]=u:u===!0?e.setAttribute(l,""):ho(e,l,u)}}}function be(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var u=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var v=l[m];if(v!=null)switch(m){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,m,v,l,null)}}d&&Zt(e,i,"srcSet",l.srcSet,l,null),u&&Zt(e,i,"src",l.src,l,null);return;case"input":Ct("invalid",e);var S=m=v=d=null,A=null,P=null;for(u in l)if(l.hasOwnProperty(u)){var X=l[u];if(X!=null)switch(u){case"name":d=X;break;case"type":v=X;break;case"checked":A=X;break;case"defaultChecked":P=X;break;case"value":m=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Zt(e,i,u,X,l,null)}}Pg(e,m,S,A,P,v,d,!1),go(e);return;case"select":Ct("invalid",e),u=v=m=null;for(d in l)if(l.hasOwnProperty(d)&&(S=l[d],S!=null))switch(d){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:Zt(e,i,d,S,l,null)}i=m,l=v,e.multiple=!!u,i!=null?_a(e,!!u,i,!1):l!=null&&_a(e,!!u,l,!0);return;case"textarea":Ct("invalid",e),m=d=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":d=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Zt(e,i,v,S,l,null)}Gg(e,u,d,m),go(e);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(u=l[A],u!=null))switch(A){case"selected":e.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(e,i,A,u,l,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(u=0;u<hl.length;u++)Ct(hl[u],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,P,u,l,null)}return;default:if(Ic(i)){for(X in l)l.hasOwnProperty(X)&&(u=l[X],u!==void 0&&vf(e,i,X,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&Zt(e,i,S,u,l,null))}function nx(e,i,l,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,S=null,A=null,P=null,X=null;for(F in l){var Q=l[F];if(l.hasOwnProperty(F)&&Q!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":A=Q;default:u.hasOwnProperty(F)||Zt(e,i,F,null,u,Q)}}for(var G in u){var F=u[G];if(Q=l[G],u.hasOwnProperty(G)&&(F!=null||Q!=null))switch(G){case"type":m=F;break;case"name":d=F;break;case"checked":P=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Q&&Zt(e,i,G,F,u,Q)}}Dc(e,v,S,A,P,X,m,d);return;case"select":F=v=S=G=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":F=A;default:u.hasOwnProperty(m)||Zt(e,i,m,null,u,A)}for(d in u)if(m=u[d],A=l[d],u.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":G=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==A&&Zt(e,i,d,m,u,A)}i=S,l=v,u=F,G!=null?_a(e,!!l,G,!1):!!u!=!!l&&(i!=null?_a(e,!!l,i,!0):_a(e,!!l,l?[]:"",!1));return;case"textarea":F=G=null;for(S in l)if(d=l[S],l.hasOwnProperty(S)&&d!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Zt(e,i,S,null,u,d)}for(v in u)if(d=u[v],m=l[v],u.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":G=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&Zt(e,i,v,d,u,m)}Ug(e,G,F);return;case"option":for(var _t in l)if(G=l[_t],l.hasOwnProperty(_t)&&G!=null&&!u.hasOwnProperty(_t))switch(_t){case"selected":e.selected=!1;break;default:Zt(e,i,_t,null,u,G)}for(A in u)if(G=u[A],F=l[A],u.hasOwnProperty(A)&&G!==F&&(G!=null||F!=null))switch(A){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Zt(e,i,A,G,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in l)G=l[gt],l.hasOwnProperty(gt)&&G!=null&&!u.hasOwnProperty(gt)&&Zt(e,i,gt,null,u,G);for(P in u)if(G=u[P],F=l[P],u.hasOwnProperty(P)&&G!==F&&(G!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Zt(e,i,P,G,u,F)}return;default:if(Ic(i)){for(var Yt in l)G=l[Yt],l.hasOwnProperty(Yt)&&G!==void 0&&!u.hasOwnProperty(Yt)&&vf(e,i,Yt,void 0,u,G);for(X in u)G=u[X],F=l[X],!u.hasOwnProperty(X)||G===F||G===void 0&&F===void 0||vf(e,i,X,G,u,F);return}}for(var I in l)G=l[I],l.hasOwnProperty(I)&&G!=null&&!u.hasOwnProperty(I)&&Zt(e,i,I,null,u,G);for(Q in u)G=u[Q],F=l[Q],!u.hasOwnProperty(Q)||G===F||G==null&&F==null||Zt(e,i,Q,G,u,F)}var xf=null,Ef=null;function uu(e){return e.nodeType===9?e:e.ownerDocument}function F_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Sf(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tf=null;function ix(){var e=window.event;return e&&e.type==="popstate"?e===Tf?!1:(Tf=e,!0):(Tf=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,sx=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,ax=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(e){return Y_.resolve(null).then(e).catch(rx)}:Z_;function rx(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function X_(e,i){var l=i,u=0,d=0;do{var m=l.nextSibling;if(e.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(0<u&&8>u){l=u;var v=e.ownerDocument;if(l&1&&dl(v.documentElement),l&2&&dl(v.body),l&4)for(l=v.head,dl(l),v=l.firstChild;v;){var S=v.nextSibling,A=v.nodeName;v[Ar]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=S}}if(d===0){e.removeChild(m),El(i);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=m}while(l);El(i)}function Rf(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rf(l),Ac(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function lx(e,i,l,u){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[Ar])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function ox(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=On(e.nextSibling),e===null))return null;return e}function bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function ux(e,i){var l=e.ownerDocument;if(e.data!=="$?"||l.readyState==="complete")i();else{var u=function(){i(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function On(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var Cf=null;function H_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return e;i--}else l==="/$"&&i++}e=e.previousSibling}return null}function K_(e,i,l){switch(i=uu(l),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function dl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ac(e)}var vn=new Map,V_=new Set;function cu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=q.d;q.d={f:cx,r:hx,D:fx,C:dx,L:gx,m:mx,X:px,S:_x,M:yx};function cx(){var e=yi.f(),i=eu();return e||i}function hx(e){var i=fa(e);i!==null&&i.tag===5&&i.type==="form"?gm(i):yi.r(e)}var Ha=typeof document>"u"?null:document;function q_(e,i,l){var u=Ha;if(u&&typeof i=="string"&&i){var d=fn(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),V_.has(d)||(V_.add(d),e={rel:e,crossOrigin:l,href:i},u.querySelector(d)===null&&(i=u.createElement("link"),be(i,"link",e),me(i),u.head.appendChild(i)))}}function fx(e){yi.D(e),q_("dns-prefetch",e,null)}function dx(e,i){yi.C(e,i),q_("preconnect",e,i)}function gx(e,i,l){yi.L(e,i,l);var u=Ha;if(u&&e&&i){var d='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+fn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+fn(l.imageSizes)+'"]')):d+='[href="'+fn(e)+'"]';var m=d;switch(i){case"style":m=Ka(e);break;case"script":m=Va(e)}vn.has(m)||(e=_({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),vn.set(m,e),u.querySelector(d)!==null||i==="style"&&u.querySelector(gl(m))||i==="script"&&u.querySelector(ml(m))||(i=u.createElement("link"),be(i,"link",e),me(i),u.head.appendChild(i)))}}function mx(e,i){yi.m(e,i);var l=Ha;if(l&&e){var u=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+fn(u)+'"][href="'+fn(e)+'"]',m=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Va(e)}if(!vn.has(m)&&(e=_({rel:"modulepreload",href:e},i),vn.set(m,e),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ml(m)))return}u=l.createElement("link"),be(u,"link",e),me(u),l.head.appendChild(u)}}}function _x(e,i,l){yi.S(e,i,l);var u=Ha;if(u&&e){var d=da(u).hoistableStyles,m=Ka(e);i=i||"default";var v=d.get(m);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(gl(m)))S.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":i},l),(l=vn.get(m))&&wf(e,l);var A=v=u.createElement("link");me(A),be(A,"link",e),A._p=new Promise(function(P,X){A.onload=P,A.onerror=X}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,hu(v,i,u)}v={type:"stylesheet",instance:v,count:1,state:S},d.set(m,v)}}}function px(e,i){yi.X(e,i);var l=Ha;if(l&&e){var u=da(l).hoistableScripts,d=Va(e),m=u.get(d);m||(m=l.querySelector(ml(d)),m||(e=_({src:e,async:!0},i),(i=vn.get(d))&&Af(e,i),m=l.createElement("script"),me(m),be(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function yx(e,i){yi.M(e,i);var l=Ha;if(l&&e){var u=da(l).hoistableScripts,d=Va(e),m=u.get(d);m||(m=l.querySelector(ml(d)),m||(e=_({src:e,async:!0,type:"module"},i),(i=vn.get(d))&&Af(e,i),m=l.createElement("script"),me(m),be(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(d,m))}}function W_(e,i,l,u){var d=(d=ut.current)?cu(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=Ka(l.href),l=da(d).hoistableStyles,u=l.get(i),u||(u={type:"style",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ka(l.href);var m=da(d).hoistableStyles,v=m.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,v),(m=d.querySelector(gl(e)))&&!m._p&&(v.instance=m,v.state.loading=5),vn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vn.set(e,l),m||vx(d,e,l,v.state))),i&&u===null)throw Error(s(528,""));return v}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(l),l=da(d).hoistableScripts,u=l.get(i),u||(u={type:"script",instance:null,count:0,state:null},l.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ka(e){return'href="'+fn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function Q_(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function vx(e,i,l,u){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=e.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),be(i,"link",l),me(i),e.head.appendChild(i))}function Va(e){return'[src="'+fn(e)+'"]'}function ml(e){return"script[async]"+e}function $_(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var u=e.querySelector('style[data-href~="'+fn(l.href)+'"]');if(u)return i.instance=u,me(u),u;var d=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),me(u),be(u,"style",d),hu(u,l.precedence,e),i.instance=u;case"stylesheet":d=Ka(l.href);var m=e.querySelector(gl(d));if(m)return i.state.loading|=4,i.instance=m,me(m),m;u=Q_(l),(d=vn.get(d))&&wf(u,d),m=(e.ownerDocument||e).createElement("link"),me(m);var v=m;return v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),be(m,"link",u),i.state.loading|=4,hu(m,l.precedence,e),i.instance=m;case"script":return m=Va(l.src),(d=e.querySelector(ml(m)))?(i.instance=d,me(d),d):(u=l,(d=vn.get(m))&&(u=_({},l),Af(u,d)),e=e.ownerDocument||e,d=e.createElement("script"),me(d),be(d,"link",u),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,hu(u,l.precedence,e));return i.instance}function hu(e,i,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,m=d,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===i)m=S;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function wf(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Af(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var fu=null;function J_(e,i,l){if(fu===null){var u=new Map,d=fu=new Map;d.set(l,u)}else d=fu,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(e))return u;for(u.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[Ar]||m[Ht]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(i)||"";v=e+v;var S=u.get(v);S?S.push(m):u.set(v,[m])}}return u}function tp(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function xx(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ep(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var _l=null;function Ex(){}function Sx(e,i,l){if(_l===null)throw Error(s(475));var u=_l;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=Ka(l.href),m=e.querySelector(gl(d));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(u.count++,u=du.bind(u),e.then(u,u)),i.state.loading|=4,i.instance=m,me(m);return}m=e.ownerDocument||e,l=Q_(l),(d=vn.get(d))&&wf(l,d),m=m.createElement("link"),me(m);var v=m;v._p=new Promise(function(S,A){v.onload=S,v.onerror=A}),be(m,"link",l),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=du.bind(u),e.addEventListener("load",i),e.addEventListener("error",i))}}function Tx(){if(_l===null)throw Error(s(475));var e=_l;return e.stylesheets&&e.count===0&&Mf(e,e.stylesheets),0<e.count?function(i){var l=setTimeout(function(){if(e.stylesheets&&Mf(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(l)}}:null}function du(){if(this.count--,this.count===0){if(this.stylesheets)Mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gu=null;function Mf(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gu=new Map,i.forEach(Rx,e),gu=null,du.call(e))}function Rx(e,i){if(!(i.state.loading&4)){var l=gu.get(e);if(l)var u=l.get(null);else{l=new Map,gu.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}d=i.instance,v=d.getAttribute("data-precedence"),m=l.get(v)||u,m===u&&l.set(null,d),l.set(v,d),this.count++,u=du.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var pl={$$typeof:z,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function bx(e,i,l,u,d,m,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function np(e,i,l,u,d,m,v,S,A,P,X,Q){return e=new bx(e,i,l,v,S,A,P,Q),i=1,m===!0&&(i|=24),m=nn(3,null,null,i),e.current=m,m.stateNode=e,i=uh(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:l,cache:i},dh(m),e}function ip(e){return e?(e=ba,e):ba}function sp(e,i,l,u,d,m){d=ip(d),u.context===null?u.context=d:u.pendingContext=d,u=Xi(i),u.payload={element:l},m=m===void 0?null:m,m!==null&&(u.callback=m),l=Hi(e,u,i),l!==null&&(on(l,e,i),Kr(l,e,i))}function ap(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function Lf(e,i){ap(e,i),(e=e.alternate)&&ap(e,i)}function rp(e){if(e.tag===13){var i=Ra(e,67108864);i!==null&&on(i,e,67108864),Lf(e,67108864)}}var mu=!0;function Cx(e,i,l,u){var d=N.T;N.T=null;var m=q.p;try{q.p=2,Of(e,i,l,u)}finally{q.p=m,N.T=d}}function wx(e,i,l,u){var d=N.T;N.T=null;var m=q.p;try{q.p=8,Of(e,i,l,u)}finally{q.p=m,N.T=d}}function Of(e,i,l,u){if(mu){var d=Df(u);if(d===null)yf(e,i,u,_u,l),op(e,u);else if(Mx(d,e,i,l,u))u.stopPropagation();else if(op(e,u),i&4&&-1<Ax.indexOf(e)){for(;d!==null;){var m=fa(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Fn(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var A=1<<31-we(v);S.entanglements[1]|=A,v&=~A}Hn(m),(Pt&6)===0&&(Jo=Se()+500,cl(0))}}break;case 13:S=Ra(m,2),S!==null&&on(S,m,2),eu(),Lf(m,2)}if(m=Df(u),m===null&&yf(e,i,u,_u,l),m===d)break;d=m}d!==null&&u.stopPropagation()}else yf(e,i,u,null,l)}}function Df(e){return e=jc(e),Nf(e)}var _u=null;function Nf(e){if(_u=null,e=ha(e),e!==null){var i=o(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=c(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return _u=e,null}function lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ji()){case ki:return 2;case Pn:return 8;case Cn:case Pi:return 32;case ie:return 268435456;default:return 32}default:return 32}}var If=!1,as=null,rs=null,ls=null,yl=new Map,vl=new Map,os=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function op(e,i){switch(e){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function xl(e,i,l,u,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:l,eventSystemFlags:u,nativeEvent:m,targetContainers:[d]},i!==null&&(i=fa(i),i!==null&&rp(i)),e):(e.eventSystemFlags|=u,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function Mx(e,i,l,u,d){switch(i){case"focusin":return as=xl(as,e,i,l,u,d),!0;case"dragenter":return rs=xl(rs,e,i,l,u,d),!0;case"mouseover":return ls=xl(ls,e,i,l,u,d),!0;case"pointerover":var m=d.pointerId;return yl.set(m,xl(yl.get(m)||null,e,i,l,u,d)),!0;case"gotpointercapture":return m=d.pointerId,vl.set(m,xl(vl.get(m)||null,e,i,l,u,d)),!0}return!1}function up(e){var i=ha(e.target);if(i!==null){var l=o(i);if(l!==null){if(i=l.tag,i===13){if(i=c(l),i!==null){e.blockedOn=i,Ge(e.priority,function(){if(l.tag===13){var u=ln();u=An(u);var d=Ra(l,u);d!==null&&on(d,l,u),Lf(l,u)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pu(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Df(e.nativeEvent);if(l===null){l=e.nativeEvent;var u=new l.constructor(l.type,l);zc=u,l.target.dispatchEvent(u),zc=null}else return i=fa(l),i!==null&&rp(i),e.blockedOn=l,!1;i.shift()}return!0}function cp(e,i,l){pu(e)&&l.delete(i)}function Lx(){If=!1,as!==null&&pu(as)&&(as=null),rs!==null&&pu(rs)&&(rs=null),ls!==null&&pu(ls)&&(ls=null),yl.forEach(cp),vl.forEach(cp)}function yu(e,i){e.blockedOn===i&&(e.blockedOn=null,If||(If=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lx)))}var vu=null;function hp(e){vu!==e&&(vu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){vu===e&&(vu=null);for(var i=0;i<e.length;i+=3){var l=e[i],u=e[i+1],d=e[i+2];if(typeof u!="function"){if(Nf(u||l)===null)continue;break}var m=fa(l);m!==null&&(e.splice(i,3),i-=3,Dh(m,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function El(e){function i(A){return yu(A,e)}as!==null&&yu(as,e),rs!==null&&yu(rs,e),ls!==null&&yu(ls,e),yl.forEach(i),vl.forEach(i);for(var l=0;l<os.length;l++){var u=os[l];u.blockedOn===e&&(u.blockedOn=null)}for(;0<os.length&&(l=os[0],l.blockedOn===null);)up(l),l.blockedOn===null&&os.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],m=l[u+1],v=d[Rt]||null;if(typeof m=="function")v||hp(l);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[Rt]||null)S=v.formAction;else if(Nf(d)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),hp(l)}}}function zf(e){this._internalRoot=e}xu.prototype.render=zf.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,u=ln();sp(l,u,e,i,null,null)},xu.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;sp(e.current,2,null,e,null,null),eu(),i[Jt]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var i=Je();e={blockedOn:null,target:e,priority:i};for(var l=0;l<os.length&&i!==0&&i<os[l].priority;l++);os.splice(l,0,e),l===0&&up(e)}};var fp=t.version;if(fp!=="19.1.1")throw Error(s(527,fp,"19.1.1"));q.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=f(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var Ox={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Un=Eu.inject(Ox),de=Eu}catch{}}return Tl.createRoot=function(e,i){if(!r(e))throw Error(s(299));var l=!1,u="",d=Am,m=Mm,v=Lm,S=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=np(e,1,!1,null,null,l,u,d,m,v,S,null),e[Jt]=i.current,pf(e),new zf(i)},Tl.hydrateRoot=function(e,i,l){if(!r(e))throw Error(s(299));var u=!1,d="",m=Am,v=Mm,S=Lm,A=null,P=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(P=l.formState)),i=np(e,1,!0,i,l??null,u,d,m,v,S,A,P),i.context=ip(null),l=i.current,u=ln(),u=An(u),d=Xi(u),d.callback=null,Hi(l,d,u),l=u,i.current.lanes=l,wn(i,l),Hn(i),e[Jt]=i.current,pf(e),new xu(i)},Tl.version="19.1.1",Tl}var Sp;function Bx(){if(Sp)return Pf.exports;Sp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Pf.exports=Fx(),Pf.exports}var Uy=Bx();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Tp="popstate";function Zx(a={}){function t(s,r){let{pathname:o,search:c,hash:h}=s.location;return pd("",{pathname:o,search:c,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:Pl(r)}return Xx(t,n,null,a)}function $t(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function Jn(a,t){if(!a){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Yx(){return Math.random().toString(36).substring(2,10)}function Rp(a,t){return{usr:a.state,key:a.key,idx:t}}function pd(a,t,n=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof t=="string"?xr(t):t,state:n,key:t&&t.key||s||Yx()}}function Pl({pathname:a="/",search:t="",hash:n=""}){return t&&t!=="?"&&(a+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(a+=n.charAt(0)==="#"?n:"#"+n),a}function xr(a){let t={};if(a){let n=a.indexOf("#");n>=0&&(t.hash=a.substring(n),a=a.substring(0,n));let s=a.indexOf("?");s>=0&&(t.search=a.substring(s),a=a.substring(0,s)),a&&(t.pathname=a)}return t}function Xx(a,t,n,s={}){let{window:r=document.defaultView,v5Compat:o=!1}=s,c=r.history,h="POP",f=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function p(){h="POP";let b=_(),C=b==null?null:b-g;g=b,f&&f({action:h,location:R.location,delta:C})}function y(b,C){h="PUSH";let M=pd(R.location,b,C);g=_()+1;let z=Rp(M,g),D=R.createHref(M);try{c.pushState(z,"",D)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;r.location.assign(D)}o&&f&&f({action:h,location:R.location,delta:1})}function x(b,C){h="REPLACE";let M=pd(R.location,b,C);g=_();let z=Rp(M,g),D=R.createHref(M);c.replaceState(z,"",D),o&&f&&f({action:h,location:R.location,delta:0})}function E(b){return Hx(b)}let R={get action(){return h},get location(){return a(r,c)},listen(b){if(f)throw new Error("A history only accepts one active listener");return r.addEventListener(Tp,p),f=b,()=>{r.removeEventListener(Tp,p),f=null}},createHref(b){return t(r,b)},createURL:E,encodeLocation(b){let C=E(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:y,replace:x,go(b){return c.go(b)}};return R}function Hx(a,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$t(n,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:Pl(a);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Gy(a,t,n="/"){return Kx(a,t,n,!1)}function Kx(a,t,n,s){let r=typeof t=="string"?xr(t):t,o=Li(r.pathname||"/",n);if(o==null)return null;let c=Fy(a);Vx(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=aE(o);h=iE(c[f],g,s)}return h}function Fy(a,t=[],n=[],s="",r=!1){let o=(c,h,f=r,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&f)return;$t(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let p=Ci([s,_.relativePath]),y=n.concat(_);c.children&&c.children.length>0&&($t(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Fy(c.children,t,y,p,f)),!(c.path==null&&!c.index)&&t.push({path:p,score:eE(p,c.index),routesMeta:y})};return a.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let f of By(c.path))o(c,h,!0,f)}),t}function By(a){let t=a.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(s.length===0)return r?[o,""]:[o];let c=By(s.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),r&&h.push(...c),h.map(f=>a.startsWith("/")&&f===""?"/":f)}function Vx(a){a.sort((t,n)=>t.score!==n.score?n.score-t.score:nE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var qx=/^:[\w-]+$/,Wx=3,Qx=2,$x=1,Jx=10,tE=-2,bp=a=>a==="*";function eE(a,t){let n=a.split("/"),s=n.length;return n.some(bp)&&(s+=tE),t&&(s+=Qx),n.filter(r=>!bp(r)).reduce((r,o)=>r+(qx.test(o)?Wx:o===""?$x:Jx),s)}function nE(a,t){return a.length===t.length&&a.slice(0,-1).every((s,r)=>s===t[r])?a[a.length-1]-t[t.length-1]:0}function iE(a,t,n=!1){let{routesMeta:s}=a,r={},o="/",c=[];for(let h=0;h<s.length;++h){let f=s[h],g=h===s.length-1,_=o==="/"?t:t.slice(o.length)||"/",p=ku({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},_),y=f.route;if(!p&&g&&n&&!s[s.length-1].route.index&&(p=ku({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!p)return null;Object.assign(r,p.params),c.push({params:r,pathname:Ci([o,p.pathname]),pathnameBase:uE(Ci([o,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(o=Ci([o,p.pathnameBase]))}return c}function ku(a,t){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[n,s]=sE(a.path,a.caseSensitive,a.end),r=t.match(n);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:p},y)=>{if(_==="*"){let E=h[y]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=h[y];return p&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:a}}function sE(a,t=!1,n=!0){Jn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],r="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return a.endsWith("*")?(s.push({paramName:"*"}),r+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":a!==""&&a!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function aE(a){try{return a.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),a}}function Li(a,t){if(t==="/")return a;if(!a.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=a.charAt(n);return s&&s!=="/"?null:a.slice(n)||"/"}function rE(a,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof a=="string"?xr(a):a;return{pathname:n?n.startsWith("/")?n:lE(n,t):t,search:cE(s),hash:hE(r)}}function lE(a,t){let n=t.replace(/\/+$/,"").split("/");return a.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Bf(a,t,n,s){return`Cannot include a '${a}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oE(a){return a.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Zy(a){let t=oE(a);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function Yy(a,t,n,s=!1){let r;typeof a=="string"?r=xr(a):(r={...a},$t(!r.pathname||!r.pathname.includes("?"),Bf("?","pathname","search",r)),$t(!r.pathname||!r.pathname.includes("#"),Bf("#","pathname","hash",r)),$t(!r.search||!r.search.includes("#"),Bf("#","search","hash",r)));let o=a===""||r.pathname==="",c=o?"/":r.pathname,h;if(c==null)h=n;else{let p=t.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),p-=1;r.pathname=y.join("/")}h=p>=0?t[p]:"/"}let f=rE(r,h),g=c&&c!=="/"&&c.endsWith("/"),_=(o||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(g||_)&&(f.pathname+="/"),f}var Ci=a=>a.join("/").replace(/\/\/+/g,"/"),uE=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),cE=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,hE=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function fE(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var Xy=["POST","PUT","PATCH","DELETE"];new Set(Xy);var dE=["GET",...Xy];new Set(dE);var Er=j.createContext(null);Er.displayName="DataRouter";var tc=j.createContext(null);tc.displayName="DataRouterState";j.createContext(!1);var Hy=j.createContext({isTransitioning:!1});Hy.displayName="ViewTransition";var gE=j.createContext(new Map);gE.displayName="Fetchers";var mE=j.createContext(null);mE.displayName="Await";var ti=j.createContext(null);ti.displayName="Navigation";var Ql=j.createContext(null);Ql.displayName="Location";var Ni=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Ud=j.createContext(null);Ud.displayName="RouteError";function _E(a,{relative:t}={}){$t($l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(ti),{hash:r,pathname:o,search:c}=Jl(a,{relative:t}),h=o;return n!=="/"&&(h=o==="/"?n:Ci([n,o])),s.createHref({pathname:h,search:c,hash:r})}function $l(){return j.useContext(Ql)!=null}function ra(){return $t($l(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Ql).location}var Ky="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Vy(a){j.useContext(ti).static||j.useLayoutEffect(a)}function pE(){let{isDataRoute:a}=j.useContext(Ni);return a?LE():yE()}function yE(){$t($l(),"useNavigate() may be used only in the context of a <Router> component.");let a=j.useContext(Er),{basename:t,navigator:n}=j.useContext(ti),{matches:s}=j.useContext(Ni),{pathname:r}=ra(),o=JSON.stringify(Zy(s)),c=j.useRef(!1);return Vy(()=>{c.current=!0}),j.useCallback((f,g={})=>{if(Jn(c.current,Ky),!c.current)return;if(typeof f=="number"){n.go(f);return}let _=Yy(f,JSON.parse(o),r,g.relative==="path");a==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Ci([t,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[t,n,o,r,a])}j.createContext(null);function Jl(a,{relative:t}={}){let{matches:n}=j.useContext(Ni),{pathname:s}=ra(),r=JSON.stringify(Zy(n));return j.useMemo(()=>Yy(a,JSON.parse(r),s,t==="path"),[a,r,s,t])}function vE(a,t){return qy(a,t)}function qy(a,t,n,s,r){$t($l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(ti),{matches:c}=j.useContext(Ni),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",p=h&&h.route;{let M=p&&p.path||"";Wy(g,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=ra(),x;if(t){let M=typeof t=="string"?xr(t):t;$t(_==="/"||M.pathname?.startsWith(_),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${M.pathname}" was given in the \`location\` prop.`),x=M}else x=y;let E=x.pathname||"/",R=E;if(_!=="/"){let M=_.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(M.length).join("/")}let b=Gy(a,{pathname:R});Jn(p||b!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Jn(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=RE(b&&b.map(M=>Object.assign({},M,{params:Object.assign({},f,M.params),pathname:Ci([_,o.encodeLocation?o.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?_:Ci([_,o.encodeLocation?o.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,s,r);return t&&C?j.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function xE(){let a=ME(),t=fE(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),n=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},o={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",a),c=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:o},"ErrorBoundary")," or"," ",j.createElement("code",{style:o},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:r},n):null,c)}var EE=j.createElement(xE,null),SE=class extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,t){return t.location!==a.location||t.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:t.error,location:t.location,revalidation:a.revalidation||t.revalidation}}componentDidCatch(a,t){this.props.unstable_onError?this.props.unstable_onError(a,t):console.error("React Router caught the following error during render",a)}render(){return this.state.error!==void 0?j.createElement(Ni.Provider,{value:this.props.routeContext},j.createElement(Ud.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TE({routeContext:a,match:t,children:n}){let s=j.useContext(Er);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),j.createElement(Ni.Provider,{value:a},n)}function RE(a,t=[],n=null,s=null,r=null){if(a==null){if(!n)return null;if(n.errors)a=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)a=n.matches;else return null}let o=a,c=n?.errors;if(c!=null){let g=o.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);$t(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,f=-1;if(n)for(let g=0;g<o.length;g++){let _=o[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:p,errors:y}=n,x=_.route.loader&&!p.hasOwnProperty(_.route.id)&&(!y||y[_.route.id]===void 0);if(_.route.lazy||x){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((g,_,p)=>{let y,x=!1,E=null,R=null;n&&(y=c&&_.route.id?c[_.route.id]:void 0,E=_.route.errorElement||EE,h&&(f<0&&p===0?(Wy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):f===p&&(x=!0,R=_.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,p+1)),C=()=>{let M;return y?M=E:x?M=R:_.route.Component?M=j.createElement(_.route.Component,null):_.route.element?M=_.route.element:M=g,j.createElement(TE,{match:_,routeContext:{outlet:g,matches:b,isDataRoute:n!=null},children:M})};return n&&(_.route.ErrorBoundary||_.route.errorElement||p===0)?j.createElement(SE,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:C(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:s}):C()},null)}function Gd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bE(a){let t=j.useContext(Er);return $t(t,Gd(a)),t}function CE(a){let t=j.useContext(tc);return $t(t,Gd(a)),t}function wE(a){let t=j.useContext(Ni);return $t(t,Gd(a)),t}function Fd(a){let t=wE(a),n=t.matches[t.matches.length-1];return $t(n.route.id,`${a} can only be used on routes that contain a unique "id"`),n.route.id}function AE(){return Fd("useRouteId")}function ME(){let a=j.useContext(Ud),t=CE("useRouteError"),n=Fd("useRouteError");return a!==void 0?a:t.errors?.[n]}function LE(){let{router:a}=bE("useNavigate"),t=Fd("useNavigate"),n=j.useRef(!1);return Vy(()=>{n.current=!0}),j.useCallback(async(r,o={})=>{Jn(n.current,Ky),n.current&&(typeof r=="number"?a.navigate(r):await a.navigate(r,{fromRouteId:t,...o}))},[a,t])}var Cp={};function Wy(a,t,n){!t&&!Cp[a]&&(Cp[a]=!0,Jn(!1,n))}j.memo(OE);function OE({routes:a,future:t,state:n,unstable_onError:s}){return qy(a,void 0,n,s,t)}function Qy(a){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DE({basename:a="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:o=!1}){$t(!$l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=a.replace(/^\/*/,"/"),h=j.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof n=="string"&&(n=xr(n));let{pathname:f="/",search:g="",hash:_="",state:p=null,key:y="default"}=n,x=j.useMemo(()=>{let E=Li(f,c);return E==null?null:{location:{pathname:E,search:g,hash:_,state:p,key:y},navigationType:s}},[c,f,g,_,p,y,s]);return Jn(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:j.createElement(ti.Provider,{value:h},j.createElement(Ql.Provider,{children:t,value:x}))}function NE({children:a,location:t}){return vE(yd(a),t)}function yd(a,t=[]){let n=[];return j.Children.forEach(a,(s,r)=>{if(!j.isValidElement(s))return;let o=[...t,r];if(s.type===j.Fragment){n.push.apply(n,yd(s.props.children,o));return}$t(s.type===Qy,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=yd(s.props.children,o)),n.push(c)}),n}var zu="get",ju="application/x-www-form-urlencoded";function ec(a){return a!=null&&typeof a.tagName=="string"}function IE(a){return ec(a)&&a.tagName.toLowerCase()==="button"}function zE(a){return ec(a)&&a.tagName.toLowerCase()==="form"}function jE(a){return ec(a)&&a.tagName.toLowerCase()==="input"}function kE(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function PE(a,t){return a.button===0&&(!t||t==="_self")&&!kE(a)}var Su=null;function UE(){if(Su===null)try{new FormData(document.createElement("form"),0),Su=!1}catch{Su=!0}return Su}var GE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zf(a){return a!=null&&!GE.has(a)?(Jn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ju}"`),null):a}function FE(a,t){let n,s,r,o,c;if(zE(a)){let h=a.getAttribute("action");s=h?Li(h,t):null,n=a.getAttribute("method")||zu,r=Zf(a.getAttribute("enctype"))||ju,o=new FormData(a)}else if(IE(a)||jE(a)&&(a.type==="submit"||a.type==="image")){let h=a.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=a.getAttribute("formaction")||h.getAttribute("action");if(s=f?Li(f,t):null,n=a.getAttribute("formmethod")||h.getAttribute("method")||zu,r=Zf(a.getAttribute("formenctype"))||Zf(h.getAttribute("enctype"))||ju,o=new FormData(h,a),!UE()){let{name:g,type:_,value:p}=a;if(_==="image"){let y=g?`${g}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else g&&o.append(g,p)}}else{if(ec(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zu,s=null,r=ju,c=a}return o&&r==="text/plain"&&(c=o,o=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Bd(a,t){if(a===!1||a===null||typeof a>"u")throw new Error(t)}function BE(a,t,n){let s=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&Li(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ZE(a,t){if(a.id in t)return t[a.id];try{let n=await import(a.module);return t[a.id]=n,n}catch(n){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YE(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function XE(a,t,n){let s=await Promise.all(a.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await ZE(o,n);return c.links?c.links():[]}return[]}));return qE(s.flat(1).filter(YE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function wp(a,t,n,s,r,o){let c=(f,g)=>n[g]?f.route.id!==n[g].route.id:!0,h=(f,g)=>n[g].pathname!==f.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==f.params["*"];return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{let _=s.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HE(a,t,{includeHydrateFallback:n}={}){return KE(a.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function KE(a){return[...new Set(a)]}function VE(a){let t={},n=Object.keys(a).sort();for(let s of n)t[s]=a[s];return t}function qE(a,t){let n=new Set;return new Set(t),a.reduce((s,r)=>{let o=JSON.stringify(VE(r));return n.has(o)||(n.add(o),s.push({key:o,link:r})),s},[])}function $y(){let a=j.useContext(Er);return Bd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function WE(){let a=j.useContext(tc);return Bd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Zd=j.createContext(void 0);Zd.displayName="FrameworkContext";function Jy(){let a=j.useContext(Zd);return Bd(a,"You must render this element inside a <HydratedRouter> element"),a}function QE(a,t){let n=j.useContext(Zd),[s,r]=j.useState(!1),[o,c]=j.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:_,onTouchStart:p}=t,y=j.useRef(null);j.useEffect(()=>{if(a==="render"&&c(!0),a==="viewport"){let R=C=>{C.forEach(M=>{c(M.isIntersecting)})},b=new IntersectionObserver(R,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[a]),j.useEffect(()=>{if(s){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[s]);let x=()=>{r(!0)},E=()=>{r(!1),c(!1)};return n?a!=="intent"?[o,y,{}]:[o,y,{onFocus:Rl(h,x),onBlur:Rl(f,E),onMouseEnter:Rl(g,x),onMouseLeave:Rl(_,E),onTouchStart:Rl(p,x)}]:[!1,y,{}]}function Rl(a,t){return n=>{a&&a(n),n.defaultPrevented||t(n)}}function $E({page:a,...t}){let{router:n}=$y(),s=j.useMemo(()=>Gy(n.routes,a,n.basename),[n.routes,a,n.basename]);return s?j.createElement(tS,{page:a,matches:s,...t}):null}function JE(a){let{manifest:t,routeModules:n}=Jy(),[s,r]=j.useState([]);return j.useEffect(()=>{let o=!1;return XE(a,t,n).then(c=>{o||r(c)}),()=>{o=!0}},[a,t,n]),s}function tS({page:a,matches:t,...n}){let s=ra(),{manifest:r,routeModules:o}=Jy(),{basename:c}=$y(),{loaderData:h,matches:f}=WE(),g=j.useMemo(()=>wp(a,t,f,r,s,"data"),[a,t,f,r,s]),_=j.useMemo(()=>wp(a,t,f,r,s,"assets"),[a,t,f,r,s]),p=j.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let E=new Set,R=!1;if(t.forEach(C=>{let M=r.routes[C.route.id];!M||!M.hasLoader||(!g.some(z=>z.route.id===C.route.id)&&C.route.id in h&&o[C.route.id]?.shouldRevalidate||M.hasClientLoader?R=!0:E.add(C.route.id))}),E.size===0)return[];let b=BE(a,c,"data");return R&&E.size>0&&b.searchParams.set("_routes",t.filter(C=>E.has(C.route.id)).map(C=>C.route.id).join(",")),[b.pathname+b.search]},[c,h,s,r,g,t,a,o]),y=j.useMemo(()=>HE(_,r),[_,r]),x=JE(_);return j.createElement(j.Fragment,null,p.map(E=>j.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),y.map(E=>j.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),x.map(({key:E,link:R})=>j.createElement("link",{key:E,nonce:n.nonce,...R})))}function eS(...a){return t=>{a.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t1&&(window.__reactRouterVersion="7.9.3")}catch{}function nS({basename:a,children:t,window:n}){let s=j.useRef();s.current==null&&(s.current=Zx({window:n,v5Compat:!0}));let r=s.current,[o,c]=j.useState({action:r.action,location:r.location}),h=j.useCallback(f=>{j.startTransition(()=>c(f))},[c]);return j.useLayoutEffect(()=>r.listen(h),[r,h]),j.createElement(DE,{basename:a,children:t,location:o.location,navigationType:o.action,navigator:r})}var e1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=j.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:_,viewTransition:p,...y},x){let{basename:E}=j.useContext(ti),R=typeof g=="string"&&e1.test(g),b,C=!1;if(typeof g=="string"&&R&&(b=g,t1))try{let Z=new URL(window.location.href),$=g.startsWith("//")?new URL(Z.protocol+g):new URL(g),nt=Li($.pathname,E);$.origin===Z.origin&&nt!=null?g=nt+$.search+$.hash:C=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=_E(g,{relative:r}),[z,D,O]=QE(s,y),H=rS(g,{replace:c,state:h,target:f,preventScrollReset:_,relative:r,viewTransition:p});function W(Z){t&&t(Z),Z.defaultPrevented||H(Z)}let B=j.createElement("a",{...y,...O,href:b||M,onClick:C||o?t:W,ref:eS(x,D),target:f,"data-discover":!R&&n==="render"?"true":void 0});return z&&!R?j.createElement(j.Fragment,null,B,j.createElement($E,{page:M})):B});n1.displayName="Link";var iS=j.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:o,to:c,viewTransition:h,children:f,...g},_){let p=Jl(c,{relative:g.relative}),y=ra(),x=j.useContext(tc),{navigator:E,basename:R}=j.useContext(ti),b=x!=null&&hS(p)&&h===!0,C=E.encodeLocation?E.encodeLocation(p).pathname:p.pathname,M=y.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,C=C.toLowerCase()),z&&R&&(z=Li(z,R)||z);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=M===C||!r&&M.startsWith(C)&&M.charAt(D)==="/",H=z!=null&&(z===C||!r&&z.startsWith(C)&&z.charAt(C.length)==="/"),W={isActive:O,isPending:H,isTransitioning:b},B=O?t:void 0,Z;typeof s=="function"?Z=s(W):Z=[s,O?"active":null,H?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let $=typeof o=="function"?o(W):o;return j.createElement(n1,{...g,"aria-current":B,className:Z,ref:_,style:$,to:c,viewTransition:h},typeof f=="function"?f(W):f)});iS.displayName="NavLink";var sS=j.forwardRef(({discover:a="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:o,method:c=zu,action:h,onSubmit:f,relative:g,preventScrollReset:_,viewTransition:p,...y},x)=>{let E=uS(),R=cS(h,{relative:g}),b=c.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&e1.test(h),M=z=>{if(f&&f(z),z.defaultPrevented)return;z.preventDefault();let D=z.nativeEvent.submitter,O=D?.getAttribute("formmethod")||c;E(D||z.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:r,state:o,relative:g,preventScrollReset:_,viewTransition:p})};return j.createElement("form",{ref:x,method:b,action:R,onSubmit:s?f:M,...y,"data-discover":!C&&a==="render"?"true":void 0})});sS.displayName="Form";function aS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(a){let t=j.useContext(Er);return $t(t,aS(a)),t}function rS(a,{target:t,replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:c}={}){let h=pE(),f=ra(),g=Jl(a,{relative:o});return j.useCallback(_=>{if(PE(_,t)){_.preventDefault();let p=n!==void 0?n:Pl(f)===Pl(g);h(a,{replace:p,state:s,preventScrollReset:r,relative:o,viewTransition:c})}},[f,h,g,n,s,t,a,r,o,c])}var lS=0,oS=()=>`__${String(++lS)}__`;function uS(){let{router:a}=i1("useSubmit"),{basename:t}=j.useContext(ti),n=AE();return j.useCallback(async(s,r={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=FE(s,t);if(r.navigate===!1){let _=r.fetcherKey||oS();await a.fetch(_,n,r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,flushSync:r.flushSync})}else await a.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:f,body:g,formMethod:r.method||c,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[a,t,n])}function cS(a,{relative:t}={}){let{basename:n}=j.useContext(ti),s=j.useContext(Ni);$t(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o={...Jl(a||".",{relative:t})},c=ra();if(a==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(p=>p).forEach(p=>h.append("index",p));let _=h.toString();o.search=_?`?${_}`:""}}return(!a||a===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ci([n,o.pathname])),Pl(o)}function hS(a,{relative:t}={}){let n=j.useContext(Hy);$t(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=i1("useViewTransitionState"),r=Jl(a,{relative:t});if(!n.isTransitioning)return!1;let o=Li(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Li(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ku(r.pathname,c)!=null||ku(r.pathname,o)!=null}var s1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ap=ta.createContext&&ta.createContext(s1),fS=["attr","size","title"];function dS(a,t){if(a==null)return{};var n=gS(a,t),s,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);for(r=0;r<o.length;r++)s=o[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(a,s)&&(n[s]=a[s])}return n}function gS(a,t){if(a==null)return{};var n={};for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){if(t.indexOf(s)>=0)continue;n[s]=a[s]}return n}function Pu(){return Pu=Object.assign?Object.assign.bind():function(a){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(a[s]=n[s])}return a},Pu.apply(this,arguments)}function Mp(a,t){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable})),n.push.apply(n,s)}return n}function Uu(a){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mp(Object(n),!0).forEach(function(s){mS(a,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Mp(Object(n)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(n,s))})}return a}function mS(a,t,n){return t=_S(t),t in a?Object.defineProperty(a,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[t]=n,a}function _S(a){var t=pS(a,"string");return typeof t=="symbol"?t:t+""}function pS(a,t){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var s=n.call(a,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(a)}function a1(a){return a&&a.map((t,n)=>ta.createElement(t.tag,Uu({key:n},t.attr),a1(t.child)))}function Ie(a){return t=>ta.createElement(yS,Pu({attr:Uu({},a.attr)},t),a1(a.child))}function yS(a){var t=n=>{var{attr:s,size:r,title:o}=a,c=dS(a,fS),h=r||n.size||"1em",f;return n.className&&(f=n.className),a.className&&(f=(f?f+" ":"")+a.className),ta.createElement("svg",Pu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:f,style:Uu(Uu({color:a.color||n.color},n.style),a.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&ta.createElement("title",null,o),a.children)};return Ap!==void 0?ta.createElement(Ap.Consumer,null,n=>t(n)):t(s1)}function r1(a){return Ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},child:[]}]})(a)}function vS(a){return Ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"},child:[]}]})(a)}function xS(a){return Ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(a)}function ES(a){return Ie({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10 2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z"},child:[]}]})(a)}function SS({onLogin:a}){const t=n=>{n.preventDefault(),console.log("로그인 시도"),a()};return T.jsxs("form",{onSubmit:t,className:"login-form",children:[T.jsxs("div",{className:"login-form__header",children:[T.jsx("h2",{className:"login-form__title",children:"로그인"}),T.jsx("p",{className:"login-form__greeting",children:"RideOn에 오신 것을 환영합니다!"})]}),T.jsxs("div",{className:"login-form__field",children:[T.jsx("label",{htmlFor:"email",className:"login-form__label",children:"이메일"}),T.jsx("input",{type:"email",id:"email",placeholder:"user@email.com",className:"login-form__input",required:!0})]}),T.jsxs("div",{className:"login-form__field",children:[T.jsx("label",{htmlFor:"password",className:"login-form__label",children:"비밀번호"}),T.jsx("input",{type:"password",id:"password",placeholder:"••••••••",className:"login-form__input",required:!0})]}),T.jsxs("button",{type:"submit",className:"login-form__submit",children:[T.jsx(vS,{size:20}),T.jsx("span",{children:"로그인"})]}),T.jsxs("div",{className:"login-form__options",children:[T.jsx("a",{href:"#",className:"login-form__options-link",children:"회원가입"}),T.jsx("span",{className:"login-form__options-separator",children:"|"}),T.jsx("a",{href:"#",className:"login-form__options-link",children:"비밀번호를 잊으셨나요?"})]})]})}function TS({onClose:a}){const[t,n]=j.useState(!1),s=()=>{n(!0)},r=()=>{n(!1),a()};return T.jsx("div",{className:"profile-panel",children:t?T.jsxs("div",{children:[T.jsxs("div",{className:"profile-panel__user-info",children:[T.jsx(r1,{className:"profile-panel__avatar"}),T.jsxs("div",{children:[T.jsx("div",{className:"profile-panel__username",children:"김유저"}),T.jsx("div",{className:"profile-panel__email",children:"user@email.com"})]})]}),T.jsxs("div",{className:"profile-panel__actions",children:[T.jsx("button",{type:"button",className:"profile-panel__button profile-panel__button--mypage",children:"마이페이지"}),T.jsxs("button",{type:"button",onClick:r,className:"profile-panel__button profile-panel__button--logout",children:[T.jsx(xS,{size:16}),T.jsx("span",{children:"로그아웃"})]})]})]}):T.jsx(SS,{onLogin:s})})}function RS(){const[a,t]=j.useState(!1);return T.jsxs("header",{className:"h-16 px-6 flex items-center justify-between bg-white shadow w-full relative z-20",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"text-blue-600 text-xl",children:"🚲"}),T.jsx("span",{className:"text-blue-600 font-bold text-xl",children:"RideOn"})]}),T.jsx("button",{className:"focus:outline-none",onClick:()=>t(n=>!n),style:{background:"none",border:"none",cursor:"pointer"},children:T.jsx(r1,{size:32,className:"text-blue-500"})}),a&&T.jsx(TS,{onClose:()=>t(!1)})]})}function bS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(a)}function CS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"},child:[]}]})(a)}function vd(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(a)}function l1(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(a)}function wS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"},child:[]}]})(a)}function AS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(a)}function Lp(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"3 11 22 2 13 21 11 13 3 11"},child:[]}]})(a)}function MS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(a)}function LS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"},child:[]},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"},child:[]}]})(a)}function OS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"},child:[]}]})(a)}function DS(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(a)}function Op(a){return Ie({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(a)}const NS=[{key:"map",icon:l1,label:"지도"},{key:"stations",icon:CS,label:"대여소"},{key:"route",icon:LS,label:"경로 추천"},{key:"contact",icon:wS,label:"문의"}];function IS({activeTab:a,onTabChange:t}){return T.jsx("aside",{className:"w-16 bg-white shadow-lg flex flex-col py-8 items-center relative z-10",children:T.jsx("nav",{className:"flex flex-col gap-6",children:NS.map(n=>T.jsx(zS,{icon:n.icon,label:n.label,active:a===n.key,expanded:a===n.key&&n.key!=="map",onClick:()=>t(n.key)},n.key))})})}function zS({icon:a,label:t,active:n,expanded:s,onClick:r}){return T.jsxs("div",{className:"relative",children:[T.jsx("button",{className:`flex items-center justify-center w-12 h-12 rounded-lg transition
          ${n?"bg-blue-100 text-blue-700":"hover:bg-gray-100 text-gray-700"}`,type:"button",onClick:r,children:T.jsx(a,{size:24})}),s&&T.jsx("div",{className:"absolute left-14 top-1/2 -translate-y-1/2 bg-white shadow px-4 py-2 rounded-lg font-semibold text-blue-700 whitespace-nowrap animate-slide-in",children:t})]})}const jS="/assets/route-1-C9XcXLWi.jpg",kS=Object.freeze(Object.defineProperty({__proto__:null,default:jS},Symbol.toStringTag,{value:"Module"})),PS="/assets/route-10-MQZnwj7O.jpg",US=Object.freeze(Object.defineProperty({__proto__:null,default:PS},Symbol.toStringTag,{value:"Module"})),GS="/assets/route-2-CbewcH-C.jpg",FS=Object.freeze(Object.defineProperty({__proto__:null,default:GS},Symbol.toStringTag,{value:"Module"})),BS="/assets/route-3-BMlVAxXk.jpg",ZS=Object.freeze(Object.defineProperty({__proto__:null,default:BS},Symbol.toStringTag,{value:"Module"})),YS="/assets/route-4-Cv46mKhB.jpg",XS=Object.freeze(Object.defineProperty({__proto__:null,default:YS},Symbol.toStringTag,{value:"Module"})),HS="/assets/route-5-BtKchcar.jpg",KS=Object.freeze(Object.defineProperty({__proto__:null,default:HS},Symbol.toStringTag,{value:"Module"})),VS="/assets/route-6-sxGotr-i.jpg",qS=Object.freeze(Object.defineProperty({__proto__:null,default:VS},Symbol.toStringTag,{value:"Module"})),WS="/assets/route-7-B0sW294w.jpg",QS=Object.freeze(Object.defineProperty({__proto__:null,default:WS},Symbol.toStringTag,{value:"Module"})),$S="/assets/route-8-DoYD3AyJ.jpg",JS=Object.freeze(Object.defineProperty({__proto__:null,default:$S},Symbol.toStringTag,{value:"Module"})),tT="/assets/route-9-BcFEQtUX.jpg",eT=Object.freeze(Object.defineProperty({__proto__:null,default:tT},Symbol.toStringTag,{value:"Module"})),nT=Object.assign({"../assets/bikeRoutes/route-1.jpg":kS,"../assets/bikeRoutes/route-10.jpg":US,"../assets/bikeRoutes/route-2.jpg":FS,"../assets/bikeRoutes/route-3.jpg":ZS,"../assets/bikeRoutes/route-4.jpg":XS,"../assets/bikeRoutes/route-5.jpg":KS,"../assets/bikeRoutes/route-6.jpg":qS,"../assets/bikeRoutes/route-7.jpg":QS,"../assets/bikeRoutes/route-8.jpg":JS,"../assets/bikeRoutes/route-9.jpg":eT}),Kn=a=>{const t=`../assets/bikeRoutes/route-${a}.jpg`;return nT[t]?.default||null},xd=[{route_id:1,name:"한강 여의도 순환 코스",image:Kn(1),description:"여의도 한강공원을 한 바퀴 도는 초보자 친화적인 코스입니다. 평탄한 길로 가족 나들이나 데이트 코스로 적합합니다.",distance_km:7.2,estimated_time_min:35,difficulty:"EASY",elevation_gain_m:15,start_point:{name:"여의도 한강공원 입구",latitude:37.5285,longitude:126.9328,geom:{type:"Point",coordinates:[126.9328,37.5285]}},end_point:{name:"여의도 한강공원 서측",latitude:37.5268,longitude:126.918,geom:{type:"Point",coordinates:[126.918,37.5268]}},waypoints:[{latitude:37.5285,longitude:126.9328},{latitude:37.5295,longitude:126.925},{latitude:37.5268,longitude:126.918},{latitude:37.5242,longitude:126.922},{latitude:37.5258,longitude:126.93},{latitude:37.5285,longitude:126.9328}],geom:{type:"LineString",coordinates:[[126.9328,37.5285],[126.925,37.5295],[126.918,37.5268],[126.922,37.5242],[126.93,37.5258],[126.9328,37.5285]]},nearby_facilities:{stations:[1,2,3],toilets:[1,2,3],drinking_fountains:[1],repair_centers:[1]},tags:["한강","평지","초보","야경","데이트","가족"],rating:4.5,review_count:328,created_at:"2024-01-10T09:00:00Z",updated_at:"2025-10-01T15:30:00Z"},{route_id:2,name:"북한산 둘레길 자전거 코스",image:Kn(2),description:"북한산 자락을 따라 자연을 만끽하는 중급 코스입니다. 적당한 경사와 숲길이 조화를 이룹니다.",distance_km:12.5,estimated_time_min:65,difficulty:"MEDIUM",elevation_gain_m:180,start_point:{name:"북한산 우이령 입구",latitude:37.6658,longitude:127.0128,geom:{type:"Point",coordinates:[127.0128,37.6658]}},end_point:{name:"정릉 입구",latitude:37.6158,longitude:127.0028,geom:{type:"Point",coordinates:[127.0028,37.6158]}},waypoints:[{latitude:37.6658,longitude:127.0128},{latitude:37.6598,longitude:127.0088},{latitude:37.6518,longitude:127.0048},{latitude:37.6438,longitude:127.0008},{latitude:37.6328,longitude:126.9988},{latitude:37.6228,longitude:127.0008},{latitude:37.6158,longitude:127.0028}],geom:{type:"LineString",coordinates:[[127.0128,37.6658],[127.0088,37.6598],[127.0048,37.6518],[127.0008,37.6438],[126.9988,37.6328],[127.0008,37.6228],[127.0028,37.6158]]},nearby_facilities:{stations:[6,7],toilets:[7,8],drinking_fountains:[4,5],repair_centers:[5]},tags:["산","경사","중급","자연","운동","숲"],rating:4.7,review_count:156,created_at:"2024-02-15T10:00:00Z",updated_at:"2025-09-28T14:20:00Z"},{route_id:3,name:"청계천 ~ 한강 연결 코스",image:Kn(3),description:"도심 청계천에서 한강까지 이어지는 도심 투어 코스입니다. 카페와 관광지를 함께 즐길 수 있습니다.",distance_km:24.2,estimated_time_min:145,difficulty:"EASY",elevation_gain_m:25,start_point:{name:"청계광장",latitude:37.5698,longitude:126.9788,geom:{type:"Point",coordinates:[126.9788,37.5698]}},end_point:{name:"뚝섬 한강공원",latitude:37.5308,longitude:127.0668,geom:{type:"Point",coordinates:[127.0668,37.5308]}},waypoints:[{latitude:37.5698,longitude:126.9788},{latitude:37.5668,longitude:126.9918},{latitude:37.5608,longitude:127.0048},{latitude:37.5528,longitude:127.0268},{latitude:37.5428,longitude:127.0468},{latitude:37.5348,longitude:127.0588},{latitude:37.5308,longitude:127.0668}],geom:{type:"LineString",coordinates:[[126.9788,37.5698],[126.9918,37.5668],[127.0048,37.5608],[127.0268,37.5528],[127.0468,37.5428],[127.0588,37.5348],[127.0668,37.5308]]},nearby_facilities:{stations:[4,5,14],toilets:[4,5,6,16,17],drinking_fountains:[2,3,10],repair_centers:[3,4,13]},tags:["도심","평지","초보","관광","카페","하천"],rating:4.3,review_count:421,created_at:"2024-03-20T11:00:00Z",updated_at:"2025-10-02T16:45:00Z"},{route_id:4,name:"양재천 벚꽃길",image:Kn(4),description:"봄에는 벚꽃, 가을에는 단풍이 아름다운 감성 코스입니다. 사진 찍기 좋은 포토존이 많습니다.",distance_km:11.3,estimated_time_min:52,difficulty:"EASY",elevation_gain_m:20,start_point:{name:"양재역",latitude:37.4844,longitude:127.0338,geom:{type:"Point",coordinates:[127.0338,37.4844]}},end_point:{name:"대치역",latitude:37.4944,longitude:127.0638,geom:{type:"Point",coordinates:[127.0638,37.4944]}},waypoints:[{latitude:37.4844,longitude:127.0338},{latitude:37.4864,longitude:127.0408},{latitude:37.4884,longitude:127.0478},{latitude:37.4904,longitude:127.0548},{latitude:37.4924,longitude:127.0598},{latitude:37.4944,longitude:127.0638}],geom:{type:"LineString",coordinates:[[127.0338,37.4844],[127.0408,37.4864],[127.0478,37.4884],[127.0548,37.4904],[127.0598,37.4924],[127.0638,37.4944]]},nearby_facilities:{stations:[8,9,12],toilets:[9,10,14],drinking_fountains:[6],repair_centers:[7,8]},tags:["하천","평지","초보","꽃","사진","데이트"],rating:4.6,review_count:267,created_at:"2024-04-10T09:30:00Z",updated_at:"2025-09-30T11:20:00Z"},{route_id:5,name:"남산 일주 도전 코스",image:Kn(5),description:"남산을 한 바퀴 도는 고급 라이더를 위한 도전 코스입니다. 경사가 있지만 정상의 야경이 압권입니다.",distance_km:8.7,estimated_time_min:55,difficulty:"HARD",elevation_gain_m:320,start_point:{name:"남산 순환로 입구",latitude:37.5508,longitude:126.9918,geom:{type:"Point",coordinates:[126.9918,37.5508]}},end_point:{name:"남산 북측 순환로",latitude:37.5548,longitude:126.9948,geom:{type:"Point",coordinates:[126.9948,37.5548]}},waypoints:[{latitude:37.5508,longitude:126.9918},{latitude:37.5548,longitude:126.9948},{latitude:37.5538,longitude:127.0028},{latitude:37.5498,longitude:127.0048},{latitude:37.5458,longitude:127.0008},{latitude:37.5478,longitude:126.9948},{latitude:37.5508,longitude:126.9918}],geom:{type:"LineString",coordinates:[[126.9918,37.5508],[126.9948,37.5548],[127.0028,37.5538],[127.0048,37.5498],[127.0008,37.5458],[126.9948,37.5478],[126.9918,37.5508]]},nearby_facilities:{stations:[10],toilets:[11,12],drinking_fountains:[7,8],repair_centers:[9]},tags:["산","경사","고급","야경","운동","도전"],rating:4.8,review_count:89,created_at:"2024-05-15T10:00:00Z",updated_at:"2025-10-03T13:15:00Z"},{route_id:6,name:"서울숲 ~ 올림픽공원 연결 코스",image:Kn(6),description:"서울숲에서 출발해 올림픽공원까지 이어지는 중급 코스입니다. 두 개의 큰 공원을 즐길 수 있습니다.",distance_km:14.2,estimated_time_min:70,difficulty:"MEDIUM",elevation_gain_m:85,start_point:{name:"서울숲",latitude:37.5443,longitude:127.0442,geom:{type:"Point",coordinates:[127.0442,37.5443]}},end_point:{name:"올림픽공원",latitude:37.521,longitude:127.1215,geom:{type:"Point",coordinates:[127.1215,37.521]}},waypoints:[{latitude:37.5443,longitude:127.0442},{latitude:37.541,longitude:127.056},{latitude:37.536,longitude:127.072},{latitude:37.53,longitude:127.088},{latitude:37.525,longitude:127.104},{latitude:37.521,longitude:127.1215}],geom:{type:"LineString",coordinates:[[127.0442,37.5443],[127.056,37.541],[127.072,37.536],[127.088,37.53],[127.104,37.525],[127.1215,37.521]]},nearby_facilities:{stations:[13,14,15],toilets:[15,16,17,18],drinking_fountains:[9,10,11],repair_centers:[12,13]},tags:["공원","중급","자연","운동","피크닉"],rating:4.4,review_count:213,created_at:"2024-06-20T11:30:00Z",updated_at:"2025-09-25T15:40:00Z"},{route_id:7,name:"한강 종주 코스 (여의도~잠실)",image:Kn(7),description:"여의도에서 잠실까지 한강을 따라 달리는 장거리 코스입니다. 한강의 다양한 풍경을 경험할 수 있습니다.",distance_km:18.5,estimated_time_min:95,difficulty:"MEDIUM",elevation_gain_m:35,start_point:{name:"여의도 한강공원",latitude:37.5285,longitude:126.9328,geom:{type:"Point",coordinates:[126.9328,37.5285]}},end_point:{name:"잠실 한강공원",latitude:37.5238,longitude:127.0985,geom:{type:"Point",coordinates:[127.0985,37.5238]}},waypoints:[{latitude:37.5285,longitude:126.9328},{latitude:37.527,longitude:126.968},{latitude:37.525,longitude:127.004},{latitude:37.523,longitude:127.04},{latitude:37.524,longitude:127.066},{latitude:37.5235,longitude:127.082},{latitude:37.5238,longitude:127.0985}],geom:{type:"LineString",coordinates:[[126.9328,37.5285],[126.968,37.527],[127.004,37.525],[127.04,37.523],[127.066,37.524],[127.082,37.5235],[127.0985,37.5238]]},nearby_facilities:{stations:[1,2,4,15],toilets:[1,2,4,18,19],drinking_fountains:[1,2,11,12],repair_centers:[1,3,18]},tags:["한강","장거리","중급","경치","라이딩"],rating:4.6,review_count:342,created_at:"2024-07-10T10:00:00Z",updated_at:"2025-10-04T14:25:00Z"},{route_id:8,name:"이촌 ~ 반포 한강 코스",image:Kn(8),description:"이촌 한강공원에서 반포 한강공원까지 이어지는 초급 코스입니다. 반포대교 분수쇼를 볼 수 있습니다.",distance_km:7.6,estimated_time_min:30,difficulty:"EASY",elevation_gain_m:10,start_point:{name:"이촌 한강공원",latitude:37.523,longitude:126.968,geom:{type:"Point",coordinates:[126.968,37.523]}},end_point:{name:"반포 한강공원",latitude:37.513,longitude:127.002,geom:{type:"Point",coordinates:[127.002,37.513]}},waypoints:[{latitude:37.523,longitude:126.968},{latitude:37.52,longitude:126.978},{latitude:37.517,longitude:126.988},{latitude:37.515,longitude:126.995},{latitude:37.513,longitude:127.002}],geom:{type:"LineString",coordinates:[[126.968,37.523],[126.978,37.52],[126.988,37.517],[126.995,37.515],[127.002,37.513]]},nearby_facilities:{stations:[1],toilets:[19],drinking_fountains:[12,13],repair_centers:[18]},tags:["한강","평지","초보","야경","분수쇼","데이트"],rating:4.5,review_count:289,created_at:"2024-08-05T09:30:00Z",updated_at:"2025-09-29T12:50:00Z"},{route_id:9,name:"월드컵공원 순환 코스",image:Kn(9),description:"월드컵공원을 돌아보는 중급 코스입니다. 하늘공원의 억새밭이 유명합니다.",distance_km:10.2,estimated_time_min:58,difficulty:"MEDIUM",elevation_gain_m:140,start_point:{name:"월드컵공원 정문",latitude:37.5685,longitude:126.898,geom:{type:"Point",coordinates:[126.898,37.5685]}},end_point:{name:"월드컵공원 북문",latitude:37.572,longitude:126.892,geom:{type:"Point",coordinates:[126.892,37.572]}},waypoints:[{latitude:37.5685,longitude:126.898},{latitude:37.57,longitude:126.895},{latitude:37.572,longitude:126.892},{latitude:37.571,longitude:126.888},{latitude:37.569,longitude:126.891},{latitude:37.567,longitude:126.895},{latitude:37.5685,longitude:126.898}],geom:{type:"LineString",coordinates:[[126.898,37.5685],[126.895,37.57],[126.892,37.572],[126.888,37.571],[126.891,37.569],[126.895,37.567],[126.898,37.5685]]},nearby_facilities:{stations:[],toilets:[20],drinking_fountains:[14],repair_centers:[17]},tags:["공원","경사","중급","억새","자연","운동"],rating:4.5,review_count:178,created_at:"2024-09-10T11:00:00Z",updated_at:"2025-10-05T10:30:00Z"},{route_id:10,name:"강남 도심 투어 코스",image:Kn(10),description:"강남역에서 출발해 도심을 돌아보는 초급 코스입니다. 쇼핑과 맛집 탐방을 함께 즐길 수 있습니다.",distance_km:8.9,estimated_time_min:42,difficulty:"EASY",elevation_gain_m:30,start_point:{name:"강남역",latitude:37.4978,longitude:127.0278,geom:{type:"Point",coordinates:[127.0278,37.4978]}},end_point:{name:"삼성역 부근 아파트 단지",latitude:37.508,longitude:127.044,geom:{type:"Point",coordinates:[127.044,37.508]}},waypoints:[{latitude:37.4978,longitude:127.0278},{latitude:37.502,longitude:127.032},{latitude:37.506,longitude:127.038},{latitude:37.508,longitude:127.044},{latitude:37.505,longitude:127.05},{latitude:37.501,longitude:127.042},{latitude:37.499,longitude:127.034},{latitude:37.4978,longitude:127.0278}],geom:{type:"LineString",coordinates:[[127.0278,37.4978],[127.032,37.502],[127.038,37.506],[127.044,37.508],[127.05,37.505],[127.042,37.501],[127.034,37.499],[127.0278,37.4978]]},nearby_facilities:{stations:[11,12],toilets:[13,14],drinking_fountains:[],repair_centers:[10,11,16]},tags:["도심","평지","초보","쇼핑","맛집","카페"],rating:4.2,review_count:395,created_at:"2024-09-25T10:30:00Z",updated_at:"2025-10-06T16:10:00Z"}];function iT({onRouteClick:a,selectedRouteId:t}){const n=o=>({EASY:"쉬움",MEDIUM:"보통",HARD:"어려움"})[o]||o,s=o=>({EASY:"bg-green-100 text-green-700",MEDIUM:"bg-yellow-100 text-yellow-700",HARD:"bg-red-100 text-red-700"})[o]||"bg-gray-100 text-gray-700",r=o=>o.image||null;return T.jsxs("div",{className:"h-full flex flex-col",children:[T.jsxs("div",{className:"pb-4 border-b",children:[T.jsx("h1",{className:"text-2xl font-bold mb-2",children:"추천 경로"}),T.jsx("p",{className:"text-gray-600 text-sm",children:"서울의 아름다운 자전거 코스를 만나보세요"})]}),T.jsx("div",{className:"flex-1 overflow-y-auto mt-4 space-y-4 px-2 pr-2",children:xd.map(o=>T.jsxs("div",{className:`bg-white rounded-xl border-2 overflow-hidden transition-all duration-300 cursor-pointer origin-center
              ${t===o.route_id?"border-blue-500 shadow-xl scale-[1.02]":"border-gray-200 hover:border-blue-300 hover:shadow-lg hover:scale-[1.01]"}`,onClick:()=>a&&a(o),children:[T.jsxs("div",{className:"relative h-40 bg-gray-100 overflow-hidden",children:[T.jsx("div",{className:"absolute top-3 right-3 z-10",children:T.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold shadow-md ${s(o.difficulty)}`,children:n(o.difficulty)})}),t===o.route_id&&T.jsxs("div",{className:"absolute top-3 left-3 z-10 bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[T.jsx("span",{children:"✓"}),T.jsx("span",{children:"선택됨"})]}),r(o)?T.jsx("img",{src:r(o),alt:o.name,className:"w-full h-full object-cover transition-transform duration-300 hover:scale-110"}):T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center",children:T.jsx("span",{className:"text-white text-5xl opacity-30",children:"🚴"})})]}),T.jsxs("div",{className:"p-4",children:[T.jsx("h3",{className:"font-bold text-lg mb-2 text-gray-900",children:o.name}),T.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:o.description}),T.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm text-gray-700",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),T.jsxs("span",{className:"font-medium",children:[o.distance_km,"km"]})]}),T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),T.jsx("span",{className:"font-medium",children:o.estimated_time_min<60?`${o.estimated_time_min}분`:`${Math.floor(o.estimated_time_min/60)}시간 ${o.estimated_time_min%60}분`})]})]}),T.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[T.jsxs("div",{className:"flex items-center gap-1",children:[T.jsx("svg",{className:"w-5 h-5 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:T.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),T.jsx("span",{className:"font-bold text-gray-900",children:o.rating}),T.jsxs("span",{className:"text-gray-500 text-sm",children:["(",o.review_count,")"]})]}),T.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-gray-500",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),T.jsxs("span",{children:[o.review_count,"명 참여"]})]})]}),T.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.tags.slice(0,3).map((c,h)=>T.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-md",children:c},h))})]})]},o.route_id))})]})}const sT=[{key:"all",label:"전체"},{key:"rental",label:"대여소"},{key:"repair",label:"수리점"},{key:"restroom",label:"화장실"},{key:"fountain",label:"음수대"}],Dp="http://api.saessakbori.site/facility";function aT(){const[a,t]=j.useState("all"),[n,s]=j.useState(""),[r,o]=j.useState([]),[c,h]=j.useState(!1),[f,g]=j.useState(null),_=j.useCallback(async(y="")=>{try{h(!0),g(null);const x=y?`${Dp}?facilityType=${encodeURIComponent(y)}`:Dp,E=await fetch(x,{headers:{Accept:"application/json"}});if(!E.ok)throw new Error(`API 오류: ${E.status} ${E.statusText}`);const R=await E.json();o(R)}catch(x){console.error("시설 데이터 로딩 실패:",x),g(x.message),o([])}finally{h(!1)}},[]);j.useEffect(()=>{_()},[_]),j.useEffect(()=>{_(a==="all"?"":a)},[a,_]);const p=r.filter(y=>{if(!n)return!0;const x=n.toLowerCase();return y.name?.toLowerCase().includes(x)||y.address?.toLowerCase().includes(x)});return T.jsxs("div",{className:"w-full h-full flex flex-col overflow-hidden",children:[T.jsx("div",{className:"flex-shrink-0 mb-3",children:T.jsx("h2",{className:"text-xl font-bold mb-2",children:"시설 찾기"})}),T.jsx("div",{className:"flex-shrink-0 mb-3",children:T.jsxs("div",{className:"relative",children:[T.jsx(MS,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),T.jsx("input",{type:"text",placeholder:"시설명 또는 주소 검색...",value:n,onChange:y=>s(y.target.value),className:"w-full pl-9 pr-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition"})]})}),T.jsx("div",{className:"flex-shrink-0 flex gap-1.5 mb-3 overflow-x-auto pb-1",children:sT.map(y=>T.jsx("button",{onClick:()=>t(y.key),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all
              ${a===y.key?"bg-blue-500 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:y.label},y.key))}),T.jsx("div",{className:"flex-shrink-0 mb-2 pb-1.5 border-b border-gray-200",children:T.jsx("span",{className:"text-xs text-gray-500 font-medium",children:c?"검색 중...":`${p.length}개`})}),T.jsx("div",{className:"flex-1 overflow-y-auto -mx-1 px-1",children:c?T.jsx(oT,{}):f?T.jsx(uT,{message:f,onRetry:()=>_()}):p.length===0?T.jsx(cT,{searchTerm:n}):T.jsx("ul",{className:"space-y-2",children:p.map(y=>T.jsx(rT,{facility:y},y.id))})})]})}function rT({facility:a}){return T.jsxs("li",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-3 cursor-pointer border border-gray-100",children:[T.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[T.jsx("h3",{className:"font-bold text-sm text-gray-800 leading-tight",children:a.name}),T.jsx(lT,{type:a.type})]}),T.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 text-xs mb-2",children:[T.jsx(vd,{className:"text-gray-400 flex-shrink-0",size:12}),T.jsx("span",{className:"line-clamp-1 leading-tight",children:a.address})]}),T.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[a.distance&&T.jsxs("span",{className:"text-blue-600 font-medium",children:[a.distance,"km"]}),a.rating&&T.jsxs("div",{className:"flex items-center gap-0.5",children:[T.jsx(OS,{className:"text-yellow-500 fill-yellow-500",size:12}),T.jsx("span",{className:"text-gray-700 font-medium",children:a.rating})]}),a.availableBikes!==void 0&&T.jsxs("div",{className:"flex items-center gap-0.5 text-green-600 font-medium",children:[T.jsx(ES,{size:14}),T.jsxs("span",{children:[a.availableBikes,"대"]})]})]})]})}function lT({type:a}){const t={대여소:"bg-blue-100 text-blue-700",수리점:"bg-orange-100 text-orange-700",화장실:"bg-purple-100 text-purple-700",음수대:"bg-cyan-100 text-cyan-700"};return T.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-semibold ${t[a]||"bg-gray-100 text-gray-700"}`,children:a})}function oT(){return T.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[T.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-3 border-blue-500 border-t-transparent"}),T.jsx("p",{className:"text-gray-500 text-sm mt-3",children:"로딩 중..."})]})}function uT({message:a,onRetry:t}){return T.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[T.jsx("div",{className:"text-red-500 text-4xl mb-3",children:"⚠️"}),T.jsx("p",{className:"text-gray-700 font-medium text-sm mb-1",children:"데이터 로드 실패"}),T.jsx("p",{className:"text-gray-500 text-xs mb-3 text-center",children:a}),T.jsx("button",{onClick:t,className:"px-3 py-1.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:"다시 시도"})]})}function cT({searchTerm:a}){return T.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[T.jsx("div",{className:"text-gray-300 text-5xl mb-3",children:"🔍"}),T.jsx("p",{className:"text-gray-600 font-medium text-sm mb-1",children:a?"검색 결과 없음":"시설 없음"}),T.jsx("p",{className:"text-gray-500 text-xs",children:a?"다른 검색어 시도":"나중에 확인"})]})}const hT=[{id:"q1",question:"자전거 도로 찾기",answer:"지도 화면에서 자전거 도로 레이어를 활성화하거나, '경로 추천' 탭에서 인기있는 자전거 경로를 확인할 수 있습니다.",icon:T.jsx(l1,{})},{id:"q2",question:"대여소 정보 찾기",answer:"'대여소' 탭에서 각 지역의 자전거 대여소 정보를 확인할 수 있습니다.",icon:T.jsx(bS,{})},{id:"q3",question:"회원 정보 수정",answer:"우측 상단 프로필 아이콘을 클릭하여 '마이페이지'로 이동하시면 회원 정보를 수정할 수 있습니다.",icon:T.jsx(DS,{})},{id:"q4",question:"기타 문의",answer:"추가적인 도움이 필요하시면 rideon.help@gmail.com 으로 이메일을 보내주세요. 최대한 빨리 답변드리겠습니다.",icon:T.jsx(AS,{})}];function fT(){const[a,t]=j.useState([]),n=j.useRef(null);j.useEffect(()=>{t([{id:Date.now(),type:"bot",text:"안녕하세요! RideOn 고객센터입니다. 무엇을 도와드릴까요? 🤔"}])},[]),j.useEffect(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[a]);const s=r=>{const o={id:Date.now(),type:"user",text:r.question};setTimeout(()=>{const c={id:Date.now()+1,type:"bot",text:r.answer};t(h=>[...h,o,c])},200)};return T.jsxs("div",{className:"contact-panel",children:[T.jsxs("div",{className:"contact-panel__messages",children:[a.map(r=>T.jsx("div",{className:`chat-bubble chat-bubble--${r.type}`,children:r.text},r.id)),T.jsx("div",{ref:n})]}),T.jsxs("div",{className:"contact-panel__questions",children:[T.jsx("h3",{className:"contact-panel__questions-title",children:"자주 묻는 질문"}),T.jsx("div",{className:"contact-panel__faq-grid",children:hT.map(r=>T.jsxs("button",{type:"button",className:"faq-card",onClick:()=>s(r),children:[T.jsx("span",{className:"faq-card__icon",children:r.icon}),T.jsx("span",{className:"faq-card__question",children:r.question})]},r.id))})]})]})}function dT(){return T.jsxs("div",{children:[T.jsx("div",{className:"font-bold text-xl mb-4",children:"북마크 목록"}),T.jsx("div",{className:"text-gray-500",children:"아직 북마크한 항목이 없습니다."})]})}function gT({activeTab:a,onRouteClick:t,selectedRouteId:n}){const s=()=>{switch(a){case"stations":return T.jsx(aT,{});case"route":return T.jsx(iT,{onRouteClick:t,selectedRouteId:n});case"contact":return T.jsx(fT,{});case"bookmark":return T.jsx(dT,{});default:return null}};return T.jsx("div",{className:"absolute left-14 top-0 h-full w-80 bg-white shadow-lg p-6 z-10 overflow-hidden flex flex-col",children:s()})}const ps=({id:a,icon:t,text:n,activeColor:s,isActive:r,onClick:o})=>{const c=()=>{o&&o(a)};return T.jsxs("button",{type:"button",className:`filter-button ${r?"filter-button--active":""}`,style:r?{"--active-color":s}:{},onClick:c,children:[T.jsx("span",{className:"filter-button__icon",children:t}),T.jsx("span",{className:"filter-button__text",children:n})]})},o1=({onClick:a,isActive:t})=>{const[n,s]=j.useState(!1),r=async()=>{s(!0);try{await a()}finally{setTimeout(()=>s(!1),800)}};return T.jsx("button",{onClick:r,disabled:n,className:`current-location-btn ${t?"active":""} ${n?"loading":""}`,"aria-label":"현재 위치로 이동",children:T.jsx("svg",{className:"location-icon",fill:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3A8.994 8.994 0 0013 3.06V1h-2v2.06A8.994 8.994 0 003.06 11H1v2h2.06A8.994 8.994 0 0011 20.94V23h2v-2.06A8.994 8.994 0 0020.94 13H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"})})})},Np={latitude:37.5172,longitude:126.8659},mT={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},u1=()=>new Promise(a=>{if(!navigator.geolocation){console.warn("Geolocation not supported"),a(Np);return}navigator.geolocation.getCurrentPosition(t=>{const n={latitude:t.coords.latitude,longitude:t.coords.longitude};console.log("User location:",n),a(n)},t=>{console.error("Geolocation error:",t.message),a(Np)},mT)});function c1(...a){console.warn(...a)}const ve={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ip(a){const t=Rn();for(let n=0,s=a.length;n<s;++n)jl(t,a[n]);return t}function Yd(a,t,n){return n?(n[0]=a[0]-t,n[1]=a[1]-t,n[2]=a[2]+t,n[3]=a[3]+t,n):[a[0]-t,a[1]-t,a[2]+t,a[3]+t]}function h1(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a.slice()}function Xd(a,t,n){let s,r;return t<a[0]?s=a[0]-t:a[2]<t?s=t-a[2]:s=0,n<a[1]?r=a[1]-n:a[3]<n?r=n-a[3]:r=0,s*s+r*r}function fr(a,t){return f1(a,t[0],t[1])}function rr(a,t){return a[0]<=t[0]&&t[2]<=a[2]&&a[1]<=t[1]&&t[3]<=a[3]}function f1(a,t,n){return a[0]<=t&&t<=a[2]&&a[1]<=n&&n<=a[3]}function Ed(a,t){const n=a[0],s=a[1],r=a[2],o=a[3],c=t[0],h=t[1];let f=ve.UNKNOWN;return c<n?f=f|ve.LEFT:c>r&&(f=f|ve.RIGHT),h<s?f=f|ve.BELOW:h>o&&(f=f|ve.ABOVE),f===ve.UNKNOWN&&(f=ve.INTERSECTING),f}function Rn(){return[1/0,1/0,-1/0,-1/0]}function Ss(a,t,n,s,r){return r?(r[0]=a,r[1]=t,r[2]=n,r[3]=s,r):[a,t,n,s]}function nc(a){return Ss(1/0,1/0,-1/0,-1/0,a)}function d1(a,t){const n=a[0],s=a[1];return Ss(n,s,n,s,t)}function Hd(a,t,n,s,r){const o=nc(r);return g1(o,a,t,n,s)}function Ul(a,t){return a[0]==t[0]&&a[2]==t[2]&&a[1]==t[1]&&a[3]==t[3]}function _T(a,t){return t[0]<a[0]&&(a[0]=t[0]),t[2]>a[2]&&(a[2]=t[2]),t[1]<a[1]&&(a[1]=t[1]),t[3]>a[3]&&(a[3]=t[3]),a}function jl(a,t){t[0]<a[0]&&(a[0]=t[0]),t[0]>a[2]&&(a[2]=t[0]),t[1]<a[1]&&(a[1]=t[1]),t[1]>a[3]&&(a[3]=t[1])}function g1(a,t,n,s,r){for(;n<s;n+=r)pT(a,t[n],t[n+1]);return a}function pT(a,t,n){a[0]=Math.min(a[0],t),a[1]=Math.min(a[1],n),a[2]=Math.max(a[2],t),a[3]=Math.max(a[3],n)}function m1(a,t){let n;return n=t(ic(a)),n||(n=t(sc(a)),n)||(n=t(ac(a)),n)||(n=t(la(a)),n)?n:!1}function Sd(a){let t=0;return rc(a)||(t=Ft(a)*Pe(a)),t}function ic(a){return[a[0],a[1]]}function sc(a){return[a[2],a[1]]}function ia(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function yT(a,t){let n;if(t==="bottom-left")n=ic(a);else if(t==="bottom-right")n=sc(a);else if(t==="top-left")n=la(a);else if(t==="top-right")n=ac(a);else throw new Error("Invalid corner");return n}function Td(a,t,n,s,r){const[o,c,h,f,g,_,p,y]=_1(a,t,n,s);return Ss(Math.min(o,h,g,p),Math.min(c,f,_,y),Math.max(o,h,g,p),Math.max(c,f,_,y),r)}function _1(a,t,n,s){const r=t*s[0]/2,o=t*s[1]/2,c=Math.cos(n),h=Math.sin(n),f=r*c,g=r*h,_=o*c,p=o*h,y=a[0],x=a[1];return[y-f+p,x-g-_,y-f-p,x-g+_,y+f-p,x+g+_,y+f+p,x+g-_,y-f+p,x-g-_]}function Pe(a){return a[3]-a[1]}function ea(a,t,n){const s=n||Rn();return Ve(a,t)?(a[0]>t[0]?s[0]=a[0]:s[0]=t[0],a[1]>t[1]?s[1]=a[1]:s[1]=t[1],a[2]<t[2]?s[2]=a[2]:s[2]=t[2],a[3]<t[3]?s[3]=a[3]:s[3]=t[3]):nc(s),s}function la(a){return[a[0],a[3]]}function ac(a){return[a[2],a[3]]}function Ft(a){return a[2]-a[0]}function Ve(a,t){return a[0]<=t[2]&&a[2]>=t[0]&&a[1]<=t[3]&&a[3]>=t[1]}function rc(a){return a[2]<a[0]||a[3]<a[1]}function vT(a,t){return t?(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t):a}function xT(a,t,n){let s=!1;const r=Ed(a,t),o=Ed(a,n);if(r===ve.INTERSECTING||o===ve.INTERSECTING)s=!0;else{const c=a[0],h=a[1],f=a[2],g=a[3],_=t[0],p=t[1],y=n[0],x=n[1],E=(x-p)/(y-_);let R,b;o&ve.ABOVE&&!(r&ve.ABOVE)&&(R=y-(x-g)/E,s=R>=c&&R<=f),!s&&o&ve.RIGHT&&!(r&ve.RIGHT)&&(b=x-(y-f)*E,s=b>=h&&b<=g),!s&&o&ve.BELOW&&!(r&ve.BELOW)&&(R=y-(x-h)/E,s=R>=c&&R<=f),!s&&o&ve.LEFT&&!(r&ve.LEFT)&&(b=x-(y-c)*E,s=b>=h&&b<=g)}return s}function p1(a,t){const n=t.getExtent(),s=ia(a);if(t.canWrapX()&&(s[0]<n[0]||s[0]>=n[2])){const r=Ft(n),c=Math.floor((s[0]-n[0])/r)*r;a[0]-=c,a[2]-=c}return a}function y1(a,t,n){if(t.canWrapX()){const s=t.getExtent();if(!isFinite(a[0])||!isFinite(a[2]))return[[s[0],a[1],s[2],a[3]]];p1(a,t);const r=Ft(s);if(Ft(a)>r&&!n)return[[s[0],a[1],s[2],a[3]]];if(a[0]<s[0])return[[a[0]+r,a[1],s[2],a[3]],[s[0],a[1],a[2],a[3]]];if(a[2]>s[2])return[[a[0],a[1],s[2],a[3]],[s[0],a[1],a[2]-r,a[3]]]}return[a]}function Qt(a,t,n){return Math.min(Math.max(a,t),n)}function ET(a,t,n,s,r,o){const c=r-n,h=o-s;if(c!==0||h!==0){const f=((a-n)*c+(t-s)*h)/(c*c+h*h);f>1?(n=r,s=o):f>0&&(n+=c*f,s+=h*f)}return or(a,t,n,s)}function or(a,t,n,s){const r=n-a,o=s-t;return r*r+o*o}function ST(a){const t=a.length;for(let s=0;s<t;s++){let r=s,o=Math.abs(a[s][s]);for(let h=s+1;h<t;h++){const f=Math.abs(a[h][s]);f>o&&(o=f,r=h)}if(o===0)return null;const c=a[r];a[r]=a[s],a[s]=c;for(let h=s+1;h<t;h++){const f=-a[h][s]/a[s][s];for(let g=s;g<t+1;g++)s==g?a[h][g]=0:a[h][g]+=f*a[s][g]}}const n=new Array(t);for(let s=t-1;s>=0;s--){n[s]=a[s][t]/a[s][s];for(let r=s-1;r>=0;r--)a[r][t]-=a[r][s]*n[s]}return n}function zp(a){return a*180/Math.PI}function xs(a){return a*Math.PI/180}function na(a,t){const n=a%t;return n*t<0?n+t:n}function un(a,t,n){return a+n*(t-a)}function lc(a,t){const n=Math.pow(10,t);return Math.round(a*n)/n}function Tu(a,t){return Math.floor(lc(a,t))}function Ru(a,t){return Math.ceil(lc(a,t))}function Rd(a,t,n){if(a>=t&&a<n)return a;const s=n-t;return((a-t)%s+s)%s+t}function TT(a,t){return a[0]+=+t[0],a[1]+=+t[1],a}function Gu(a,t){let n=!0;for(let s=a.length-1;s>=0;--s)if(a[s]!=t[s]){n=!1;break}return n}function Kd(a,t){const n=Math.cos(t),s=Math.sin(t),r=a[0]*n-a[1]*s,o=a[1]*n+a[0]*s;return a[0]=r,a[1]=o,a}function RT(a,t){return a[0]*=t,a[1]*=t,a}function v1(a,t){if(t.canWrapX()){const n=Ft(t.getExtent()),s=bT(a,t,n);s&&(a[0]-=s*n)}return a}function bT(a,t,n){const s=t.getExtent();let r=0;return t.canWrapX()&&(a[0]<s[0]||a[0]>s[2])&&(n=n||Ft(s),r=Math.floor((a[0]-s[0])/n)),r}const Vd={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class qd{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Vd[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const to=6378137,lr=Math.PI*to,CT=[-lr,-lr,lr,lr],wT=[-180,-85,180,85],bu=to*Math.log(Math.tan(Math.PI/2));class qa extends qd{constructor(t){super({code:t,units:"m",extent:CT,global:!0,worldExtent:wT,getPointResolution:function(n,s){return n/Math.cosh(s[1]/to)}})}}const jp=[new qa("EPSG:3857"),new qa("EPSG:102100"),new qa("EPSG:102113"),new qa("EPSG:900913"),new qa("http://www.opengis.net/def/crs/EPSG/0/3857"),new qa("http://www.opengis.net/gml/srs/epsg.xml#3857")];function AT(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=s){t[o]=lr*a[o]/180;let c=to*Math.log(Math.tan(Math.PI*(+a[o+1]+90)/360));c>bu?c=bu:c<-bu&&(c=-bu),t[o+1]=c}return t}function MT(a,t,n,s){const r=a.length;n=n>1?n:2,s=s??n,t===void 0&&(n>2?t=a.slice():t=new Array(r));for(let o=0;o<r;o+=s)t[o]=180*a[o]/lr,t[o+1]=360*Math.atan(Math.exp(a[o+1]/to))/Math.PI-90;return t}const LT=6378137,kp=[-180,-90,180,90],OT=Math.PI*LT/180;class Xs extends qd{constructor(t,n){super({code:t,units:"degrees",extent:kp,axisOrientation:n,global:!0,metersPerUnit:OT,worldExtent:kp})}}const Pp=[new Xs("CRS:84"),new Xs("EPSG:4326","neu"),new Xs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Xs("urn:ogc:def:crs:OGC:2:84"),new Xs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Xs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Xs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let bd={};function DT(a){return bd[a]||bd[a.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function NT(a,t){bd[a]=t}function eo(a){for(const t in a)delete a[t]}function dr(a){let t;for(t in a)return!1;return!t}let ur={};function Gl(a,t,n){const s=a.getCode(),r=t.getCode();s in ur||(ur[s]={}),ur[s][r]=n}function Yf(a,t){return a in ur&&t in ur[a]?ur[a][t]:null}const Fu=.9996,Tn=.00669438,oc=Tn*Tn,uc=oc*Tn,qs=Tn/(1-Tn),Up=Math.sqrt(1-Tn),gr=(1-Up)/(1+Up),x1=gr*gr,Wd=x1*gr,Qd=Wd*gr,E1=Qd*gr,S1=1-Tn/4-3*oc/64-5*uc/256,IT=3*Tn/8+3*oc/32+45*uc/1024,zT=15*oc/256+45*uc/1024,jT=35*uc/3072,kT=3/2*gr-27/32*Wd+269/512*E1,PT=21/16*x1-55/32*Qd,UT=151/96*Wd-417/128*E1,GT=1097/512*Qd,Bu=6378137;function FT(a,t,n){const s=a-5e5,c=(n.north?t:t-1e7)/Fu/(Bu*S1),h=c+kT*Math.sin(2*c)+PT*Math.sin(4*c)+UT*Math.sin(6*c)+GT*Math.sin(8*c),f=Math.sin(h),g=f*f,_=Math.cos(h),p=f/_,y=p*p,x=y*y,E=1-Tn*g,R=Math.sqrt(1-Tn*g),b=Bu/R,C=(1-Tn)/E,M=qs*_**2,z=M*M,D=s/(b*Fu),O=D*D,H=O*D,W=H*D,B=W*D,Z=B*D,$=h-p/C*(O/2-W/24*(5+3*y+10*M-4*z-9*qs))+Z/720*(61+90*y+298*M+45*x-252*qs-3*z);let nt=(D-H/6*(1+2*y+M)+B/120*(5-2*M+28*y-3*z+8*qs+24*x))/_;return nt=Rd(nt+xs(T1(n.number)),-Math.PI,Math.PI),[zp(nt),zp($)]}const Gp=-80,Fp=84,BT=-180,ZT=180;function YT(a,t,n){a=Rd(a,BT,ZT),t<Gp?t=Gp:t>Fp&&(t=Fp);const s=xs(t),r=Math.sin(s),o=Math.cos(s),c=r/o,h=c*c,f=h*h,g=xs(a),_=T1(n.number),p=xs(_),y=Bu/Math.sqrt(1-Tn*r**2),x=qs*o**2,E=o*Rd(g-p,-Math.PI,Math.PI),R=E*E,b=R*E,C=b*E,M=C*E,z=M*E,D=Bu*(S1*s-IT*Math.sin(2*s)+zT*Math.sin(4*s)-jT*Math.sin(6*s)),O=Fu*y*(E+b/6*(1-h+x)+M/120*(5-18*h+f+72*x-58*qs))+5e5;let H=Fu*(D+y*c*(R/2+C/24*(5-h+9*x+4*x**2)+z/720*(61-58*h+f+600*x-330*qs)));return n.north||(H+=1e7),[O,H]}function T1(a){return(a-1)*6-180+3}const XT=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function R1(a){let t=0;for(const r of XT){const o=a.match(r);if(o){t=parseInt(o[1]);break}}if(!t)return null;let n=0,s=!1;return t>32700&&t<32761?n=t-32700:t>32600&&t<32661&&(s=!0,n=t-32600),n?{number:n,north:s}:null}function Bp(a,t){return function(n,s,r,o){const c=n.length;r=r>1?r:2,o=o??r,s||(r>2?s=n.slice():s=new Array(c));for(let h=0;h<c;h+=o){const f=n[h],g=n[h+1],_=a(f,g,t);s[h]=_[0],s[h+1]=_[1]}return s}}function HT(a){return R1(a)?new qd({code:a,units:"m"}):null}function KT(a){const t=R1(a.getCode());return t?{forward:Bp(YT,t),inverse:Bp(FT,t)}:null}const VT=63710088e-1;function Zp(a,t,n){n=n||VT;const s=xs(a[1]),r=xs(t[1]),o=(r-s)/2,c=xs(t[0]-a[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(s)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}const qT=[KT],WT=[HT];let Cd=!0;function b1(a){Cd=!1}function $d(a,t){if(t!==void 0){for(let n=0,s=a.length;n<s;++n)t[n]=a[n];t=t}else t=a.slice();return t}function wd(a){NT(a.getCode(),a),Gl(a,a,$d)}function QT(a){a.forEach(wd)}function $e(a){if(typeof a!="string")return a;const t=DT(a);if(t)return t;for(const n of WT){const s=n(a);if(s)return s}return null}function Yp(a,t,n,s){a=$e(a);let r;const o=a.getPointResolutionFunc();if(o)r=o(t,n);else{const c=a.getUnits();if(c=="degrees"&&!s||s=="degrees")r=t;else{const h=tg(a,$e("EPSG:4326"));if(!h&&c!=="degrees")r=t*a.getMetersPerUnit();else{let g=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];g=h(g,g,2);const _=Zp(g.slice(0,2),g.slice(2,4)),p=Zp(g.slice(4,6),g.slice(6,8));r=(_+p)/2}const f=a.getMetersPerUnit();f!==void 0&&(r/=f)}}return r}function Xp(a){QT(a),a.forEach(function(t){a.forEach(function(n){t!==n&&Gl(t,n,$d)})})}function $T(a,t,n,s){a.forEach(function(r){t.forEach(function(o){Gl(r,o,n),Gl(o,r,s)})})}function Jd(a,t){return a?typeof a=="string"?$e(a):a:$e(t)}function JT(a){return(function(t,n,s,r){const o=t.length;s=s!==void 0?s:2,r=r??s,n=n!==void 0?n:new Array(o);for(let c=0;c<o;c+=r){const h=a(t.slice(c,c+s)),f=h.length;for(let g=0,_=r;g<_;++g)n[c+g]=g>=f?t[c+g]:h[g]}return n})}function $n(a,t){return b1(),cc(a,"EPSG:4326","EPSG:3857")}function Xf(a,t){const n=cc(a,"EPSG:3857","EPSG:4326"),s=n[0];return(s<-180||s>180)&&(n[0]=na(s+180,360)-180),n}function Hf(a,t){if(a===t)return!0;const n=a.getUnits()===t.getUnits();return(a.getCode()===t.getCode()||tg(a,t)===$d)&&n}function tg(a,t){const n=a.getCode(),s=t.getCode();let r=Yf(n,s);if(r)return r;let o=null,c=null;for(const f of qT)o||(o=f(a)),c||(c=f(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)r=Kf(o.inverse,c.forward);else{const f=Yf(n,h);f&&(r=Kf(f,c.forward))}else{const f=Yf(h,s);f&&(r=Kf(o.inverse,f))}return r&&(wd(a),wd(t),Gl(a,t,r)),r}function Kf(a,t){return function(n,s,r,o){return s=a(n,s,r,o),t(s,s,r,o)}}function Zu(a,t){const n=$e(a),s=$e(t);return tg(n,s)}function cc(a,t,n){const s=Zu(t,n);if(!s){const r=$e(t).getCode(),o=$e(n).getCode();throw new Error(`No transform available between ${r} and ${o}`)}return s(a,void 0,a.length)}function Ad(a,t){return a}function Ei(a,t){return Cd&&!Gu(a,[0,0])&&a[0]>=-180&&a[0]<=180&&a[1]>=-90&&a[1]<=90&&(Cd=!1,c1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),a}function C1(a,t){return a}function ys(a,t){return a}function tR(){Xp(jp),Xp(Pp),$T(Pp,jp,AT,MT)}tR();function eR({activeTab:a,onTabChange:t,mapInstanceRef:n,onRouteClick:s,onFilterClick:r,children:o}){const[c,h]=j.useState([]),[f,g]=j.useState(!1),_=y=>{h(x=>x.includes(y)?x.filter(E=>E!==y):[...x,y]),r(y)},p=async()=>{const y=await u1();if(n&&n.current){const x=n.current.getView();g(!0),x.animate({center:$n([y.longitude,y.latitude]),zoom:15,duration:500})}};return T.jsxs("div",{className:"min-h-screen flex flex-col",children:[T.jsx(RS,{}),T.jsxs("div",{className:"flex flex-1 relative",children:[T.jsx(IS,{activeTab:a,onTabChange:t}),a!=="map"&&T.jsx(gT,{activeTab:a,onRouteClick:s}),T.jsxs("main",{className:"flex-1 relative",children:[a==="map"&&T.jsxs("div",{className:"filter-overlay",children:[T.jsx(ps,{id:"bike",icon:"🚲",text:"대여소",activeColor:"#4A90E2",isActive:c.includes("bike"),onClick:_}),T.jsx(ps,{id:"repair",icon:"🔧",text:"수리점",activeColor:"#FF9500",isActive:c.includes("repair"),onClick:_}),T.jsx(ps,{id:"toilet",icon:"🚻",text:"화장실",activeColor:"#34C759",isActive:c.includes("toilet"),onClick:_}),T.jsx(ps,{id:"water",icon:"💧",text:"음수대",activeColor:"#5AC8FA",isActive:c.includes("water"),onClick:_})]}),T.jsx(o1,{onClick:p,isActive:f}),o]})]})]})}const nR=({isRoutingMode:a,onToggleMode:t,startPoint:n,endPoint:s,routeInfo:r,onClearRoute:o,isSelectingStart:c,isSelectingEnd:h,onStartPointClick:f,onEndPointClick:g})=>{const _=()=>n?n.name?n.name:n.latitude!=null&&n.longitude!=null?`${n.latitude.toFixed(4)}, ${n.longitude.toFixed(4)}`:"지도에서 선택":"지도에서 선택",p=()=>s?s.name?s.name:s.latitude!=null&&s.longitude!=null?`${s.latitude.toFixed(4)}, ${s.longitude.toFixed(4)}`:"지도에서 선택":"지도에서 선택",y=R=>{R.stopPropagation(),f&&(console.log("📍 출발지 박스 클릭됨"),f())},x=R=>{R.stopPropagation(),g&&(console.log("📍 도착지 박스 클릭됨"),g())},E=()=>{console.log("🧹 초기화 버튼 클릭됨"),o&&o()};return T.jsx("div",{className:"route-control-top",children:a?T.jsxs("div",{className:"route-control__panel",children:[T.jsxs("div",{className:"route-control__header",children:[T.jsxs("h3",{className:"route-control__title",children:[T.jsx(Lp,{size:14}),"경로 탐색"]}),T.jsx("button",{className:"route-control__close",onClick:t,title:"길찾기 종료",children:T.jsx(Op,{size:16})})]}),T.jsxs("div",{className:"route-control__inputs",children:[T.jsxs("div",{className:`route-input ${c?"selecting":""} ${n?"filled":""}`,onClick:y,style:{cursor:"pointer"},children:[T.jsx("div",{className:"route-input__marker route-input__marker--start",children:T.jsx(vd,{size:11})}),T.jsxs("div",{className:"route-input__content",children:[T.jsx("label",{className:"route-input__label",children:"출발지"}),T.jsx("div",{className:"route-input__value",children:c?"지도를 클릭하세요...":_()})]}),c&&T.jsx("div",{className:"route-input__pulse"})]}),T.jsxs("div",{className:`route-input ${h?"selecting":""} ${s?"filled":""}`,onClick:x,style:{cursor:"pointer"},children:[T.jsx("div",{className:"route-input__marker route-input__marker--end",children:T.jsx(vd,{size:11})}),T.jsxs("div",{className:"route-input__content",children:[T.jsx("label",{className:"route-input__label",children:"도착지"}),T.jsx("div",{className:"route-input__value",children:h?"지도를 클릭하세요...":p()})]}),h&&T.jsx("div",{className:"route-input__pulse"})]})]}),r&&T.jsx("div",{className:"route-control__result",children:T.jsxs("div",{className:"route-result__stats",children:[T.jsxs("div",{className:"route-stat",children:[T.jsx("span",{className:"route-stat__label",children:"거리"}),T.jsx("span",{className:"route-stat__value",children:r.distance})]}),T.jsx("div",{className:"route-stat__divider"}),T.jsxs("div",{className:"route-stat",children:[T.jsx("span",{className:"route-stat__label",children:"시간"}),T.jsx("span",{className:"route-stat__value",children:r.duration})]})]})}),(n||s)&&T.jsxs("button",{className:"route-control__clear",onClick:E,children:[T.jsx(Op,{size:13}),T.jsx("span",{children:"초기화"})]})]}):T.jsxs("button",{className:"route-control__toggle",onClick:t,title:"길찾기 시작",children:[T.jsx(Lp,{size:18}),T.jsx("span",{children:"길찾기"})]})})},Xe={ADD:"add",REMOVE:"remove"},mr={PROPERTYCHANGE:"propertychange"},xt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class hc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function iR(a,t,n){let s,r;n=n||wi;let o=0,c=a.length,h=!1;for(;o<c;)s=o+(c-o>>1),r=+n(a[s],t),r<0?o=s+1:(c=s,h=!r);return h?o:~o}function wi(a,t){return a>t?1:a<t?-1:0}function sR(a,t){return a<t?1:a>t?-1:0}function eg(a,t,n){if(a[0]<=t)return 0;const s=a.length;if(t<=a[s-1])return s-1;if(typeof n=="function"){for(let r=1;r<s;++r){const o=a[r];if(o===t)return r;if(o<t)return n(t,a[r-1],o)>0?r-1:r}return s-1}if(n>0){for(let r=1;r<s;++r)if(a[r]<t)return r-1;return s-1}if(n<0){for(let r=1;r<s;++r)if(a[r]<=t)return r;return s-1}for(let r=1;r<s;++r){if(a[r]==t)return r;if(a[r]<t)return a[r-1]-t<t-a[r]?r-1:r}return s-1}function aR(a,t,n){for(;t<n;){const s=a[t];a[t]=a[n],a[n]=s,++t,--n}}function fc(a,t){const n=Array.isArray(t)?t:[t],s=n.length;for(let r=0;r<s;r++)a[a.length]=n[r]}function bs(a,t){const n=a.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(a[s]!==t[s])return!1;return!0}function rR(a,t,n){const s=t||wi;return a.every(function(r,o){if(o===0)return!0;const c=s(a[o-1],r);return!(c>0||c===0)})}function Fl(){return!0}function dc(){return!1}function Bl(){}function w1(a){let t,n,s;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==s||!bs(r,n))&&(s=this,n=r,t=a.apply(this,arguments)),t}}function lR(a){function t(){let n;try{n=a()}catch(s){return Promise.reject(s)}return n instanceof Promise?n:Promise.resolve(n)}return t()}class Ii{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class gc extends hc{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const s=this.listeners_||(this.listeners_={}),r=s[t]||(s[t]=[]);r.includes(n)||r.push(n)}dispatchEvent(t){const n=typeof t=="string",s=n?t:t.type,r=this.listeners_&&this.listeners_[s];if(!r)return;const o=n?new Ii(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});s in c||(c[s]=0,h[s]=0),++c[s];let f;for(let g=0,_=r.length;g<_;++g)if("handleEvent"in r[g]?f=r[g].handleEvent(o):f=r[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--c[s]===0){let g=h[s];for(delete h[s];g--;)this.removeEventListener(s,Bl);delete c[s]}return f}disposeInternal(){this.listeners_&&eo(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const s=this.listeners_[t];if(!s)return;const r=s.indexOf(n);r!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(s[r]=Bl,++this.pendingRemovals_[t]):(s.splice(r,1),s.length===0&&delete this.listeners_[t]))}}function Lt(a,t,n,s,r){if(r){const c=n;n=function(h){return a.removeEventListener(t,n),c.call(s??this,h)}}else s&&s!==a&&(n=n.bind(s));const o={target:a,type:t,listener:n};return a.addEventListener(t,n),o}function Yu(a,t,n,s){return Lt(a,t,n,s,!0)}function Vt(a){a&&a.target&&(a.target.removeEventListener(a.type,a.listener),eo(a))}class no extends gc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(xt.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const s=t.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=Lt(this,t[o],n);return r}return Lt(this,t,n)}onceInternal(t,n){let s;if(Array.isArray(t)){const r=t.length;s=new Array(r);for(let o=0;o<r;++o)s[o]=Yu(this,t[o],n)}else s=Yu(this,t,n);return n.ol_key=s,s}unInternal(t,n){const s=n.ol_key;if(s)oR(s);else if(Array.isArray(t))for(let r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],n);else this.removeEventListener(t,n)}}no.prototype.on;no.prototype.once;no.prototype.un;function oR(a){if(Array.isArray(a))for(let t=0,n=a.length;t<n;++t)Vt(a[t]);else Vt(a)}function Dt(){throw new Error("Unimplemented abstract method.")}let uR=0;function Nt(a){return a.ol_uid||(a.ol_uid=String(++uR))}class Hp extends Ii{constructor(t,n,s){super(t),this.key=n,this.oldValue=s}}class kn extends no{constructor(t){super(),this.on,this.once,this.un,Nt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let s;s=`change:${t}`,this.hasListener(s)&&this.dispatchEvent(new Hp(s,t,n)),s=mr.PROPERTYCHANGE,this.hasListener(s)&&this.dispatchEvent(new Hp(s,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,s){const r=this.values_||(this.values_={});if(s)r[t]=n;else{const o=r[t];r[t]=n,o!==n&&this.notify(t,o)}}setProperties(t,n){for(const s in t)this.set(s,t[s],n)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const s=this.values_[t];delete this.values_[t],dr(this.values_)&&(this.values_=null),n||this.notify(t,s)}}}const Kp={LENGTH:"length"};class Cu extends Ii{constructor(t,n,s){super(t),this.element=n,this.index=s}}class Wn extends kn{constructor(t,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=t||[],this.unique_)for(let s=0,r=this.array_.length;s<r;++s)this.assertUnique_(this.array_[s],s);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let n=0,s=t.length;n<s;++n)this.push(t[n]);return this}forEach(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)t(n[s],s,n)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(Kp.LENGTH)}insertAt(t,n){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n),this.array_.splice(t,0,n),this.updateLength_(),this.dispatchEvent(new Cu(Xe.ADD,n,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const n=this.getLength();return this.insertAt(n,t),this.getLength()}remove(t){const n=this.array_;for(let s=0,r=n.length;s<r;++s)if(n[s]===t)return this.removeAt(s)}removeAt(t){if(t<0||t>=this.getLength())return;const n=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Cu(Xe.REMOVE,n,t)),n}setAt(t,n){const s=this.getLength();if(t>=s){this.insertAt(t,n);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(n,t);const r=this.array_[t];this.array_[t]=n,this.dispatchEvent(new Cu(Xe.REMOVE,r,t)),this.dispatchEvent(new Cu(Xe.ADD,n,t))}updateLength_(){this.set(Kp.LENGTH,this.array_.length)}assertUnique_(t,n){for(let s=0,r=this.array_.length;s<r;++s)if(this.array_[s]===t&&s!==n)throw new Error("Duplicate item added to a unique collection")}}class nr extends Ii{constructor(t,n,s){super(t),this.map=n,this.frameState=s!==void 0?s:null}}class ms extends nr{constructor(t,n,s,r,o,c){super(t,n,o),this.originalEvent=s,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ne={SINGLECLICK:"singleclick",CLICK:xt.CLICK,DBLCLICK:xt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},sa=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",cR=sa.includes("safari")&&!sa.includes("chrom");cR&&(sa.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(sa));const hR=sa.includes("webkit")&&!sa.includes("edge"),A1=sa.includes("macintosh"),fR=typeof devicePixelRatio<"u"?devicePixelRatio:1,ng=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,M1=typeof Image<"u"&&Image.prototype.decode,L1=(function(){let a=!1;try{const t=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return a})(),Md={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class dR extends gc{constructor(t,n){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const s=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=s,this.pointerdownListenerKey_=Lt(s,Md.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=Lt(s,Md.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(xt.TOUCHMOVE,this.boundHandleTouchMove_,L1?{passive:!1}:!1)}emulateClick_(t){let n=new ms(ne.CLICK,this.map_,t);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new ms(ne.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const s=new ms(ne.SINGLECLICK,this.map_,t);this.dispatchEvent(s)},250)}updateActivePointers_(t){const n=t,s=n.pointerId;if(n.type==ne.POINTERUP||n.type==ne.POINTERCANCEL){delete this.trackedTouches_[s];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==ne.POINTERDOWN||n.type==ne.POINTERMOVE)&&(this.trackedTouches_[s]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const n=new ms(ne.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const n=new ms(ne.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const s=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Lt(s,ne.POINTERMOVE,this.handlePointerMove_,this),Lt(s,ne.POINTERUP,this.handlePointerUp_,this),Lt(this.element_,ne.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==s&&this.dragListenerKeys_.push(Lt(this.element_.getRootNode(),ne.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const n=new ms(ne.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const n=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new ms(ne.POINTERMOVE,this.map_,t,n))}handleTouchMove_(t){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Vt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(xt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Vt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Vt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Si={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},De={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},dt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function kt(a,t){if(!a)throw new Error(t)}const Xu=1/0;class gR{constructor(t,n){this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,eo(this.queuedElements_)}dequeue(){const t=this.elements_,n=this.priorities_,s=t[0];t.length==1?(t.length=0,n.length=0):(t[0]=t.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(s);return delete this.queuedElements_[r],s}enqueue(t){kt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(t);return n!=Xu?(this.elements_.push(t),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const n=this.elements_,s=this.priorities_,r=n.length,o=n[t],c=s[t],h=t;for(;t<r>>1;){const f=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),_=g<r&&s[g]<s[f]?g:f;n[t]=n[_],s[t]=s[_],t=_}n[t]=o,s[t]=c,this.siftDown_(h,t)}siftDown_(t,n){const s=this.elements_,r=this.priorities_,o=s[n],c=r[n];for(;n>t;){const h=this.getParentIndex_(n);if(r[h]>c)s[n]=s[h],r[n]=r[h],n=h;else break}s[n]=o,r[n]=c}reprioritize(){const t=this.priorityFunction_,n=this.elements_,s=this.priorities_;let r=0;const o=n.length;let c,h,f;for(h=0;h<o;++h)c=n[h],f=t(c),f==Xu?delete this.queuedElements_[this.keyFunction_(c)]:(s[r]=f,n[r++]=c);n.length=r,s.length=r,this.heapify_()}}class mR extends gR{constructor(t,n){super(s=>t.apply(null,s),s=>s[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const n=super.enqueue(t);return n&&t[0].addEventListener(xt.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const n=t.target,s=n.getState();if(s===dt.LOADED||s===dt.ERROR||s===dt.EMPTY){s!==dt.ERROR&&n.removeEventListener(xt.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,n){let s=0;for(;this.tilesLoading_<t&&s<n&&this.getCount()>0;){const r=this.dequeue()[0],o=r.getKey();r.getState()===dt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++s,r.load())}}}function _R(a,t,n,s,r){if(!a||!(n in a.wantedTiles)||!a.wantedTiles[n][t.getKey()])return Xu;const o=a.viewState.center,c=s[0]-o[0],h=s[1]-o[1];return 65536*Math.log(r)+Math.sqrt(c*c+h*h)/r}const Ne={ANIMATING:0,INTERACTING:1},Dn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function Vp(a,t,n){return(function(s,r,o,c,h){if(!s)return;if(!r&&!t)return s;const f=t?0:o[0]*r,g=t?0:o[1]*r,_=h?h[0]:0,p=h?h[1]:0;let y=a[0]+f/2+_,x=a[2]-f/2+_,E=a[1]+g/2+p,R=a[3]-g/2+p;y>x&&(y=(x+y)/2,x=y),E>R&&(E=(R+E)/2,R=E);let b=Qt(s[0],y,x),C=Qt(s[1],E,R);if(c&&n&&r){const M=30*r;b+=-M*Math.log(1+Math.max(0,y-s[0])/M)+M*Math.log(1+Math.max(0,s[0]-x)/M),C+=-M*Math.log(1+Math.max(0,E-s[1])/M)+M*Math.log(1+Math.max(0,s[1]-R)/M)}return[b,C]})}function pR(a){return a}function O1(a){return Math.pow(a,3)}function Sr(a){return 1-O1(1-a)}function yR(a){return 3*a*a-2*a*a*a}function vR(a){return a}new Array(6);function zn(){return[1,0,0,1,0,0]}function xR(a,t){return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a}function xe(a,t){const n=t[0],s=t[1];return t[0]=a[0]*n+a[2]*s+a[4],t[1]=a[1]*n+a[3]*s+a[5],t}function Oi(a,t,n,s,r,o,c,h){const f=Math.sin(o),g=Math.cos(o);return a[0]=s*g,a[1]=r*f,a[2]=-s*f,a[3]=r*g,a[4]=c*s*g-h*s*f+t,a[5]=c*r*f+h*r*g+n,a}function D1(a,t){const n=ER(t);kt(n!==0,"Transformation matrix cannot be inverted");const s=t[0],r=t[1],o=t[2],c=t[3],h=t[4],f=t[5];return a[0]=c/n,a[1]=-r/n,a[2]=-o/n,a[3]=s/n,a[4]=(o*f-c*h)/n,a[5]=-(s*f-r*h)/n,a}function ER(a){return a[0]*a[3]-a[1]*a[2]}const SR=[1e5,1e5,1e5,1e5,2,2];function TR(a){return"matrix("+a.join(", ")+")"}function qp(a){return a.substring(7,a.length-1).split(",").map(parseFloat)}function RR(a,t){const n=qp(a),s=qp(t);for(let r=0;r<6;++r)if(Math.round((n[r]-s[r])*SR[r])!==0)return!1;return!0}function Es(a,t,n,s,r,o,c){o=o||[],c=c||2;let h=0;for(let f=t;f<n;f+=s){const g=a[f],_=a[f+1];o[h++]=r[0]*g+r[2]*_+r[4],o[h++]=r[1]*g+r[3]*_+r[5];for(let p=2;p<c;p++)o[h++]=a[f+p]}return o&&o.length!=h&&(o.length=h),o}function N1(a,t,n,s,r,o,c){c=c||[];const h=Math.cos(r),f=Math.sin(r),g=o[0],_=o[1];let p=0;for(let y=t;y<n;y+=s){const x=a[y]-g,E=a[y+1]-_;c[p++]=g+x*h-E*f,c[p++]=_+x*f+E*h;for(let R=y+2;R<y+s;++R)c[p++]=a[R]}return c&&c.length!=p&&(c.length=p),c}function bR(a,t,n,s,r,o,c,h){h=h||[];const f=c[0],g=c[1];let _=0;for(let p=t;p<n;p+=s){const y=a[p]-f,x=a[p+1]-g;h[_++]=f+r*y,h[_++]=g+o*x;for(let E=p+2;E<p+s;++E)h[_++]=a[E]}return h&&h.length!=_&&(h.length=_),h}function CR(a,t,n,s,r,o,c){c=c||[];let h=0;for(let f=t;f<n;f+=s){c[h++]=a[f]+r,c[h++]=a[f+1]+o;for(let g=f+2;g<f+s;++g)c[h++]=a[g]}return c&&c.length!=h&&(c.length=h),c}const Wp=zn(),wR=[NaN,NaN];class AR extends kn{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=w1((t,n,s)=>{if(!s)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(s),r.getSimplifiedGeometry(n)})}simplifyTransformed(t,n){return this.simplifyTransformedInternal(this.getRevision(),t,n)}clone(){return Dt()}closestPointXY(t,n,s,r){return Dt()}containsXY(t,n){return this.closestPointXY(t,n,wR,Number.MIN_VALUE)===0}getClosestPoint(t,n){return n=n||[NaN,NaN],this.closestPointXY(t[0],t[1],n,1/0),n}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Dt()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&nc(n),this.extentRevision_=this.getRevision()}return vT(this.extent_,t)}rotate(t,n){Dt()}scale(t,n,s){Dt()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Dt()}getType(){return Dt()}applyTransform(t){Dt()}intersectsExtent(t){return Dt()}translate(t,n){Dt()}transform(t,n){const s=$e(t),r=s.getUnits()=="tile-pixels"?function(o,c,h){const f=s.getExtent(),g=s.getWorldExtent(),_=Pe(g)/Pe(f);Oi(Wp,g[0],g[3],_,-_,0,0,0);const p=Es(o,0,o.length,h,Wp,c),y=Zu(s,n);return y?y(p,p,h):p}:Zu(s,n);return this.applyTransform(r),this}}class mc extends AR{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Hd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Dt()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,n){this.stride=Qp(t),this.layout=t,this.flatCoordinates=n}setCoordinates(t,n){Dt()}setLayout(t,n,s){let r;if(t)r=Qp(t);else{for(let o=0;o<s;++o){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,t=MR(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();N1(s,0,s.length,r,t,n,s),this.changed()}}scale(t,n,s){n===void 0&&(n=t),s||(s=ia(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();bR(r,0,r.length,o,t,n,s,r),this.changed()}}translate(t,n){const s=this.getFlatCoordinates();if(s){const r=this.getStride();CR(s,0,s.length,r,t,n,s),this.changed()}}}function MR(a){let t;return a==2?t="XY":a==3?t="XYZ":a==4&&(t="XYZM"),t}function Qp(a){let t;return a=="XY"?t=2:a=="XYZ"||a=="XYM"?t=3:a=="XYZM"&&(t=4),t}function LR(a,t,n){const s=a.getFlatCoordinates();if(!s)return null;const r=a.getStride();return Es(s,0,s.length,r,t,n)}function I1(a,t,n,s){let r=0;const o=a[n-s],c=a[n-s+1];let h=0,f=0;for(;t<n;t+=s){const g=a[t]-o,_=a[t+1]-c;r+=f*g-h*_,h=g,f=_}return r/2}function OR(a,t,n,s){let r=0;for(let o=0,c=n.length;o<c;++o){const h=n[o];r+=I1(a,t,h,s),t=h}return r}function $p(a,t,n,s,r,o,c){const h=a[t],f=a[t+1],g=a[n]-h,_=a[n+1]-f;let p;if(g===0&&_===0)p=t;else{const y=((r-h)*g+(o-f)*_)/(g*g+_*_);if(y>1)p=n;else if(y>0){for(let x=0;x<s;++x)c[x]=un(a[t+x],a[n+x],y);c.length=s;return}else p=t}for(let y=0;y<s;++y)c[y]=a[p+y];c.length=s}function ig(a,t,n,s,r){let o=a[t],c=a[t+1];for(t+=s;t<n;t+=s){const h=a[t],f=a[t+1],g=or(o,c,h,f);g>r&&(r=g),o=h,c=f}return r}function DR(a,t,n,s,r){for(let o=0,c=n.length;o<c;++o){const h=n[o];r=ig(a,t,h,s,r),t=h}return r}function sg(a,t,n,s,r,o,c,h,f,g,_){if(t==n)return g;let p,y;if(r===0){if(y=or(c,h,a[t],a[t+1]),y<g){for(p=0;p<s;++p)f[p]=a[t+p];return f.length=s,y}return g}_=_||[NaN,NaN];let x=t+s;for(;x<n;)if($p(a,x-s,x,s,c,h,_),y=or(c,h,_[0],_[1]),y<g){for(g=y,p=0;p<s;++p)f[p]=_[p];f.length=s,x+=s}else x+=s*Math.max((Math.sqrt(y)-Math.sqrt(g))/r|0,1);if(o&&($p(a,n-s,t,s,c,h,_),y=or(c,h,_[0],_[1]),y<g)){for(g=y,p=0;p<s;++p)f[p]=_[p];f.length=s}return g}function NR(a,t,n,s,r,o,c,h,f,g,_){_=_||[NaN,NaN];for(let p=0,y=n.length;p<y;++p){const x=n[p];g=sg(a,t,x,s,r,o,c,h,f,g,_),t=x}return g}function IR(a,t,n,s){for(let r=0,o=n.length;r<o;++r)a[t++]=n[r];return t}function ag(a,t,n,s){for(let r=0,o=n.length;r<o;++r){const c=n[r];for(let h=0;h<s;++h)a[t++]=c[h]}return t}function zR(a,t,n,s,r){r=r||[];let o=0;for(let c=0,h=n.length;c<h;++c){const f=ag(a,t,n[c],s);r[o++]=f,t=f}return r.length=o,r}function Ws(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=t;c<n;c+=s)r[o++]=a.slice(c,c+s);return r.length=o,r}function Hu(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const f=n[c];r[o++]=Ws(a,t,f,s,r[o]),t=f}return r.length=o,r}function Jp(a,t,n,s,r){r=r!==void 0?r:[];let o=0;for(let c=0,h=n.length;c<h;++c){const f=n[c];r[o++]=f.length===1&&f[0]===t?[]:Hu(a,t,f,s,r[o]),t=f[f.length-1]}return r.length=o,r}function _c(a,t,n,s,r,o,c){const h=(n-t)/s;if(h<3){for(;t<n;t+=s)o[c++]=a[t],o[c++]=a[t+1];return c}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[t,n-s];let _=0;for(;g.length>0;){const p=g.pop(),y=g.pop();let x=0;const E=a[y],R=a[y+1],b=a[p],C=a[p+1];for(let M=y+s;M<p;M+=s){const z=a[M],D=a[M+1],O=ET(z,D,E,R,b,C);O>x&&(_=M,x=O)}x>r&&(f[(_-t)/s]=1,y+s<_&&g.push(y,_),_+s<p&&g.push(_,p))}for(let p=0;p<h;++p)f[p]&&(o[c++]=a[t+p*s],o[c++]=a[t+p*s+1]);return c}function jR(a,t,n,s,r,o,c,h){for(let f=0,g=n.length;f<g;++f){const _=n[f];c=_c(a,t,_,s,r,o,c),h.push(c),t=_}return c}function Ks(a,t){return t*Math.round(a/t)}function kR(a,t,n,s,r,o,c){if(t==n)return c;let h=Ks(a[t],r),f=Ks(a[t+1],r);t+=s,o[c++]=h,o[c++]=f;let g,_;do if(g=Ks(a[t],r),_=Ks(a[t+1],r),t+=s,t==n)return o[c++]=g,o[c++]=_,c;while(g==h&&_==f);for(;t<n;){const p=Ks(a[t],r),y=Ks(a[t+1],r);if(t+=s,p==g&&y==_)continue;const x=g-h,E=_-f,R=p-h,b=y-f;if(x*b==E*R&&(x<0&&R<x||x==R||x>0&&R>x)&&(E<0&&b<E||E==b||E>0&&b>E)){g=p,_=y;continue}o[c++]=g,o[c++]=_,h=g,f=_,g=p,_=y}return o[c++]=g,o[c++]=_,c}function z1(a,t,n,s,r,o,c,h){for(let f=0,g=n.length;f<g;++f){const _=n[f];c=kR(a,t,_,s,r,o,c),h.push(c),t=_}return c}class Zl extends mc{constructor(t,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}clone(){return new Zl(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,n,s,r){return r<Xd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ig(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,n,s,r))}getArea(){return I1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const n=[];return n.length=_c(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Zl(n,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ag(this.flatCoordinates,0,t,this.stride),this.changed()}}class Ts extends mc{constructor(t,n){super(),this.setCoordinates(t,n)}clone(){const t=new Ts(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){const o=this.flatCoordinates,c=or(t,n,o[0],o[1]);if(c<r){const h=this.stride;for(let f=0;f<h;++f)s[f]=o[f];return s.length=h,c}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return d1(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return f1(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=IR(this.flatCoordinates,0,t,this.stride),this.changed()}}function PR(a,t,n,s,r){return!m1(r,function(c){return!Qs(a,t,n,s,c[0],c[1])})}function Qs(a,t,n,s,r,o){let c=0,h=a[n-s],f=a[n-s+1];for(;t<n;t+=s){const g=a[t],_=a[t+1];f<=o?_>o&&(g-h)*(o-f)-(r-h)*(_-f)>0&&c++:_<=o&&(g-h)*(o-f)-(r-h)*(_-f)<0&&c--,h=g,f=_}return c!==0}function j1(a,t,n,s,r,o){if(n.length===0||!Qs(a,t,n[0],s,r,o))return!1;for(let c=1,h=n.length;c<h;++c)if(Qs(a,n[c-1],n[c],s,r,o))return!1;return!0}function rg(a,t,n,s,r,o,c){let h,f,g,_,p,y,x;const E=r[o+1],R=[];for(let M=0,z=n.length;M<z;++M){const D=n[M];for(_=a[D-s],y=a[D-s+1],h=t;h<D;h+=s)p=a[h],x=a[h+1],(E<=y&&x<=E||y<=E&&E<=x)&&(g=(E-y)/(x-y)*(p-_)+_,R.push(g)),_=p,y=x}let b=NaN,C=-1/0;for(R.sort(wi),_=R[0],h=1,f=R.length;h<f;++h){p=R[h];const M=Math.abs(p-_);M>C&&(g=(_+p)/2,j1(a,t,n,s,g,E)&&(b=g,C=M)),_=p}return isNaN(b)&&(b=r[o]),c?(c.push(b,E,C),c):[b,E,C]}function UR(a,t,n,s,r){let o=[];for(let c=0,h=n.length;c<h;++c){const f=n[c];o=rg(a,t,f,s,r,2*c,o),t=f[f.length-1]}return o}function k1(a,t,n,s,r){let o;for(t+=s;t<n;t+=s)if(o=r(a.slice(t-s,t),a.slice(t,t+s)),o)return o;return!1}function lg(a,t,n,s,r,o){return o=o??g1(Rn(),a,t,n,s),Ve(r,o)?o[0]>=r[0]&&o[2]<=r[2]||o[1]>=r[1]&&o[3]<=r[3]?!0:k1(a,t,n,s,function(c,h){return xT(r,c,h)}):!1}function P1(a,t,n,s,r){return!!(lg(a,t,n,s,r)||Qs(a,t,n,s,r[0],r[1])||Qs(a,t,n,s,r[0],r[3])||Qs(a,t,n,s,r[2],r[1])||Qs(a,t,n,s,r[2],r[3]))}function GR(a,t,n,s,r){if(!P1(a,t,n[0],s,r))return!1;if(n.length===1)return!0;for(let o=1,c=n.length;o<c;++o)if(PR(a,n[o-1],n[o],s,r)&&!lg(a,n[o-1],n[o],s,r))return!1;return!0}function FR(a,t,n,s){for(;t<n-s;){for(let r=0;r<s;++r){const o=a[t+r];a[t+r]=a[n-s+r],a[n-s+r]=o}t+=s,n-=s}}function og(a,t,n,s){let r=0,o=a[n-s],c=a[n-s+1];for(;t<n;t+=s){const h=a[t],f=a[t+1];r+=(h-o)*(f+c),o=h,c=f}return r===0?void 0:r>0}function BR(a,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],f=og(a,t,h,s);if(o===0){if(r&&f||!r&&!f)return!1}else if(r&&!f||!r&&f)return!1;t=h}return!0}function ty(a,t,n,s,r){r=r!==void 0?r:!1;for(let o=0,c=n.length;o<c;++o){const h=n[o],f=og(a,t,h,s);(o===0?r&&f||!r&&!f:r&&!f||!r&&f)&&FR(a,t,h,s),t=h}return t}function ZR(a,t){const n=[];let s=0,r=0,o;for(let c=0,h=t.length;c<h;++c){const f=t[c],g=og(a,s,f,2);if(o===void 0&&(o=g),g===o)n.push(t.slice(r,c+1));else{if(n.length===0)continue;n[n.length-1].push(t[r])}r=c+1,s=f}return n}class Yl extends mc{constructor(t,n,s){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&s?(this.setFlatCoordinates(n,t),this.ends_=s):this.setCoordinates(t,n)}appendLinearRing(t){this.flatCoordinates?fc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new Yl(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<Xd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(DR(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),NR(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,n,s,r))}containsXY(t,n){return j1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,n)}getArea(){return OR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let n;return t!==void 0?(n=this.getOrientedFlatCoordinates().slice(),ty(n,0,this.ends_,this.stride,t)):n=this.flatCoordinates,Hu(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=ia(this.getExtent());this.flatInteriorPoint_=rg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ts(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Zl(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,n=this.flatCoordinates,s=this.ends_,r=[];let o=0;for(let c=0,h=s.length;c<h;++c){const f=s[c],g=new Zl(n.slice(o,f),t);r.push(g),o=f}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;BR(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ty(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const n=[],s=[];return n.length=z1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,s),new Yl(n,"XY",s)}getType(){return"Polygon"}intersectsExtent(t){return GR(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,n){this.setLayout(n,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const s=zR(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()}}function ey(a){if(rc(a))throw new Error("Cannot create polygon from empty extent");const t=a[0],n=a[1],s=a[2],r=a[3],o=[t,n,t,r,s,r,s,n,t,n];return new Yl(o,"XY",[o.length])}function ug(a,t,n,s){const r=Ft(t)/n[0],o=Pe(t)/n[1];return s?Math.min(a,Math.max(r,o)):Math.min(a,Math.min(r,o))}function cg(a,t,n){let s=Math.min(a,t);const r=50;return s*=Math.log(1+r*Math.max(0,a/t-1))/r+1,n&&(s=Math.max(s,n),s/=Math.log(1+r*Math.max(0,n/a-1))/r+1),Qt(s,n/2,t*2)}function YR(a,t,n,s){return t=t!==void 0?t:!0,(function(r,o,c,h){if(r!==void 0){const f=a[0],g=a[a.length-1],_=n?ug(f,n,c,s):f;if(h)return t?cg(r,_,g):Qt(r,g,_);const p=Math.min(_,r),y=Math.floor(eg(a,p,o));return a[y]>_&&y<a.length-1?a[y+1]:a[y]}})}function XR(a,t,n,s,r,o){return s=s!==void 0?s:!0,n=n!==void 0?n:0,(function(c,h,f,g){if(c!==void 0){const _=r?ug(t,r,f,o):t;if(g)return s?cg(c,_,n):Qt(c,n,_);const p=1e-9,y=Math.ceil(Math.log(t/_)/Math.log(a)-p),x=-h*(.5-p)+.5,E=Math.min(_,c),R=Math.floor(Math.log(t/E)/Math.log(a)+x),b=Math.max(y,R),C=t/Math.pow(a,b);return Qt(C,n,_)}})}function ny(a,t,n,s,r){return n=n!==void 0?n:!0,(function(o,c,h,f){if(o!==void 0){const g=s?ug(a,s,h,r):a;return!n||!f?Qt(o,t,g):cg(o,g,t)}})}function hg(a){if(a!==void 0)return 0}function iy(a){if(a!==void 0)return a}function HR(a){const t=2*Math.PI/a;return(function(n,s){if(s)return n;if(n!==void 0)return n=Math.floor(n/t+.5)*t,n})}function KR(a){const t=xs(5);return(function(n,s){return s||n===void 0?n:Math.abs(n)<=t?0:n})}const VR=42,fg=256,Vf=0;class Vn extends kn{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Jd(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&b1(),t.center&&(t.center=Ei(t.center,this.projection_)),t.extent&&(t.extent=ys(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const n=Object.assign({},t);for(const h in Dn)delete n[h];this.setProperties(n,!0);const s=WR(t);this.maxResolution_=s.maxResolution,this.minResolution_=s.minResolution,this.zoomFactor_=s.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=s.minZoom;const r=qR(t),o=s.constraint,c=QR(t);this.constraints_={center:r,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let n=this.padding_;this.padding_=t;const s=this.getCenterInternal();if(s){const r=t||[0,0,0,0];n=n||[0,0,0,0];const o=this.getResolution(),c=o/2*(r[3]-n[3]+n[1]-r[1]),h=o/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([s[0]+c,s[1]-h])}}getUpdatedOptions_(t){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let s=0;s<n.length;++s){let r=arguments[s];r.center&&(r=Object.assign({},r),r.center=Ei(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Ei(r.anchor,this.getProjection())),n[s]=r}this.animateInternal.apply(this,n)}animateInternal(t){let n=arguments.length,s;n>1&&typeof arguments[n-1]=="function"&&(s=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const _=arguments[r];_.center&&this.setCenterInternal(_.center),_.zoom!==void 0?this.setZoom(_.zoom):_.resolution&&this.setResolution(_.resolution),_.rotation!==void 0&&this.setRotation(_.rotation)}if(r===n){s&&wu(s,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;r<n;++r){const _=arguments[r],p={start:o,complete:!1,anchor:_.anchor,duration:_.duration!==void 0?_.duration:1e3,easing:_.easing||yR,callback:s};if(_.center&&(p.sourceCenter=c,p.targetCenter=_.center.slice(),c=p.targetCenter),_.zoom!==void 0?(p.sourceResolution=h,p.targetResolution=this.getResolutionForZoom(_.zoom),h=p.targetResolution):_.resolution&&(p.sourceResolution=h,p.targetResolution=_.resolution,h=p.targetResolution),_.rotation!==void 0){p.sourceRotation=f;const y=na(_.rotation-f+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=f+y,f=p.targetRotation}$R(p)?p.complete=!0:o+=p.duration,g.push(p)}this.animations_.push(g),this.setHint(Ne.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[Ne.ANIMATING]>0}getInteracting(){return this.hints_[Ne.INTERACTING]>0}cancelAnimations(){this.setHint(Ne.ANIMATING,-this.hints_[Ne.ANIMATING]);let t;for(let n=0,s=this.animations_.length;n<s;++n){const r=this.animations_[n];if(r[0].callback&&wu(r[0].callback,!1),!t)for(let o=0,c=r.length;o<c;++o){const h=r[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let n=!1;for(let s=this.animations_.length-1;s>=0;--s){const r=this.animations_[s];let o=!0;for(let c=0,h=r.length;c<h;++c){const f=r[c];if(f.complete)continue;const g=t-f.start;let _=f.duration>0?g/f.duration:1;_>=1?(f.complete=!0,_=1):o=!1;const p=f.easing(_);if(f.sourceCenter){const y=f.sourceCenter[0],x=f.sourceCenter[1],E=f.targetCenter[0],R=f.targetCenter[1];this.nextCenter_=f.targetCenter;const b=y+p*(E-y),C=x+p*(R-x);this.targetCenter_=[b,C]}if(f.sourceResolution&&f.targetResolution){const y=p===1?f.targetResolution:f.sourceResolution+p*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(y,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=y,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const y=p===1?na(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+p*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(y,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=y}if(this.applyTargetState_(!0),n=!0,!f.complete)break}if(o){this.animations_[s]=null,this.setHint(Ne.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=r[0].callback;c&&wu(c,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,n){let s;const r=this.getCenterInternal();return r!==void 0&&(s=[r[0]-n[0],r[1]-n[1]],Kd(s,t-this.getRotation()),TT(s,n)),s}calculateCenterZoom(t,n){let s;const r=this.getCenterInternal(),o=this.getResolution();if(r!==void 0&&o!==void 0){const c=n[0]-t*(n[0]-r[0])/o,h=n[1]-t*(n[1]-r[1])/o;s=[c,h]}return s}getViewportSize_(t){const n=this.viewportSize_;if(t){const s=n[0],r=n[1];return[Math.abs(s*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(s*Math.sin(t))+Math.abs(r*Math.cos(t))]}return n}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&Ad(t,this.getProjection())}getCenterInternal(){return this.get(Dn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const n=this.calculateExtentInternal(t);return C1(n,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();kt(n,"The view center is not defined");const s=this.getResolution();kt(s!==void 0,"The view resolution is not defined");const r=this.getRotation();return kt(r!==void 0,"The view rotation is not defined"),Td(n,s,r,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(Dn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,n){return this.getResolutionForExtentInternal(ys(t,this.getProjection()),n)}getResolutionForExtentInternal(t,n){n=n||this.getViewportSizeMinusPadding_();const s=Ft(t)/n[0],r=Pe(t)/n[1];return Math.max(s,r)}getResolutionForValueFunction(t){t=t||2;const n=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(n/s)/Math.log(t);return(function(o){return n/Math.pow(t,o*r)})}getRotation(){return this.get(Dn.ROTATION)}getValueForResolutionFunction(t){const n=Math.log(t||2),s=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(s/r)/n;return(function(c){return Math.log(s/c)/n/o})}getViewportSizeMinusPadding_(t){let n=this.getViewportSize_(t);const s=this.padding_;return s&&(n=[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n}getState(){const t=this.getProjection(),n=this.getResolution(),s=this.getRotation();let r=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();r=qf(r,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],n,s)}return{center:r.slice(0),projection:t!==void 0?t:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:s,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const n=this.getResolution();return n!==void 0&&(t=this.getZoomForResolution(n)),t}getZoomForResolution(t){let n=this.minZoom_||0,s,r;if(this.resolutions_){const o=eg(this.resolutions_,t,1);n=o,s=this.resolutions_[o],o==this.resolutions_.length-1?r=2:r=s/this.resolutions_[o+1]}else s=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(s/t)/Math.log(r)}getResolutionForZoom(t){if(this.resolutions_?.length){if(this.resolutions_.length===1)return this.resolutions_[0];const n=Qt(Math.floor(t),0,this.resolutions_.length-2),s=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(s,Qt(t-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,n){let s;if(kt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){kt(!rc(t),"Cannot fit empty extent provided as `geometry`");const r=ys(t,this.getProjection());s=ey(r)}else if(t.getType()==="Circle"){const r=ys(t.getExtent(),this.getProjection());s=ey(r),s.rotate(this.getRotation(),ia(r))}else s=t;this.fitInternal(s,n)}rotatedExtentForGeometry(t){const n=this.getRotation(),s=Math.cos(n),r=Math.sin(-n),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,f=1/0,g=-1/0,_=-1/0;for(let p=0,y=o.length;p<y;p+=c){const x=o[p]*s-o[p+1]*r,E=o[p]*r+o[p+1]*s;h=Math.min(h,x),f=Math.min(f,E),g=Math.max(g,x),_=Math.max(_,E)}return[h,f,g,_]}fitInternal(t,n){n=n||{};let s=n.size;s||(s=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],o=n.nearest!==void 0?n.nearest:!1;let c;n.minResolution!==void 0?c=n.minResolution:n.maxZoom!==void 0?c=this.getResolutionForZoom(n.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let f=this.getResolutionForExtentInternal(h,[s[0]-r[1]-r[3],s[1]-r[0]-r[2]]);f=isNaN(f)?c:Math.max(f,c),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),_=Math.sin(g),p=Math.cos(g),y=ia(h);y[0]+=(r[1]-r[3])/2*f,y[1]+=(r[0]-r[2])/2*f;const x=y[0]*p-y[1]*_,E=y[1]*p+y[0]*_,R=this.getConstrainedCenter([x,E],f),b=n.callback?n.callback:Bl;n.duration!==void 0?this.animateInternal({resolution:f,center:R,duration:n.duration,easing:n.easing},b):(this.targetResolution_=f,this.targetCenter_=R,this.applyTargetState_(!1,!0),wu(b,!0))}centerOn(t,n,s){this.centerOnInternal(Ei(t,this.getProjection()),n,s)}centerOnInternal(t,n,s){this.setCenterInternal(qf(t,n,s,this.getResolution(),this.getRotation()))}calculateCenterShift(t,n,s,r){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-s),f=qf(t,r,[h[0]/2+c[3],h[1]/2+c[0]],n,s);o=[t[0]-f[0],t[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const n=Ad(this.targetCenter_,this.getProjection());this.setCenter([n[0]+t[0],n[1]+t[1]])}adjustCenterInternal(t){const n=this.targetCenter_;this.setCenterInternal([n[0]+t[0],n[1]+t[1]])}adjustResolution(t,n){n=n&&Ei(n,this.getProjection()),this.adjustResolutionInternal(t,n)}adjustResolutionInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,s);n&&(this.targetCenter_=this.calculateCenterZoom(o,n)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,n){this.adjustResolution(Math.pow(this.zoomFactor_,-t),n)}adjustRotation(t,n){n&&(n=Ei(n,this.getProjection())),this.adjustRotationInternal(t,n)}adjustRotationInternal(t,n){const s=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,s);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&Ei(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,n){return this.hints_[t]+=n,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,n){const s=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,s),o=this.getViewportSize_(r),c=this.constraints_.resolution(this.targetResolution_,0,o,s),h=this.constraints_.center(this.targetCenter_,c,o,s,this.calculateCenterShift(this.targetCenter_,c,r,o));this.get(Dn.ROTATION)!==r&&this.set(Dn.ROTATION,r),this.get(Dn.RESOLUTION)!==c&&(this.set(Dn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(Dn.CENTER)||!Gu(this.get(Dn.CENTER),h))&&this.set(Dn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,n,s){t=t!==void 0?t:200;const r=n||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,c),f=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}s=s||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!Gu(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:t,easing:Sr,anchor:s}))}beginInteraction(){this.resolveConstraints(0),this.setHint(Ne.INTERACTING,1)}endInteraction(t,n,s){s=s&&Ei(s,this.getProjection()),this.endInteractionInternal(t,n,s)}endInteractionInternal(t,n,s){this.getInteracting()&&(this.setHint(Ne.INTERACTING,-1),this.resolveConstraints(t,n,s))}getConstrainedCenter(t,n){const s=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,n||this.getResolution(),s)}getConstrainedZoom(t,n){const s=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(s,n))}getConstrainedResolution(t,n){n=n||0;const s=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,s)}}function wu(a,t){setTimeout(function(){a(t)},0)}function qR(a){if(a.extent!==void 0){const n=a.smoothExtentConstraint!==void 0?a.smoothExtentConstraint:!0;return Vp(a.extent,a.constrainOnlyCenter,n)}const t=Jd(a.projection,"EPSG:3857");if(a.multiWorld!==!0&&t.isGlobal()){const n=t.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Vp(n,!1,!1)}return pR}function WR(a){let t,n,s,c=a.minZoom!==void 0?a.minZoom:Vf,h=a.maxZoom!==void 0?a.maxZoom:28;const f=a.zoomFactor!==void 0?a.zoomFactor:2,g=a.multiWorld!==void 0?a.multiWorld:!1,_=a.smoothResolutionConstraint!==void 0?a.smoothResolutionConstraint:!0,p=a.showFullExtent!==void 0?a.showFullExtent:!1,y=Jd(a.projection,"EPSG:3857"),x=y.getExtent();let E=a.constrainOnlyCenter,R=a.extent;if(!g&&!R&&y.isGlobal()&&(E=!1,R=x),a.resolutions!==void 0){const b=a.resolutions;n=b[c],s=b[h]!==void 0?b[h]:b[b.length-1],a.constrainResolution?t=YR(b,_,!E&&R,p):t=ny(n,s,_,!E&&R,p)}else{const C=(x?Math.max(Ft(x),Pe(x)):360*Vd.degrees/y.getMetersPerUnit())/fg/Math.pow(2,Vf),M=C/Math.pow(2,28-Vf);n=a.maxResolution,n!==void 0?c=0:n=C/Math.pow(f,c),s=a.minResolution,s===void 0&&(a.maxZoom!==void 0?a.maxResolution!==void 0?s=n/Math.pow(f,h):s=C/Math.pow(f,h):s=M),h=c+Math.floor(Math.log(n/s)/Math.log(f)),s=n/Math.pow(f,h-c),a.constrainResolution?t=XR(f,n,s,_,!E&&R,p):t=ny(n,s,_,!E&&R,p)}return{constraint:t,maxResolution:n,minResolution:s,minZoom:c,zoomFactor:f}}function QR(a){if(a.enableRotation!==void 0?a.enableRotation:!0){const n=a.constrainRotation;return n===void 0||n===!0?KR():n===!1?iy:typeof n=="number"?HR(n):iy}return hg}function $R(a){return!(a.sourceCenter&&a.targetCenter&&!Gu(a.sourceCenter,a.targetCenter)||a.sourceResolution!==a.targetResolution||a.sourceRotation!==a.targetRotation)}function qf(a,t,n,s,r){const o=Math.cos(-r);let c=Math.sin(-r),h=a[0]*o-a[1]*c,f=a[1]*o+a[0]*c;h+=(t[0]/2-n[0])*s,f+=(n[1]-t[1]/2)*s,c=-c;const g=h*o-f*c,_=f*o+h*c;return[g,_]}const Au="ol-hidden",JR="ol-selectable",pc="ol-unselectable",dg="ol-control",sy="ol-collapsed",tb=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),ay=["style","variant","weight","size","lineHeight","family"],Ld={normal:400,bold:700},Od=function(a){const t=a.match(tb);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let s=0,r=ay.length;s<r;++s){const o=t[s+1];o!==void 0&&(n[ay[s]]=typeof o=="string"?o.trim():o)}return isNaN(Number(n.weight))&&n.weight in Ld&&(n.weight=Ld[n.weight]),n.families=n.family.split(/,\s?/).map(s=>s.trim().replace(/^['"]|['"]$/g,"")),n};function fe(a,t,n,s){let r;return n&&n.length?r=n.shift():ng?r=new OffscreenCanvas(a||300,t||300):r=document.createElement("canvas"),a&&(r.width=a),t&&(r.height=t),r.getContext("2d",s)}let Wf;function Ku(){return Wf||(Wf=fe(1,1)),Wf}function yc(a){const t=a.canvas;t.width=1,t.height=1,a.clearRect(0,0,1,1)}function eb(a){let t=a.offsetWidth;const n=getComputedStyle(a);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function nb(a){let t=a.offsetHeight;const n=getComputedStyle(a);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function ry(a,t){const n=t.parentNode;n&&n.replaceChild(a,t)}function U1(a){for(;a.lastChild;)a.lastChild.remove()}function ib(a,t){const n=a.childNodes;for(let s=0;;++s){const r=n[s],o=t[s];if(!r&&!o)break;if(r!==o){if(!r){a.appendChild(o);continue}if(!o){a.removeChild(r),--s;continue}a.insertBefore(o,r)}}}class gg extends kn{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){this.element?.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&this.element?.remove();for(let n=0,s=this.listenerKeys.length;n<s;++n)Vt(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=t,t){const n=this.target_??t.getOverlayContainerStopEvent();this.element&&n.appendChild(this.element),this.render!==Bl&&this.listenerKeys.push(Lt(t,Si.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class sb extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const n=t.className!==void 0?t.className:"ol-attribution",s=t.tipLabel!==void 0?t.tipLabel:"Attributions",r=t.expandClassName!==void 0?t.expandClassName:n+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"›",c=t.collapseClassName!==void 0?t.collapseClassName:n+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=r):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=s,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(xt.CLICK,this.handleClick_.bind(this),!1);const g=n+" "+pc+" "+dg+(this.collapsed_&&this.collapsible_?" "+sy:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=g,_.appendChild(this.toggleButton_),_.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const n=this.getMap().getAllLayers(),s=new Set(n.flatMap(r=>r.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>s.add(r)):s.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(o=>o.getSource()?.getAttributionsCollapsible()===!1);this.setCollapsible(r)}return Array.from(s)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(t).map(r=>lR(()=>r))),s=n.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!bs(n,this.renderedAttributions_)){U1(this.ulElement_);for(let r=0,o=n.length;r<o;++r){const c=document.createElement("li");c.innerHTML=n[r],this.ulElement_.appendChild(c)}this.renderedAttributions_=n}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(sy),this.collapsed_?ry(this.collapseLabel_,this.label_):ry(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class ab extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const n=t.className!==void 0?t.className:"ol-rotate",s=t.label!==void 0?t.label:"⇧",r=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof s=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=s):(this.label_=s,this.label_.classList.add(r));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=n+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(xt.CLICK,this.handleClick_.bind(this),!1);const h=n+" "+pc+" "+dg,f=this.element;f.className=h,f.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Au)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const s=n.getRotation();s!==void 0&&(this.duration_>0&&s%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Sr}):n.setRotation(0))}render(t){const n=t.frameState;if(!n)return;const s=n.viewState.rotation;if(s!=this.rotation_){const r="rotate("+s+"rad)";if(this.autoHide_){const o=this.element.classList.contains(Au);!o&&s===0?this.element.classList.add(Au):o&&s!==0&&this.element.classList.remove(Au)}this.label_.style.transform=r}this.rotation_=s}}class rb extends gg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",s=t.delta!==void 0?t.delta:1,r=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"–",f=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",g=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",_=document.createElement("button");_.className=r,_.setAttribute("type","button"),_.title=f,_.appendChild(typeof c=="string"?document.createTextNode(c):c),_.addEventListener(xt.CLICK,this.handleClick_.bind(this,s),!1);const p=document.createElement("button");p.className=o,p.setAttribute("type","button"),p.title=g,p.appendChild(typeof h=="string"?document.createTextNode(h):h),p.addEventListener(xt.CLICK,this.handleClick_.bind(this,-s),!1);const y=n+" "+pc+" "+dg,x=this.element;x.className=y,x.appendChild(_),x.appendChild(p),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const s=this.getMap().getView();if(!s)return;const r=s.getZoom();if(r!==void 0){const o=s.getConstrainedZoom(r+t);this.duration_>0?(s.getAnimating()&&s.cancelAnimations(),s.animate({zoom:o,duration:this.duration_,easing:Sr})):s.setZoom(o)}}}function lb(a){a=a||{};const t=new Wn;return(a.zoom!==void 0?a.zoom:!0)&&t.push(new rb(a.zoomOptions)),(a.rotate!==void 0?a.rotate:!0)&&t.push(new ab(a.rotateOptions)),(a.attribution!==void 0?a.attribution:!0)&&t.push(new sb(a.attributionOptions)),t}class ob{constructor(t,n,s){this.decay_=t,this.minVelocity_=n,this.delay_=s,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,n){this.points_.push(t,n,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<t)return!1;let s=n-3;for(;s>0&&this.points_[s+2]>t;)s-=3;const r=this.points_[n+2]-this.points_[s+2];if(r<1e3/60)return!1;const o=this.points_[n]-this.points_[s],c=this.points_[n+1]-this.points_[s+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const ly={ACTIVE:"active"};class io extends kn{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(ly.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(ly.ACTIVE,t)}setMap(t){this.map_=t}}function ub(a,t,n){const s=a.getCenterInternal();if(s){const r=[s[0]+t[0],s[1]+t[1]];a.animateInternal({duration:n!==void 0?n:250,easing:vR,center:a.getConstrainedCenter(r)})}}function mg(a,t,n,s){const r=a.getZoom();if(r===void 0)return;const o=a.getConstrainedZoom(r+t),c=a.getResolutionForZoom(o);a.getAnimating()&&a.cancelAnimations(),a.animate({resolution:c,anchor:n,duration:s!==void 0?s:250,easing:Sr})}class cb extends io{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let n=!1;if(t.type==ne.DBLCLICK){const s=t.originalEvent,r=t.map,o=t.coordinate,c=s.shiftKey?-this.delta_:this.delta_,h=r.getView();mg(h,c,o,this.duration_),s.preventDefault(),n=!0}return!n}}function Dd(a){const t=arguments;return function(n){let s=!0;for(let r=0,o=t.length;r<o&&(s=s&&t[r](n),!!s);++r);return s}}const hb=function(a){const t=a.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},fb=function(a){const t=a.map.getTargetElement(),n=t.getRootNode(),s=a.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(s):t.contains(s)},G1=function(a){const t=a.map.getTargetElement(),n=t.getRootNode();return(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")?fb(a):!0},db=Fl,F1=function(a){const t=a.originalEvent;return"pointerId"in t&&t.button==0&&!(hR&&A1&&t.ctrlKey)},B1=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},gb=function(a){const t=a.originalEvent;return A1?t.metaKey:t.ctrlKey},mb=function(a){const t=a.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Z1=function(a){const t=a.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},Qf=function(a){const t=a.originalEvent;return"pointerId"in t&&t.pointerType=="mouse"},_b=function(a){const t=a.originalEvent;return"pointerId"in t&&t.isPrimary&&t.button===0};class so extends io{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ne.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==ne.POINTERUP){const s=this.handleUpEvent(t);this.handlingDownUpSequence=s&&this.targetPointers.length>0}}else if(t.type==ne.POINTERDOWN){const s=this.handleDownEvent(t);this.handlingDownUpSequence=s,n=this.stopDown(s)}else t.type==ne.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function _g(a){const t=a.length;let n=0,s=0;for(let r=0;r<t;r++)n+=a[r].clientX,s+=a[r].clientY;return{clientX:n/t,clientY:s/t}}class pb extends so{constructor(t){super({stopDown:dc}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:Dd(B1,_b);this.condition_=t.onFocusOnly?Dd(G1,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const s=this.targetPointers,r=n.getEventPixel(_g(s));if(s.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const o=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],h=t.map.getView();RT(o,h.getResolution()),Kd(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=s.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,s=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=s.getCenterInternal(),h=n.getPixelFromCoordinateInternal(c),f=n.getCoordinateFromPixelInternal([h[0]-r*Math.cos(o),h[1]-r*Math.sin(o)]);s.animateInternal({center:s.getConstrainedCenter(f),duration:500,easing:Sr})}return this.panning_&&(this.panning_=!1,s.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const s=t.map.getView();return this.lastCentroid=null,s.getAnimating()&&s.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class yb extends so{constructor(t){t=t||{},super({stopDown:dc}),this.condition_=t.condition?t.condition:hb,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Qf(t))return;const n=t.map,s=n.getView();if(s.getConstraints().rotation===hg)return;const r=n.getSize(),o=t.pixel,c=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;s.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Qf(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Qf(t)&&F1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class vb extends hc{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,n=this.endPixel_,s="px",r=this.element_.style;r.left=Math.min(t[0],n[0])+s,r.top=Math.min(t[1],n[1])+s,r.width=Math.abs(n[0]-t[0])+s,r.height=Math.abs(n[1]-t[1])+s}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,n){this.startPixel_=t,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,n=this.endPixel_,r=[t,[t[0],n[1]],n,[n[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Yl([r])}getGeometry(){return this.geometry_}}const Wa={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class bl extends Ii{constructor(t,n,s){super(t),this.coordinate=n,this.mapBrowserEvent=s}}class xb extends so{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new vb(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??F1,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,n,s){const r=s[0]-n[0],o=s[1]-n[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new bl(Wa.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(t,this.startPixel_,t.pixel);return n&&this.onBoxEnd(t),this.dispatchEvent(new bl(n?Wa.BOXEND:Wa.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new bl(Wa.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new bl(Wa.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new bl(Wa.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class Eb extends xb{constructor(t){t=t||{};const n=t.condition?t.condition:mb;super({condition:n,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const s=this.getMap().getView();let r=this.getGeometry();if(this.out_){const o=s.rotatedExtentForGeometry(r),c=s.getResolutionForExtentInternal(o),h=s.getResolution()/c;r=r.clone(),r.scale(h*h)}s.fitInternal(r,{duration:this.duration_,easing:Sr})}}const Hs={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class Sb extends io{constructor(t){super(),t=t||{},this.defaultCondition_=function(n){return B1(n)&&Z1(n)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let n=!1;if(t.type==xt.KEYDOWN){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==Hs.DOWN||r==Hs.LEFT||r==Hs.RIGHT||r==Hs.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let f=0,g=0;r==Hs.DOWN?g=-h:r==Hs.LEFT?f=-h:r==Hs.RIGHT?f=h:g=h;const _=[f,g];Kd(_,c.getRotation()),ub(c,_,this.duration_),s.preventDefault(),n=!0}}return!n}}class Tb extends io{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(n){return!gb(n)&&Z1(n)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let n=!1;if(t.type==xt.KEYDOWN||t.type==xt.KEYPRESS){const s=t.originalEvent,r=s.key;if(this.condition_(t)&&(r==="+"||r==="-")){const o=t.map,c=r==="+"?this.delta_:-this.delta_,h=o.getView();mg(h,c,void 0,this.duration_),s.preventDefault(),n=!0}}return!n}}const Rb=40,bb=300;class Cb extends io{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:db;this.condition_=t.onFocusOnly?Dd(G1,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==xt.WHEEL)return!0;const s=t.map,r=t.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:o*=Rb;break;case WheelEvent.DOM_DELTA_PAGE:o*=bb;break}if(o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=s.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?s.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),f),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let s=-Qt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(s=s?s>0?1:-1:0),mg(n,s,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class wb extends so{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=dc),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let n=0;const s=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-s.clientY,r.clientX-s.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=f}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==hg&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(_g(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class Ab extends so{constructor(t){t=t||{};const n=t;n.stopDown||(n.stopDown=dc),super(n),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let n=1;const s=this.targetPointers[0],r=this.targetPointers[1],o=s.clientX-r.clientX,c=s.clientY-r.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(n=this.lastDistance_/h),this.lastDistance_=h;const f=t.map,g=f.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(_g(this.targetPointers))),f.render(),g.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const s=t.map.getView(),r=this.lastScaleDelta_>1?1:-1;return s.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const n=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function Mb(a){a=a||{};const t=new Wn,n=new ob(-.005,.05,100);return(a.altShiftDragRotate!==void 0?a.altShiftDragRotate:!0)&&t.push(new yb),(a.doubleClickZoom!==void 0?a.doubleClickZoom:!0)&&t.push(new cb({delta:a.zoomDelta,duration:a.zoomDuration})),(a.dragPan!==void 0?a.dragPan:!0)&&t.push(new pb({onFocusOnly:a.onFocusOnly,kinetic:n})),(a.pinchRotate!==void 0?a.pinchRotate:!0)&&t.push(new wb),(a.pinchZoom!==void 0?a.pinchZoom:!0)&&t.push(new Ab({duration:a.zoomDuration})),(a.keyboard!==void 0?a.keyboard:!0)&&(t.push(new Sb),t.push(new Tb({delta:a.zoomDelta,duration:a.zoomDuration}))),(a.mouseWheelZoom!==void 0?a.mouseWheelZoom:!0)&&t.push(new Cb({onFocusOnly:a.onFocusOnly,duration:a.zoomDuration})),(a.shiftDragZoom!==void 0?a.shiftDragZoom:!0)&&t.push(new Eb({duration:a.zoomDuration})),t}const Gt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class Y1 extends kn{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const n=Object.assign({},t);typeof t.properties=="object"&&(delete n.properties,Object.assign(n,t.properties)),n[Gt.OPACITY]=t.opacity!==void 0?t.opacity:1,kt(typeof n[Gt.OPACITY]=="number","Layer opacity must be a number"),n[Gt.VISIBLE]=t.visible!==void 0?t.visible:!0,n[Gt.Z_INDEX]=t.zIndex,n[Gt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,n[Gt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,n[Gt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,n[Gt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const n=this.state_||{layer:this,managed:t===void 0?!0:t},s=this.getZIndex();return n.opacity=Qt(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=s===void 0&&!n.managed?1/0:s,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(t){return Dt()}getLayerStatesArray(t){return Dt()}getExtent(){return this.get(Gt.EXTENT)}getMaxResolution(){return this.get(Gt.MAX_RESOLUTION)}getMinResolution(){return this.get(Gt.MIN_RESOLUTION)}getMinZoom(){return this.get(Gt.MIN_ZOOM)}getMaxZoom(){return this.get(Gt.MAX_ZOOM)}getOpacity(){return this.get(Gt.OPACITY)}getSourceState(){return Dt()}getVisible(){return this.get(Gt.VISIBLE)}getZIndex(){return this.get(Gt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Gt.EXTENT,t)}setMaxResolution(t){this.set(Gt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Gt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Gt.MAX_ZOOM,t)}setMinZoom(t){this.set(Gt.MIN_ZOOM,t)}setOpacity(t){kt(typeof t=="number","Layer opacity must be a number"),this.set(Gt.OPACITY,t)}setVisible(t){this.set(Gt.VISIBLE,t)}setZIndex(t){this.set(Gt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class _s extends Ii{constructor(t,n){super(t),this.layer=n}}const $f={LAYERS:"layers"};class Tr extends Y1{constructor(t){t=t||{};const n=Object.assign({},t);delete n.layers;let s=t.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener($f.LAYERS,this.handleLayersChanged_),s?Array.isArray(s)?s=new Wn(s.slice(),{unique:!0}):kt(typeof s.getArray=="function","Expected `layers` to be an array or a `Collection`"):s=new Wn(void 0,{unique:!0}),this.setLayers(s)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Vt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Lt(t,Xe.ADD,this.handleLayersAdd_,this),Lt(t,Xe.REMOVE,this.handleLayersRemove_,this));for(const s in this.listenerKeys_)this.listenerKeys_[s].forEach(Vt);eo(this.listenerKeys_);const n=t.getArray();for(let s=0,r=n.length;s<r;s++){const o=n[s];this.registerLayerListeners_(o),this.dispatchEvent(new _s("addlayer",o))}this.changed()}registerLayerListeners_(t){const n=[Lt(t,mr.PROPERTYCHANGE,this.handleLayerChange_,this),Lt(t,xt.CHANGE,this.handleLayerChange_,this)];t instanceof Tr&&n.push(Lt(t,"addlayer",this.handleLayerGroupAdd_,this),Lt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Nt(t)]=n}handleLayerGroupAdd_(t){this.dispatchEvent(new _s("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new _s("removelayer",t.layer))}handleLayersAdd_(t){const n=t.element;this.registerLayerListeners_(n),this.dispatchEvent(new _s("addlayer",n)),this.changed()}handleLayersRemove_(t){const n=t.element,s=Nt(n);this.listenerKeys_[s].forEach(Vt),delete this.listenerKeys_[s],this.dispatchEvent(new _s("removelayer",n)),this.changed()}getLayers(){return this.get($f.LAYERS)}setLayers(t){const n=this.getLayers();if(n){const s=n.getArray();for(let r=0,o=s.length;r<o;++r)this.dispatchEvent(new _s("removelayer",s[r]))}this.set($f.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(n){n.getLayersArray(t)}),t}getLayerStatesArray(t){const n=t!==void 0?t:[],s=n.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(n)});const r=this.getLayerState();let o=r.zIndex;!t&&r.zIndex===void 0&&(o=0);for(let c=s,h=n.length;c<h;c++){const f=n[c];f.opacity*=r.opacity,f.visible=f.visible&&r.visible,f.maxResolution=Math.min(f.maxResolution,r.maxResolution),f.minResolution=Math.max(f.minResolution,r.minResolution),f.minZoom=Math.max(f.minZoom,r.minZoom),f.maxZoom=Math.min(f.maxZoom,r.maxZoom),r.extent!==void 0&&(f.extent!==void 0?f.extent=ea(f.extent,r.extent):f.extent=r.extent),f.zIndex===void 0&&(f.zIndex=o)}return n}getSourceState(){return"ready"}}const En={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class vc extends Y1{constructor(t){const n=Object.assign({},t);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Gt.SOURCE,this.handleSourcePropertyChange_);const s=t.source?t.source:null;this.setSource(s)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Gt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Vt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=Lt(t,xt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let n;const s=this.getMapInternal();!t&&s&&(t=s.getView()),t instanceof Vn?n={viewState:t.getState(),extent:t.calculateExtent()}:n=t,!n.layerStatesArray&&s&&(n.layerStatesArray=s.getLayerGroup().getLayerStatesArray());let r;if(n.layerStatesArray){if(r=n.layerStatesArray.find(c=>c.layer===this),!r)return!1}else r=this.getLayerState();const o=this.getExtent();return pg(r,n.viewState)&&(!o||Ve(o,n.extent))}getAttributions(t){if(!this.isVisible(t))return[];const n=this.getSource()?.getAttributions();if(!n)return[];const s=t instanceof Vn?t.getViewStateAndExtent():t;let r=n(s);return Array.isArray(r)||(r=[r]),r}render(t,n){const s=this.getRenderer();return s.prepareFrame(t)?(this.rendered=!0,s.renderFrame(t,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,n){}renderDeferred(t){const n=this.getRenderer();n&&n.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Gt.MAP,t)}getMapInternal(){return this.get(Gt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Vt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Vt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Lt(t,En.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=Lt(this,xt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const n=t.frameState.layerStatesArray,s=this.getLayerState(!1);kt(!n.some(r=>r.layer===s.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(s)}setSource(t){this.set(Gt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function pg(a,t){if(!a.visible)return!1;const n=t.resolution;if(n<a.minResolution||n>=a.maxResolution)return!1;const s=t.zoom;return s>a.minZoom&&s<=a.maxZoom}function X1(a,t,n=0,s=a.length-1,r=Lb){for(;s>n;){if(s-n>600){const f=s-n+1,g=t-n+1,_=Math.log(f),p=.5*Math.exp(2*_/3),y=.5*Math.sqrt(_*p*(f-p)/f)*(g-f/2<0?-1:1),x=Math.max(n,Math.floor(t-g*p/f+y)),E=Math.min(s,Math.floor(t+(f-g)*p/f+y));X1(a,t,x,E,r)}const o=a[t];let c=n,h=s;for(Cl(a,n,t),r(a[s],o)>0&&Cl(a,n,s);c<h;){for(Cl(a,c,h),c++,h--;r(a[c],o)<0;)c++;for(;r(a[h],o)>0;)h--}r(a[n],o)===0?Cl(a,n,h):(h++,Cl(a,h,s)),h<=t&&(n=h+1),t<=h&&(s=h-1)}}function Cl(a,t,n){const s=a[t];a[t]=a[n],a[n]=s}function Lb(a,t){return a<t?-1:a>t?1:0}let H1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const s=[];if(!Lu(t,n))return s;const r=this.toBBox,o=[];for(;n;){for(let c=0;c<n.children.length;c++){const h=n.children[c],f=n.leaf?r(h):h;Lu(t,f)&&(n.leaf?s.push(h):td(t,f)?this._all(h,s):o.push(h))}n=o.pop()}return s}collides(t){let n=this.data;if(!Lu(t,n))return!1;const s=[];for(;n;){for(let r=0;r<n.children.length;r++){const o=n.children[r],c=n.leaf?this.toBBox(o):o;if(Lu(t,c)){if(n.leaf||td(t,c))return!0;s.push(o)}}n=s.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let s=0;s<t.length;s++)this.insert(t[s]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const s=this.data;this.data=n,n=s}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=ir([]),this}remove(t,n){if(!t)return this;let s=this.data;const r=this.toBBox(t),o=[],c=[];let h,f,g;for(;s||o.length;){if(s||(s=o.pop(),f=o[o.length-1],h=c.pop(),g=!0),s.leaf){const _=Ob(t,s.children,n);if(_!==-1)return s.children.splice(_,1),o.push(s),this._condense(o),this}!g&&!s.leaf&&td(s,r)?(o.push(s),c.push(h),h=0,f=s,s=s.children[0]):f?(h++,s=f.children[h],g=!1):s=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const s=[];for(;t;)t.leaf?n.push(...t.children):s.push(...t.children),t=s.pop();return n}_build(t,n,s,r){const o=s-n+1;let c=this._maxEntries,h;if(o<=c)return h=ir(t.slice(n,s+1)),Qa(h,this.toBBox),h;r||(r=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,r-1))),h=ir([]),h.leaf=!1,h.height=r;const f=Math.ceil(o/c),g=f*Math.ceil(Math.sqrt(c));oy(t,n,s,g,this.compareMinX);for(let _=n;_<=s;_+=g){const p=Math.min(_+g-1,s);oy(t,_,p,f,this.compareMinY);for(let y=_;y<=p;y+=f){const x=Math.min(y+f-1,p);h.children.push(this._build(t,y,x,r-1))}}return Qa(h,this.toBBox),h}_chooseSubtree(t,n,s,r){for(;r.push(n),!(n.leaf||r.length-1===s);){let o=1/0,c=1/0,h;for(let f=0;f<n.children.length;f++){const g=n.children[f],_=Jf(g),p=Ib(t,g)-_;p<c?(c=p,o=_<o?_:o,h=g):p===c&&_<o&&(o=_,h=g)}n=h||n.children[0]}return n}_insert(t,n,s){const r=s?t:this.toBBox(t),o=[],c=this._chooseSubtree(r,this.data,n,o);for(c.children.push(t),Ol(c,r);n>=0&&o[n].children.length>this._maxEntries;)this._split(o,n),n--;this._adjustParentBBoxes(r,o,n)}_split(t,n){const s=t[n],r=s.children.length,o=this._minEntries;this._chooseSplitAxis(s,o,r);const c=this._chooseSplitIndex(s,o,r),h=ir(s.children.splice(c,s.children.length-c));h.height=s.height,h.leaf=s.leaf,Qa(s,this.toBBox),Qa(h,this.toBBox),n?t[n-1].children.push(h):this._splitRoot(s,h)}_splitRoot(t,n){this.data=ir([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Qa(this.data,this.toBBox)}_chooseSplitIndex(t,n,s){let r,o=1/0,c=1/0;for(let h=n;h<=s-n;h++){const f=Ll(t,0,h,this.toBBox),g=Ll(t,h,s,this.toBBox),_=zb(f,g),p=Jf(f)+Jf(g);_<o?(o=_,r=h,c=p<c?p:c):_===o&&p<c&&(c=p,r=h)}return r||s-n}_chooseSplitAxis(t,n,s){const r=t.leaf?this.compareMinX:Db,o=t.leaf?this.compareMinY:Nb,c=this._allDistMargin(t,n,s,r),h=this._allDistMargin(t,n,s,o);c<h&&t.children.sort(r)}_allDistMargin(t,n,s,r){t.children.sort(r);const o=this.toBBox,c=Ll(t,0,n,o),h=Ll(t,s-n,s,o);let f=Mu(c)+Mu(h);for(let g=n;g<s-n;g++){const _=t.children[g];Ol(c,t.leaf?o(_):_),f+=Mu(c)}for(let g=s-n-1;g>=n;g--){const _=t.children[g];Ol(h,t.leaf?o(_):_),f+=Mu(h)}return f}_adjustParentBBoxes(t,n,s){for(let r=s;r>=0;r--)Ol(n[r],t)}_condense(t){for(let n=t.length-1,s;n>=0;n--)t[n].children.length===0?n>0?(s=t[n-1].children,s.splice(s.indexOf(t[n]),1)):this.clear():Qa(t[n],this.toBBox)}};function Ob(a,t,n){if(!n)return t.indexOf(a);for(let s=0;s<t.length;s++)if(n(a,t[s]))return s;return-1}function Qa(a,t){Ll(a,0,a.children.length,t,a)}function Ll(a,t,n,s,r){r||(r=ir(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let o=t;o<n;o++){const c=a.children[o];Ol(r,a.leaf?s(c):c)}return r}function Ol(a,t){return a.minX=Math.min(a.minX,t.minX),a.minY=Math.min(a.minY,t.minY),a.maxX=Math.max(a.maxX,t.maxX),a.maxY=Math.max(a.maxY,t.maxY),a}function Db(a,t){return a.minX-t.minX}function Nb(a,t){return a.minY-t.minY}function Jf(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function Mu(a){return a.maxX-a.minX+(a.maxY-a.minY)}function Ib(a,t){return(Math.max(t.maxX,a.maxX)-Math.min(t.minX,a.minX))*(Math.max(t.maxY,a.maxY)-Math.min(t.minY,a.minY))}function zb(a,t){const n=Math.max(a.minX,t.minX),s=Math.max(a.minY,t.minY),r=Math.min(a.maxX,t.maxX),o=Math.min(a.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-s)}function td(a,t){return a.minX<=t.minX&&a.minY<=t.minY&&t.maxX<=a.maxX&&t.maxY<=a.maxY}function Lu(a,t){return t.minX<=a.maxX&&t.minY<=a.maxY&&t.maxX>=a.minX&&t.maxY>=a.minY}function ir(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function oy(a,t,n,s,r){const o=[t,n];for(;o.length;){if(n=o.pop(),t=o.pop(),n-t<=s)continue;const c=t+Math.ceil((n-t)/s/2)*s;X1(a,c,t,n,r),o.push(t,c,c,n)}}const yg=[NaN,NaN,NaN,0];let ed;function jb(){return ed||(ed=fe(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),ed}const kb=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Pb=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Ub=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,Gb=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Ou(a,t){return a.endsWith("%")?Number(a.substring(0,a.length-1))/t:Number(a)}function kl(a){throw new Error('failed to parse "'+a+'" as color')}function K1(a){if(a.toLowerCase().startsWith("rgb")){const o=a.match(Pb)||a.match(kb)||a.match(Ub);if(o){const c=o[4],h=100/255;return[Qt(Ou(o[1],h)+.5|0,0,255),Qt(Ou(o[2],h)+.5|0,0,255),Qt(Ou(o[3],h)+.5|0,0,255),c!==void 0?Qt(Ou(c,100),0,1):1]}kl(a)}if(a.startsWith("#")){if(Gb.test(a)){const o=a.substring(1),c=o.length<=4?1:2,h=[0,0,0,255];for(let f=0,g=o.length;f<g;f+=c){let _=parseInt(o.substring(f,f+c),16);c===1&&(_+=_<<4),h[f/c]=_}return h[3]=h[3]/255,h}kl(a)}const t=jb();t.fillStyle="#abcdef";let n=t.fillStyle;t.fillStyle=a,t.fillStyle===n&&(t.fillStyle="#fedcba",n=t.fillStyle,t.fillStyle=a,t.fillStyle===n&&kl(a));const s=t.fillStyle;if(s.startsWith("#")||s.startsWith("rgba"))return K1(s);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const r=Array.from(t.getImageData(0,0,1,1).data);return r[3]=lc(r[3]/255,3),r}function Fb(a){return typeof a=="string"?a:xg(a)}const Bb=1024,wl={};let nd=0;function Zb(a){if(a.length===4)return a;const t=a.slice();return t[3]=1,t}function id(a){return a>.0031308?Math.pow(a,1/2.4)*269.025-14.025:a*3294.6}function sd(a){return a>.2068965?Math.pow(a,3):(a-4/29)*(108/841)}function ad(a){return a>10.314724?Math.pow((a+14.025)/269.025,2.4):a/3294.6}function rd(a){return a>.0088564?Math.pow(a,1/3):a/(108/841)+4/29}function uy(a){const t=ad(a[0]),n=ad(a[1]),s=ad(a[2]),r=rd(t*.222488403+n*.716873169+s*.06060791),o=500*(rd(t*.452247074+n*.399439023+s*.148375274)-r),c=200*(r-rd(t*.016863605+n*.117638439+s*.865350722)),h=Math.atan2(c,o)*(180/Math.PI);return[116*r-16,Math.sqrt(o*o+c*c),h<0?h+360:h,a[3]]}function Yb(a){const t=(a[0]+16)/116,n=a[1],s=a[2]*Math.PI/180,r=sd(t),o=sd(t+n/500*Math.cos(s)),c=sd(t-n/200*Math.sin(s)),h=id(o*3.021973625-r*1.617392459-c*.404875592),f=id(o*-.943766287+r*1.916279586+c*.027607165),g=id(o*.069407491-r*.22898585+c*1.159737864);return[Qt(h+.5|0,0,255),Qt(f+.5|0,0,255),Qt(g+.5|0,0,255),a[3]]}function vg(a){if(a==="none")return yg;if(wl.hasOwnProperty(a))return wl[a];if(nd>=Bb){let n=0;for(const s in wl)(n++&3)===0&&(delete wl[s],--nd)}const t=K1(a);t.length!==4&&kl(a);for(const n of t)isNaN(n)&&kl(a);return wl[a]=t,++nd,t}function _r(a){return Array.isArray(a)?a:vg(a)}function xg(a){let t=a[0];t!=(t|0)&&(t=t+.5|0);let n=a[1];n!=(n|0)&&(n=n+.5|0);let s=a[2];s!=(s|0)&&(s=s+.5|0);const r=a[3]===void 0?1:Math.round(a[3]*1e3)/1e3;return"rgba("+t+","+n+","+s+","+r+")"}function cy(a){return a[0]>0&&a[1]>0}function Xb(a,t,n){return n===void 0&&(n=[0,0]),n[0]=a[0]*t+.5|0,n[1]=a[1]*t+.5|0,n}function We(a,t){return Array.isArray(a)?a:(t===void 0?t=[a,a]:(t[0]=a,t[1]=a),t)}let oa=0;const ke=1<<oa++,At=1<<oa++,He=1<<oa++,In=1<<oa++,aa=1<<oa++,Dl=1<<oa++,Du=Math.pow(2,oa)-1,Eg={[ke]:"boolean",[At]:"number",[He]:"string",[In]:"color",[aa]:"number[]",[Dl]:"size"},Hb=Object.keys(Eg).map(Number).sort(wi);function Kb(a){return a in Eg}function Nl(a){const t=[];for(const n of Hb)Il(a,n)&&t.push(Eg[n]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Il(a,t){return(a&t)===t}function cs(a,t){return a===t}class he{constructor(t,n){if(!Kb(t))throw new Error(`literal expressions must have a specific type, got ${Nl(t)}`);this.type=t,this.value=n}}class Vb{constructor(t,n,...s){this.type=t,this.operator=n,this.args=s}}function V1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Ce(a,t,n){switch(typeof a){case"boolean":{if(cs(t,He))return new he(He,a?"true":"false");if(!Il(t,ke))throw new Error(`got a boolean, but expected ${Nl(t)}`);return new he(ke,a)}case"number":{if(cs(t,Dl))return new he(Dl,We(a));if(cs(t,ke))return new he(ke,!!a);if(cs(t,He))return new he(He,a.toString());if(!Il(t,At))throw new Error(`got a number, but expected ${Nl(t)}`);return new he(At,a)}case"string":{if(cs(t,In))return new he(In,vg(a));if(cs(t,ke))return new he(ke,!!a);if(!Il(t,He))throw new Error(`got a string, but expected ${Nl(t)}`);return new he(He,a)}}if(!Array.isArray(a))throw new Error("expression must be an array or a primitive value");if(a.length===0)throw new Error("empty expression");if(typeof a[0]=="string")return aC(a,t,n);for(const s of a)if(typeof s!="number")throw new Error("expected an array of numbers");if(cs(t,Dl)){if(a.length!==2)throw new Error(`expected an array of two values for a size, got ${a.length}`);return new he(Dl,a)}if(cs(t,In)){if(a.length===3)return new he(In,[...a,1]);if(a.length===4)return new he(In,a);throw new Error(`expected an array of 3 or 4 values for a color, got ${a.length}`)}if(!Il(t,aa))throw new Error(`got an array of numbers, but expected ${Nl(t)}`);return new he(aa,a)}const K={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},qb={[K.Get]:pt(vt(1,1/0),hy),[K.Var]:pt(vt(1,1),Wb),[K.Has]:pt(vt(1,1/0),hy),[K.Id]:pt(Qb,$a),[K.Concat]:pt(vt(2,1/0),zt(He)),[K.GeometryType]:pt($b,$a),[K.LineMetric]:pt($a),[K.Resolution]:pt(ld,$a),[K.Zoom]:pt(ld,$a),[K.Time]:pt(ld,$a),[K.Any]:pt(vt(2,1/0),zt(ke)),[K.All]:pt(vt(2,1/0),zt(ke)),[K.Not]:pt(vt(1,1),zt(ke)),[K.Equal]:pt(vt(2,2),zt(Du)),[K.NotEqual]:pt(vt(2,2),zt(Du)),[K.GreaterThan]:pt(vt(2,2),zt(At)),[K.GreaterThanOrEqualTo]:pt(vt(2,2),zt(At)),[K.LessThan]:pt(vt(2,2),zt(At)),[K.LessThanOrEqualTo]:pt(vt(2,2),zt(At)),[K.Multiply]:pt(vt(2,1/0),fy),[K.Coalesce]:pt(vt(2,1/0),fy),[K.Divide]:pt(vt(2,2),zt(At)),[K.Add]:pt(vt(2,1/0),zt(At)),[K.Subtract]:pt(vt(2,2),zt(At)),[K.Clamp]:pt(vt(3,3),zt(At)),[K.Mod]:pt(vt(2,2),zt(At)),[K.Pow]:pt(vt(2,2),zt(At)),[K.Abs]:pt(vt(1,1),zt(At)),[K.Floor]:pt(vt(1,1),zt(At)),[K.Ceil]:pt(vt(1,1),zt(At)),[K.Round]:pt(vt(1,1),zt(At)),[K.Sin]:pt(vt(1,1),zt(At)),[K.Cos]:pt(vt(1,1),zt(At)),[K.Atan]:pt(vt(1,2),zt(At)),[K.Sqrt]:pt(vt(1,1),zt(At)),[K.Match]:pt(vt(4,1/0),dy,tC),[K.Between]:pt(vt(3,3),zt(At)),[K.Interpolate]:pt(vt(6,1/0),dy,eC),[K.Case]:pt(vt(3,1/0),Jb,nC),[K.In]:pt(vt(2,2),iC),[K.Number]:pt(vt(1,1/0),zt(Du)),[K.String]:pt(vt(1,1/0),zt(Du)),[K.Array]:pt(vt(1,1/0),zt(At)),[K.Color]:pt(vt(1,4),zt(At)),[K.Band]:pt(vt(1,3),zt(At)),[K.Palette]:pt(vt(2,2),sC),[K.ToString]:pt(vt(1,1),zt(ke|At|He|In))};function hy(a,t,n){const s=a.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=a[o+1];switch(typeof c){case"number":{r[o]=new he(At,c);break}case"string":{r[o]=new he(He,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&n.properties.add(String(c))}return r}function Wb(a,t,n){const s=a[1];if(typeof s!="string")throw new Error("expected a string argument for var operation");return n.variables.add(s),[new he(He,s)]}function Qb(a,t,n){n.featureId=!0}function $b(a,t,n){n.geometryType=!0}function ld(a,t,n){n.mapState=!0}function $a(a,t,n){const s=a[0];if(a.length!==1)throw new Error(`expected no arguments for ${s} operation`);return[]}function vt(a,t){return function(n,s,r){const o=n[0],c=n.length-1;if(a===t){if(c!==a){const h=a===1?"":"s";throw new Error(`expected ${a} argument${h} for ${o}, got ${c}`)}}else if(c<a||c>t){const h=t===1/0?`${a} or more`:`${a} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function fy(a,t,n){const s=a.length-1,r=new Array(s);for(let o=0;o<s;++o){const c=Ce(a[o+1],t,n);r[o]=c}return r}function zt(a){return function(t,n,s){const r=t.length-1,o=new Array(r);for(let c=0;c<r;++c){const h=Ce(t[c+1],a,s);o[c]=h}return o}}function Jb(a,t,n){const s=a[0],r=a.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${s}, got ${r} instead`)}function dy(a,t,n){const s=a[0],r=a.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${s}, got ${r} instead`)}function tC(a,t,n){const s=a.length-1,r=He|At|ke,o=Ce(a[1],r,n),c=Ce(a[a.length-1],t,n),h=new Array(s-2);for(let f=0;f<s-2;f+=2){try{const g=Ce(a[f+2],o.type,n);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+1} of match expression: ${g.message}`)}try{const g=Ce(a[f+3],c.type,n);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+2} of match expression: ${g.message}`)}}return[o,...h,c]}function eC(a,t,n){const s=a[1];let r;switch(s[0]){case"linear":r=1;break;case"exponential":const f=s[1];if(typeof f!="number"||f<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(f)} instead`);r=f;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(s)}`)}const o=new he(At,r);let c;try{c=Ce(a[2],At,n)}catch(f){throw new Error(`failed to parse argument 1 in interpolate expression: ${f.message}`)}const h=new Array(a.length-3);for(let f=0;f<h.length;f+=2){try{const g=Ce(a[f+3],At,n);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+2} for interpolate expression: ${g.message}`)}try{const g=Ce(a[f+4],t,n);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+3} for interpolate expression: ${g.message}`)}}return[o,c,...h]}function nC(a,t,n){const s=Ce(a[a.length-1],t,n),r=new Array(a.length-1);for(let o=0;o<r.length-1;o+=2){try{const c=Ce(a[o+1],ke,n);r[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=Ce(a[o+2],s.type,n);r[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return r[r.length-1]=s,r}function iC(a,t,n){let s=a[2];if(!Array.isArray(s))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof s[0]=="string"){if(s[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(s[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');s=s[1],r=He}else r=At;const o=new Array(s.length);for(let h=0;h<o.length;h++)try{const f=Ce(s[h],r,n);o[h]=f}catch(f){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${f.message}`)}return[Ce(a[1],r,n),...o]}function sC(a,t,n){let s;try{s=Ce(a[1],At,n)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const r=a[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const o=new Array(r.length);for(let c=0;c<o.length;c++){let h;try{h=Ce(r[c],In,n)}catch(f){throw new Error(`failed to parse color at index ${c} in palette expression: ${f.message}`)}if(!(h instanceof he))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[s,...o]}function pt(...a){return function(t,n,s){const r=t[0];let o;for(let c=0;c<a.length;c++){const h=a[c](t,n,s);if(c==a.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new Vb(n,r,...o)}}function aC(a,t,n){const s=a[0],r=qb[s];if(!r)throw new Error(`unknown operator: ${s}`);return r(a,t,n)}function q1(a){if(!a)return"";const t=a.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return q1(a.getGeometries()[0]);default:return""}}function W1(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function zi(a,t,n){const s=Ce(a,t,n);return jn(s)}function jn(a,t){if(a instanceof he){if(a.type===In&&typeof a.value=="string"){const s=vg(a.value);return function(){return s}}return function(){return a.value}}const n=a.operator;switch(n){case K.Number:case K.String:case K.Coalesce:return rC(a);case K.Get:case K.Var:case K.Has:return lC(a);case K.Id:return s=>s.featureId;case K.GeometryType:return s=>s.geometryType;case K.Concat:{const s=a.args.map(r=>jn(r));return r=>"".concat(...s.map(o=>o(r).toString()))}case K.Resolution:return s=>s.resolution;case K.Any:case K.All:case K.Between:case K.In:case K.Not:return uC(a);case K.Equal:case K.NotEqual:case K.LessThan:case K.LessThanOrEqualTo:case K.GreaterThan:case K.GreaterThanOrEqualTo:return oC(a);case K.Multiply:case K.Divide:case K.Add:case K.Subtract:case K.Clamp:case K.Mod:case K.Pow:case K.Abs:case K.Floor:case K.Ceil:case K.Round:case K.Sin:case K.Cos:case K.Atan:case K.Sqrt:return cC(a);case K.Case:return hC(a);case K.Match:return fC(a);case K.Interpolate:return dC(a);case K.ToString:return gC(a);default:throw new Error(`Unsupported operator ${n}`)}}function rC(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=jn(a.args[o]);switch(n){case K.Coalesce:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case K.Number:case K.String:return o=>{for(let c=0;c<s;++c){const h=r[c](o);if(typeof h===n)return h}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function lC(a,t){const s=a.args[0].value;switch(a.operator){case K.Get:return r=>{const o=a.args;let c=r.properties[s];for(let h=1,f=o.length;h<f;++h){const _=o[h].value;c=c[_]}return c};case K.Var:return r=>r.variables[s];case K.Has:return r=>{const o=a.args;if(!(s in r.properties))return!1;let c=r.properties[s];for(let h=1,f=o.length;h<f;++h){const _=o[h].value;if(!c||!Object.hasOwn(c,_))return!1;c=c[_]}return!0};default:throw new Error(`Unsupported accessor operator ${a.operator}`)}}function oC(a,t){const n=a.operator,s=jn(a.args[0]),r=jn(a.args[1]);switch(n){case K.Equal:return o=>s(o)===r(o);case K.NotEqual:return o=>s(o)!==r(o);case K.LessThan:return o=>s(o)<r(o);case K.LessThanOrEqualTo:return o=>s(o)<=r(o);case K.GreaterThan:return o=>s(o)>r(o);case K.GreaterThanOrEqualTo:return o=>s(o)>=r(o);default:throw new Error(`Unsupported comparison operator ${n}`)}}function uC(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=jn(a.args[o]);switch(n){case K.Any:return o=>{for(let c=0;c<s;++c)if(r[c](o))return!0;return!1};case K.All:return o=>{for(let c=0;c<s;++c)if(!r[c](o))return!1;return!0};case K.Between:return o=>{const c=r[0](o),h=r[1](o),f=r[2](o);return c>=h&&c<=f};case K.In:return o=>{const c=r[0](o);for(let h=1;h<s;++h)if(c===r[h](o))return!0;return!1};case K.Not:return o=>!r[0](o);default:throw new Error(`Unsupported logical operator ${n}`)}}function cC(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=jn(a.args[o]);switch(n){case K.Multiply:return o=>{let c=1;for(let h=0;h<s;++h)c*=r[h](o);return c};case K.Divide:return o=>r[0](o)/r[1](o);case K.Add:return o=>{let c=0;for(let h=0;h<s;++h)c+=r[h](o);return c};case K.Subtract:return o=>r[0](o)-r[1](o);case K.Clamp:return o=>{const c=r[0](o),h=r[1](o);if(c<h)return h;const f=r[2](o);return c>f?f:c};case K.Mod:return o=>r[0](o)%r[1](o);case K.Pow:return o=>Math.pow(r[0](o),r[1](o));case K.Abs:return o=>Math.abs(r[0](o));case K.Floor:return o=>Math.floor(r[0](o));case K.Ceil:return o=>Math.ceil(r[0](o));case K.Round:return o=>Math.round(r[0](o));case K.Sin:return o=>Math.sin(r[0](o));case K.Cos:return o=>Math.cos(r[0](o));case K.Atan:return s===2?o=>Math.atan2(r[0](o),r[1](o)):o=>Math.atan(r[0](o));case K.Sqrt:return o=>Math.sqrt(r[0](o));default:throw new Error(`Unsupported numeric operator ${n}`)}}function hC(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=jn(a.args[r]);return r=>{for(let o=0;o<n-1;o+=2)if(s[o](r))return s[o+1](r);return s[n-1](r)}}function fC(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=jn(a.args[r]);return r=>{const o=s[0](r);for(let c=1;c<n-1;c+=2)if(o===s[c](r))return s[c+1](r);return s[n-1](r)}}function dC(a,t){const n=a.args.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=jn(a.args[r]);return r=>{const o=s[0](r),c=s[1](r);let h,f;for(let g=2;g<n;g+=2){const _=s[g](r);let p=s[g+1](r);const y=Array.isArray(p);if(y&&(p=Zb(p)),_>=c)return g===2?p:y?mC(o,c,h,f,_,p):zl(o,c,h,f,_,p);h=_,f=p}return f}}function gC(a,t){const n=a.operator,s=a.args.length,r=new Array(s);for(let o=0;o<s;++o)r[o]=jn(a.args[o]);switch(n){case K.ToString:return o=>{const c=r[0](o);return a.args[0].type===In?xg(c):c.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function zl(a,t,n,s,r,o){const c=r-n;if(c===0)return s;const h=t-n,f=a===1?h/c:(Math.pow(a,h)-1)/(Math.pow(a,c)-1);return s+f*(o-s)}function mC(a,t,n,s,r,o){if(r-n===0)return s;const h=uy(s),f=uy(o);let g=f[2]-h[2];g>180?g-=360:g<-180&&(g+=360);const _=[zl(a,t,n,h[0],r,f[0]),zl(a,t,n,h[1],r,f[1]),h[2]+zl(a,t,n,0,r,g),zl(a,t,n,s[3],r,o[3])];return Yb(_)}const Et={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function _C(a,t,n){const s=a;let r=!0,o=!1,c=!1;const h=[Yu(s,xt.LOAD,function(){c=!0,o||t()})];return s.src&&M1?(o=!0,s.decode().then(function(){r&&t()}).catch(function(f){r&&(c?t():n())})):h.push(Yu(s,xt.ERROR,n)),function(){r=!1,h.forEach(Vt)}}function pC(a,t){return new Promise((n,s)=>{function r(){c(),n(a)}function o(){c(),s(new Error("Image load error"))}function c(){a.removeEventListener("load",r),a.removeEventListener("error",o)}a.addEventListener("load",r),a.addEventListener("error",o)})}function yC(a,t){return t&&(a.src=t),a.src&&M1?new Promise((n,s)=>a.decode().then(()=>n(a)).catch(r=>a.complete&&a.width?n(a):s(r))):pC(a)}class vC{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const n in this.cache_){const s=this.cache_[n];(t++&3)===0&&!s.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(t,n,s){const r=od(t,n,s);return r in this.cache_?this.cache_[r]:null}getPattern(t,n,s){const r=od(t,n,s);return r in this.patternCache_?this.patternCache_[r]:null}set(t,n,s,r,o){const c=od(t,n,s),h=c in this.cache_;this.cache_[c]=r,o&&(r.getImageState()===Et.IDLE&&r.load(),r.getImageState()===Et.LOADING?r.ready().then(()=>{this.patternCache_[c]=Ku().createPattern(r.getImage(1),"repeat")}):this.patternCache_[c]=Ku().createPattern(r.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function od(a,t,n){const s=n?_r(n):"null";return t+":"+a+":"+s}const Sn=new vC;let Al=null;class Q1 extends gc{constructor(t,n,s,r,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=s,this.canvas_={},this.color_=o,this.imageState_=r===void 0?Et.IDLE:r,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Et.LOADED){Al||(Al=fe(1,1,void 0,{willReadFrequently:!0})),Al.drawImage(this.image_,0,0);try{Al.getImageData(0,0,1,1),this.tainted_=!1}catch{Al=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(xt.CHANGE)}handleImageError_(){this.imageState_=Et.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Et.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],n=this.size_[1],s=fe(t,n);s.fillRect(0,0,t,n),this.hitDetectionImage_=s.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Et.IDLE){this.image_||this.initializeImage_(),this.imageState_=Et.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&yC(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Et.LOADED)return;const n=this.image_,s=fe(Math.ceil(n.width*t),Math.ceil(n.height*t)),r=s.canvas;s.scale(t,t),s.drawImage(n,0,0),s.globalCompositeOperation="multiply",s.fillStyle=Fb(this.color_),s.fillRect(0,0,r.width/t,r.height/t),s.globalCompositeOperation="destination-in",s.drawImage(n,0,0),this.canvas_[t]=r}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)t();else{const n=()=>{(this.imageState_===Et.LOADED||this.imageState_===Et.ERROR)&&(this.removeEventListener(xt.CHANGE,n),t())};this.addEventListener(xt.CHANGE,n)}})),this.ready_}}function Sg(a,t,n,s,r,o){let c=t===void 0?void 0:Sn.get(t,n,r);return c||(c=new Q1(a,a&&"src"in a?a.src||void 0:t,n,s,r),Sn.set(t,n,r,c,o)),o&&c&&!Sn.getPattern(t,n,r)&&Sn.set(t,n,r,c,o),c}function Qn(a){return a?Array.isArray(a)?xg(a):typeof a=="object"&&"src"in a?xC(a):a:null}function xC(a){if(!a.offset||!a.size)return Sn.getPattern(a.src,"anonymous",a.color);const t=a.src+":"+a.offset,n=Sn.getPattern(t,void 0,a.color);if(n)return n;const s=Sn.get(a.src,"anonymous",null);if(s.getImageState()!==Et.LOADED)return null;const r=fe(a.size[0],a.size[1]);return r.drawImage(s.getImage(1),a.offset[0],a.offset[1],a.size[0],a.size[1],0,0,a.size[0],a.size[1]),Sg(r.canvas,t,void 0,Et.LOADED,a.color,!0),Sn.getPattern(t,void 0,a.color)}const $1="10px sans-serif",Ke="#000",pr="round",Ai=[],Mi=0,yr="round",Xl=10,Hl="#000",Kl="center",Vu="middle",$s=[0,0,0,0],Vl=1,sr=new kn;let Ml=null,gy;const Nd={},EC=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function SC(a,t,n){return`${a} ${t} 16px "${n}"`}const TC=(function(){let t,n;async function s(o){await n.ready;const c=await n.load(o);if(c.length===0)return!1;const h=Od(o),f=h.families[0].toLowerCase(),g=h.weight;return c.some(_=>{const p=_.family.replace(/^['"]|['"]$/g,"").toLowerCase(),y=Ld[_.weight]||_.weight;return p===f&&_.style===h.style&&y==g})}async function r(){await n.ready;let o=!0;const c=sr.getProperties(),h=Object.keys(c).filter(f=>c[f]<100);for(let f=h.length-1;f>=0;--f){const g=h[f];let _=c[g];_<100&&(await s(g)?(eo(Nd),sr.set(g,100)):(_+=10,sr.set(g,_,!0),_<100&&(o=!1)))}t=void 0,o||(t=setTimeout(r,100))}return async function(o){n||(n=ng?self.fonts:document.fonts);const c=Od(o);if(!c)return;const h=c.families;let f=!1;for(const g of h){if(EC.has(g))continue;const _=SC(c.style,c.weight,g);sr.get(_)===void 0&&(sr.set(_,0,!0),f=!0)}f&&(clearTimeout(t),t=setTimeout(r,100))}})(),RC=(function(){let a;return function(t){let n=Nd[t];if(n==null){if(ng){const s=Od(t),r=J1(t,"Žg");n=(isNaN(Number(s.lineHeight))?1.2:Number(s.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else a||(a=document.createElement("div"),a.innerHTML="M",a.style.minHeight="0",a.style.maxHeight="none",a.style.height="auto",a.style.padding="0",a.style.border="none",a.style.position="absolute",a.style.display="block",a.style.left="-99999px"),a.style.font=t,document.body.appendChild(a),n=a.offsetHeight,document.body.removeChild(a);Nd[t]=n}return n}})();function J1(a,t){return Ml||(Ml=fe(1,1)),a!=gy&&(Ml.font=a,gy=Ml.font),Ml.measureText(t)}function t2(a,t){return J1(a,t).width}function my(a,t,n){if(t in n)return n[t];const s=t.split(`
`).reduce((r,o)=>Math.max(r,t2(a,o)),0);return n[t]=s,s}function bC(a,t){const n=[],s=[],r=[];let o=0,c=0,h=0,f=0;for(let g=0,_=t.length;g<=_;g+=2){const p=t[g];if(p===`
`||g===_){o=Math.max(o,c),r.push(c),c=0,h+=f,f=0;continue}const y=t[g+1]||a.font,x=t2(y,p);n.push(x),c+=x;const E=RC(y);s.push(E),f=Math.max(f,E)}return{width:o,height:h,widths:n,heights:s,lineWidths:r}}function CC(a,t,n,s,r,o,c,h,f,g,_){a.save(),n!==1&&(a.globalAlpha===void 0?a.globalAlpha=p=>p.globalAlpha*=n:a.globalAlpha*=n),t&&a.transform.apply(a,t),s.contextInstructions?(a.translate(f,g),a.scale(_[0],_[1]),wC(s,a)):_[0]<0||_[1]<0?(a.translate(f,g),a.scale(_[0],_[1]),a.drawImage(s,r,o,c,h,0,0,c,h)):a.drawImage(s,r,o,c,h,f,g,c*_[0],h*_[1]),a.restore()}function wC(a,t){const n=a.contextInstructions;for(let s=0,r=n.length;s<r;s+=2)Array.isArray(n[s+1])?t[n[s]].apply(t,n[s+1]):t[n[s]]=n[s+1]}class xc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=We(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new xc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Dt()}getImage(t){return Dt()}getHitDetectionImage(){return Dt()}getPixelRatio(t){return 1}getImageState(){return Dt()}getImageSize(){return Dt()}getOrigin(){return Dt()}getSize(){return Dt()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=We(t)}listenImageChange(t){Dt()}load(){Dt()}unlistenImageChange(t){Dt()}ready(){return Promise.resolve()}}class Ec extends xc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Et.LOADING:Et.LOADED,this.imageState_===Et.LOADING&&this.ready().then(()=>this.imageState_=Et.LOADED),this.render()}clone(){const t=this.getScale(),n=new Ec({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const t=this.size_,n=this.getDisplacement(),s=this.getScaleArray();return[t[0]/2-n[0]/s[0],t[1]/2+n[1]/s[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){const n=this.fill_?.getKey(),s=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${n}`+Object.values(this.renderOptions_).join(",");let r=Sn.get(s,null,null)?.getImage(1);if(!r){const o=this.renderOptions_,c=Math.ceil(o.size*t),h=fe(c,c);this.draw_(o,h,t),r=h.canvas,Sn.set(s,null,null,new Q1(r,void 0,null,Et.LOADED,null))}return r}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,n,s){if(n===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return n;let r=this.radius,o=this.radius2_===void 0?r:this.radius2_;if(r<o){const H=r;r=o,o=H}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),_=r-g,p=Math.sqrt(f*f+_*_),y=p/f;if(t==="miter"&&y<=s)return y*n;const x=n/2/y,E=n/2*(_/p),b=Math.sqrt((r+x)*(r+x)+E*E)-r;if(this.radius2_===void 0||t==="bevel")return b*2;const C=r*Math.sin(h),M=Math.sqrt(r*r-C*C),z=o-M,O=Math.sqrt(C*C+z*z)/C;if(O<=s){const H=O*n/2-o-r;return 2*Math.max(b,H)}return b*2}createRenderOptions(){let t=pr,n=yr,s=0,r=null,o=0,c,h=0;this.stroke_&&(c=Qn(this.stroke_.getColor()??Hl),h=this.stroke_.getWidth()??Vl,r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??yr,t=this.stroke_.getLineCap()??pr,s=this.stroke_.getMiterLimit()??Xl);const f=this.calculateLineJoinSize_(n,h,s),g=Math.max(this.radius,this.radius2_||0),_=Math.ceil(2*g+f);return{strokeStyle:c,strokeWidth:h,size:_,lineCap:t,lineDash:r,lineDashOffset:o,lineJoin:n,miterLimit:s}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,n,s){if(n.scale(s,s),n.translate(t.size/2,t.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=Ke),n.fillStyle=Qn(r),n.fill()}t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineCap=t.lineCap,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}createHitDetectionCanvas_(t){let n;if(this.fill_){let s=this.fill_.getColor(),r=0;typeof s=="string"&&(s=_r(s)),s===null?r=1:Array.isArray(s)&&(r=s.length===4?s[3]:1),r===0&&(n=fe(t.size,t.size),this.drawHitDetectionCanvas_(t,n))}return n?n.canvas:this.getImage(1)}createPath_(t){let n=this.points_;const s=this.radius;if(n===1/0)t.arc(0,0,s,0,2*Math.PI);else{const r=this.radius2_===void 0?s:this.radius2_;this.radius2_!==void 0&&(n*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/n;for(let h=0;h<n;h++){const f=o+h*c,g=h%2===0?s:r;t.lineTo(g*Math.cos(f),g*Math.sin(f))}t.closePath()}}drawHitDetectionCanvas_(t,n){n.translate(t.size/2,t.size/2),this.createPath_(n),n.fillStyle=Ke,n.fill(),t.strokeStyle&&(n.strokeStyle=t.strokeStyle,n.lineWidth=t.strokeWidth,t.lineDash&&(n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset),n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Sc extends Ec{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),n=new Sc({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(t){this.radius=t,this.render()}}class ao{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new ao({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const n=Sg(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===Et.IDLE&&n.load(),n.getImageState()===Et.LOADING&&(this.patternImage_=n)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?Nt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:_r(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function _y(a,t,n,s){return n!==void 0&&s!==void 0?[n/a,s/t]:n!==void 0?n/a:s!==void 0?s/t:1}class Di extends xc{constructor(t){t=t||{};const n=t.opacity!==void 0?t.opacity:1,s=t.rotation!==void 0?t.rotation:0,r=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:n,rotation:s,scale:r,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;kt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||Nt(c)),kt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),kt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let f;if(t.src!==void 0?f=Et.IDLE:c!==void 0&&("complete"in c?c.complete?f=c.src?Et.LOADED:Et.IDLE:f=Et.LOADING:f=Et.LOADED),this.color_=t.color!==void 0?_r(t.color):null,this.iconImage_=Sg(c,h,this.crossOrigin_,f,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let g,_;if(t.size)[g,_]=t.size;else{const p=this.getImage(1);if(p.width&&p.height)g=p.width,_=p.height;else if(p instanceof HTMLImageElement){this.initialOptions_=t;const y=()=>{if(this.unlistenImageChange(y),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(_y(x[0],x[1],t.width,t.height))};this.listenImageChange(y);return}}g!==void 0&&this.setScale(_y(g,_,t.width,t.height))}}clone(){let t,n,s;return this.initialOptions_?(n=this.initialOptions_.width,s=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Di({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:n,height:s,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=r[0]),this.anchorYUnits_=="fraction"&&(t[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+r[1])}this.normalizedAnchor_=t}const n=this.getDisplacement(),s=this.getScaleArray();return[t[0]-n[0]/s[0],t[1]+n[1]/s[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),s=this.iconImage_.getSize();if(!n||!s)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=s[0]-n[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=s[1]-n[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Et.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(xt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(xt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class vr{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new vr({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class Qe{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=py,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Qe({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(n){return n.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=py,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function AC(a){let t;if(typeof a=="function")t=a;else{let n;Array.isArray(a)?n=a:(kt(typeof a.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[a]),t=function(){return n}}return t}let ud=null;function e2(a,t){if(!ud){const n=new ao({color:"rgba(255,255,255,0.4)"}),s=new vr({color:"#3399CC",width:1.25});ud=[new Qe({image:new Sc({fill:n,stroke:s,radius:5}),fill:n,stroke:s})]}return ud}function py(a){return a.getGeometry()}const MC="#333";class Tg{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=We(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new ao({color:MC}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Tg({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=We(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function LC(a){return!0}function OC(a){const t=V1(),n=DC(a,t),s=W1();return function(r,o){if(s.properties=r.getPropertiesInternal(),s.resolution=o,t.featureId){const c=r.getId();c!==void 0?s.featureId=c:s.featureId=null}return t.geometryType&&(s.geometryType=q1(r.getGeometry())),n(s)}}function yy(a){const t=V1(),n=a.length,s=new Array(n);for(let c=0;c<n;++c)s[c]=Id(a[c],t);const r=W1(),o=new Array(n);return function(c,h){if(r.properties=c.getPropertiesInternal(),r.resolution=h,t.featureId){const g=c.getId();g!==void 0?r.featureId=g:r.featureId=null}let f=0;for(let g=0;g<n;++g){const _=s[g](r);_&&(o[f]=_,f+=1)}return o.length=f,o}}function DC(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r){const o=a[r],c="filter"in o?zi(o.filter,ke,t):LC;let h;if(Array.isArray(o.style)){const f=o.style.length;h=new Array(f);for(let g=0;g<f;++g)h[g]=Id(o.style[g],t)}else h=[Id(o.style,t)];s[r]={filter:c,styles:h}}return function(r){const o=[];let c=!1;for(let h=0;h<n;++h){const f=s[h].filter;if(f(r)&&!(a[h].else&&c)){c=!0;for(const g of s[h].styles){const _=g(r);_&&o.push(_)}}}return o}}function Id(a,t){const n=ql(a,"",t),s=Wl(a,"",t),r=NC(a,t),o=IC(a,t),c=qe(a,"z-index",t);if(!n&&!s&&!r&&!o&&!dr(a))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(a));const h=new Qe;return function(f){let g=!0;if(n){const _=n(f);_&&(g=!1),h.setFill(_)}if(s){const _=s(f);_&&(g=!1),h.setStroke(_)}if(r){const _=r(f);_&&(g=!1),h.setText(_)}if(o){const _=o(f);_&&(g=!1),h.setImage(_)}return c&&h.setZIndex(c(f)),g?null:h}}function ql(a,t,n){let s;if(t+"fill-pattern-src"in a)s=PC(a,t+"fill-",n);else{if(a[t+"fill-color"]==="none")return o=>null;s=Rg(a,t+"fill-color",n)}if(!s)return null;const r=new ao;return function(o){const c=s(o);return c===yg?null:(r.setColor(c),r)}}function Wl(a,t,n){const s=qe(a,t+"stroke-width",n),r=Rg(a,t+"stroke-color",n);if(!s&&!r)return null;const o=Ti(a,t+"stroke-line-cap",n),c=Ti(a,t+"stroke-line-join",n),h=n2(a,t+"stroke-line-dash",n),f=qe(a,t+"stroke-line-dash-offset",n),g=qe(a,t+"stroke-miter-limit",n),_=new vr;return function(p){if(r){const y=r(p);if(y===yg)return null;_.setColor(y)}if(s&&_.setWidth(s(p)),o){const y=o(p);if(y!=="butt"&&y!=="round"&&y!=="square")throw new Error("Expected butt, round, or square line cap");_.setLineCap(y)}if(c){const y=c(p);if(y!=="bevel"&&y!=="round"&&y!=="miter")throw new Error("Expected bevel, round, or miter line join");_.setLineJoin(y)}return h&&_.setLineDash(h(p)),f&&_.setLineDashOffset(f(p)),g&&_.setMiterLimit(g(p)),_}}function NC(a,t){const n="text-",s=Ti(a,n+"value",t);if(!s)return null;const r=ql(a,n,t),o=ql(a,n+"background-",t),c=Wl(a,n,t),h=Wl(a,n+"background-",t),f=Ti(a,n+"font",t),g=qe(a,n+"max-angle",t),_=qe(a,n+"offset-x",t),p=qe(a,n+"offset-y",t),y=cr(a,n+"overflow",t),x=Ti(a,n+"placement",t),E=qe(a,n+"repeat",t),R=Tc(a,n+"scale",t),b=cr(a,n+"rotate-with-view",t),C=qe(a,n+"rotation",t),M=Ti(a,n+"align",t),z=Ti(a,n+"justify",t),D=Ti(a,n+"baseline",t),O=cr(a,n+"keep-upright",t),H=n2(a,n+"padding",t),W=Rc(a,n+"declutter-mode"),B=new Tg({declutterMode:W});return function(Z){if(B.setText(s(Z)),r&&B.setFill(r(Z)),o&&B.setBackgroundFill(o(Z)),c&&B.setStroke(c(Z)),h&&B.setBackgroundStroke(h(Z)),f&&B.setFont(f(Z)),g&&B.setMaxAngle(g(Z)),_&&B.setOffsetX(_(Z)),p&&B.setOffsetY(p(Z)),y&&B.setOverflow(y(Z)),x){const $=x(Z);if($!=="point"&&$!=="line")throw new Error("Expected point or line for text-placement");B.setPlacement($)}if(E&&B.setRepeat(E(Z)),R&&B.setScale(R(Z)),b&&B.setRotateWithView(b(Z)),C&&B.setRotation(C(Z)),M){const $=M(Z);if($!=="left"&&$!=="center"&&$!=="right"&&$!=="end"&&$!=="start")throw new Error("Expected left, right, center, start, or end for text-align");B.setTextAlign($)}if(z){const $=z(Z);if($!=="left"&&$!=="right"&&$!=="center")throw new Error("Expected left, right, or center for text-justify");B.setJustify($)}if(D){const $=D(Z);if($!=="bottom"&&$!=="top"&&$!=="middle"&&$!=="alphabetic"&&$!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");B.setTextBaseline($)}return H&&B.setPadding(H(Z)),O&&B.setKeepUpright(O(Z)),B}}function IC(a,t){return"icon-src"in a?zC(a,t):"shape-points"in a?jC(a,t):"circle-radius"in a?kC(a,t):null}function zC(a,t){const n="icon-",s=n+"src",r=i2(a[s],s),o=qu(a,n+"anchor",t),c=Tc(a,n+"scale",t),h=qe(a,n+"opacity",t),f=qu(a,n+"displacement",t),g=qe(a,n+"rotation",t),_=cr(a,n+"rotate-with-view",t),p=xy(a,n+"anchor-origin"),y=Ey(a,n+"anchor-x-units"),x=Ey(a,n+"anchor-y-units"),E=BC(a,n+"color"),R=GC(a,n+"cross-origin"),b=FC(a,n+"offset"),C=xy(a,n+"offset-origin"),M=Wu(a,n+"width"),z=Wu(a,n+"height"),D=UC(a,n+"size"),O=Rc(a,n+"declutter-mode"),H=new Di({src:r,anchorOrigin:p,anchorXUnits:y,anchorYUnits:x,color:E,crossOrigin:R,offset:b,offsetOrigin:C,height:z,width:M,size:D,declutterMode:O});return function(W){return h&&H.setOpacity(h(W)),f&&H.setDisplacement(f(W)),g&&H.setRotation(g(W)),_&&H.setRotateWithView(_(W)),c&&H.setScale(c(W)),o&&H.setAnchor(o(W)),H}}function jC(a,t){const n="shape-",s=n+"points",r=n+"radius",o=zd(a[s],s),c=zd(a[r],r),h=ql(a,n,t),f=Wl(a,n,t),g=Tc(a,n+"scale",t),_=qu(a,n+"displacement",t),p=qe(a,n+"rotation",t),y=cr(a,n+"rotate-with-view",t),x=Wu(a,n+"radius2"),E=Wu(a,n+"angle"),R=Rc(a,n+"declutter-mode"),b=new Ec({points:o,radius:c,radius2:x,angle:E,declutterMode:R});return function(C){return h&&b.setFill(h(C)),f&&b.setStroke(f(C)),_&&b.setDisplacement(_(C)),p&&b.setRotation(p(C)),y&&b.setRotateWithView(y(C)),g&&b.setScale(g(C)),b}}function kC(a,t){const n="circle-",s=ql(a,n,t),r=Wl(a,n,t),o=qe(a,n+"radius",t),c=Tc(a,n+"scale",t),h=qu(a,n+"displacement",t),f=qe(a,n+"rotation",t),g=cr(a,n+"rotate-with-view",t),_=Rc(a,n+"declutter-mode"),p=new Sc({radius:5,declutterMode:_});return function(y){return o&&p.setRadius(o(y)),s&&p.setFill(s(y)),r&&p.setStroke(r(y)),h&&p.setDisplacement(h(y)),f&&p.setRotation(f(y)),g&&p.setRotateWithView(g(y)),c&&p.setScale(c(y)),p}}function qe(a,t,n){if(!(t in a))return;const s=zi(a[t],At,n);return function(r){return zd(s(r),t)}}function Ti(a,t,n){if(!(t in a))return null;const s=zi(a[t],He,n);return function(r){return i2(s(r),t)}}function PC(a,t,n){const s=Ti(a,t+"pattern-src",n),r=vy(a,t+"pattern-offset",n),o=vy(a,t+"pattern-size",n),c=Rg(a,t+"color",n);return function(h){return{src:s(h),offset:r&&r(h),size:o&&o(h),color:c&&c(h)}}}function cr(a,t,n){if(!(t in a))return null;const s=zi(a[t],ke,n);return function(r){const o=s(r);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function Rg(a,t,n){if(!(t in a))return null;const s=zi(a[t],In,n);return function(r){return s2(s(r),t)}}function n2(a,t,n){if(!(t in a))return null;const s=zi(a[t],aa,n);return function(r){return ro(s(r),t)}}function qu(a,t,n){if(!(t in a))return null;const s=zi(a[t],aa,n);return function(r){const o=ro(s(r),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function vy(a,t,n){if(!(t in a))return null;const s=zi(a[t],aa,n);return function(r){return a2(s(r),t)}}function Tc(a,t,n){if(!(t in a))return null;const s=zi(a[t],aa|At,n);return function(r){return ZC(s(r),t)}}function Wu(a,t){const n=a[t];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${t}`);return n}}function UC(a,t){const n=a[t];if(n!==void 0){if(typeof n=="number")return We(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${t}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return n}}function GC(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);return n}}function xy(a,t){const n=a[t];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return n}}function Ey(a,t){const n=a[t];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return n}}function FC(a,t){const n=a[t];if(n!==void 0)return ro(n,t)}function Rc(a,t){const n=a[t];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${t}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return n}}function BC(a,t){const n=a[t];if(n!==void 0)return s2(n,t)}function ro(a,t){if(!Array.isArray(a))throw new Error(`Expected an array for ${t}`);const n=a.length;for(let s=0;s<n;++s)if(typeof a[s]!="number")throw new Error(`Expected an array of numbers for ${t}`);return a}function i2(a,t){if(typeof a!="string")throw new Error(`Expected a string for ${t}`);return a}function zd(a,t){if(typeof a!="number")throw new Error(`Expected a number for ${t}`);return a}function s2(a,t){if(typeof a=="string")return a;const n=ro(a,t),s=n.length;if(s<3||s>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return n}function a2(a,t){const n=ro(a,t);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return n}function ZC(a,t){return typeof a=="number"?a:a2(a,t)}const Sy={RENDER_ORDER:"renderOrder"};class r2 extends vc{constructor(t){t=t||{};const n=Object.assign({},t);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(Sy.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,n){const s=this.getDeclutter();s in t.declutter||(t.declutter[s]=new H1(9)),this.getRenderer().renderDeclutter(t,n)}setRenderOrder(t){this.set(Sy.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?e2:t;const n=YC(t);this.styleFunction_=t===null?void 0:AC(n),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function YC(a){if(a===void 0)return e2;if(!a)return null;if(typeof a=="function"||a instanceof Qe)return a;if(!Array.isArray(a))return yy([a]);if(a.length===0)return[];const t=a.length,n=a[0];if(n instanceof Qe){const r=new Array(t);for(let o=0;o<t;++o){const c=a[o];if(!(c instanceof Qe))throw new Error("Expected a list of style instances");r[o]=c}return r}if("style"in n){const r=new Array(t);for(let o=0;o<t;++o){const c=a[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");r[o]=c}return OC(r)}return yy(a)}class l2 extends Ii{constructor(t,n,s,r){super(t),this.inversePixelTransform=n,this.frameState=s,this.context=r}}class XC extends hc{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,n){Dt()}calculateMatrices2D(t){const n=t.viewState,s=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Oi(s,t.size[0]/2,t.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),D1(r,s)}forEachFeatureAtCoordinate(t,n,s,r,o,c,h,f){let g;const _=n.viewState;function p(D,O,H,W){return o.call(c,O,D?H:null,W)}const y=_.projection,x=v1(t.slice(),y),E=[[0,0]];if(y.canWrapX()&&r){const D=y.getExtent(),O=Ft(D);E.push([-O,0],[O,0])}const R=n.layerStatesArray,b=R.length,C=[],M=[];for(let D=0;D<E.length;D++)for(let O=b-1;O>=0;--O){const H=R[O],W=H.layer;if(W.hasRenderer()&&pg(H,_)&&h.call(f,W)){const B=W.getRenderer(),Z=W.getSource();if(B&&Z){const $=Z.getWrapX()?x:t,nt=p.bind(null,H.managed);M[0]=$[0]+E[D][0],M[1]=$[1]+E[D][1],g=B.forEachFeatureAtCoordinate(M,n,s,nt,C)}if(g)return g}}if(C.length===0)return;const z=1/C.length;return C.forEach((D,O)=>D.distanceSq+=O*z),C.sort((D,O)=>D.distanceSq-O.distanceSq),C.some(D=>g=D.callback(D.feature,D.layer,D.geometry)),g}hasFeatureAtCoordinate(t,n,s,r,o,c){return this.forEachFeatureAtCoordinate(t,n,s,r,Fl,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){Dt()}scheduleExpireIconCache(t){Sn.canExpireCache()&&t.postRenderFunctions.push(HC)}}function HC(a,t){Sn.expire()}class KC extends XC{constructor(t){super(t),this.fontChangeListenerKey_=Lt(sr,mr.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=pc+" ol-layers";const s=t.getViewport();s.insertBefore(this.element_,s.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,n){const s=this.getMap();if(s.hasListener(t)){const r=new l2(t,void 0,n);s.dispatchEvent(r)}}disposeInternal(){Vt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(En.PRECOMPOSE,t);const n=t.layerStatesArray.sort((h,f)=>h.zIndex-f.zIndex);n.some(h=>h.layer instanceof r2&&h.layer.getDeclutter())&&(t.declutter={});const r=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,f=n.length;h<f;++h){const g=n[h];t.layerIndex=h;const _=g.layer,p=_.getSourceState();if(!pg(g,r)||p!="ready"&&p!="undefined"){_.unrender();continue}const y=_.render(t,c);y&&(y!==c&&(this.children_.push(y),c=y),o.push(g))}this.declutter(t,o),ib(this.element_,this.children_),this.dispatchRenderEvent(En.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,n){if(t.declutter){for(let s=n.length-1;s>=0;--s){const r=n[s],o=r.layer;o.getDeclutter()&&o.renderDeclutter(t,r)}n.forEach(s=>s.layer.renderDeferred(t))}}}function o2(a){if(a instanceof vc){a.setMapInternal(null);return}a instanceof Tr&&a.getLayers().forEach(o2)}function u2(a,t){if(a instanceof vc){a.setMapInternal(t);return}if(a instanceof Tr){const n=a.getLayers().getArray();for(let s=0,r=n.length;s<r;++s)u2(n[s],t)}}let VC=class extends kn{constructor(t){super(),t=t||{},this.on,this.once,this.un;const n=qC(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:fR,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=zn(),this.pixelToCoordinateTransform_=zn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||lb(),this.interactions=n.interactions||Mb({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new mR(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(De.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(De.VIEW,this.handleViewChanged_),this.addChangeListener(De.SIZE,this.handleSizeChanged_),this.addChangeListener(De.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const s=this;t.view&&!(t.view instanceof Vn)&&t.view.then(function(r){s.setView(new Vn(r))}),this.controls.addEventListener(Xe.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Xe.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Xe.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Xe.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Xe.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Xe.REMOVE,r=>{const o=r.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){u2(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const n=t.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,n,s){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(t);s=s!==void 0?s:{};const o=s.hitTolerance!==void 0?s.hitTolerance:0,c=s.layerFilter!==void 0?s.layerFilter:Fl,h=s.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,n,null,c,null)}getFeaturesAtPixel(t,n){const s=[];return this.forEachFeatureAtPixel(t,function(r){s.push(r)},n),s}getAllLayers(){const t=[];function n(s){s.forEach(function(r){r instanceof Tr?n(r.getLayers()):t.push(r)})}return n(this.getLayers()),t}hasFeatureAtPixel(t,n){if(!this.frameState_||!this.renderer_)return!1;const s=this.getCoordinateFromPixelInternal(t);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Fl,o=n.hitTolerance!==void 0?n.hitTolerance:0,c=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(s,this.frameState_,o,c,r,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const s=this.viewport_.getBoundingClientRect(),r=this.getSize(),o=s.width/r[0],c=s.height/r[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-s.left)/o,(h.clientY-s.top)/c]}getTarget(){return this.get(De.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return Ad(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const n=this.frameState_;return n?xe(n.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const n=this.overlayIdIndex_[t.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(De.LAYERGROUP)}setLayers(t){const n=this.getLayerGroup();if(t instanceof Wn){n.setLayers(t);return}const s=n.getLayers();s.clear(),s.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let n=0,s=t.length;n<s;++n){const r=t[n];if(!r.visible)continue;const o=r.layer.getRenderer();if(o&&!o.ready)return!0;const c=r.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const n=Ei(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(t){const n=this.frameState_;return n?xe(n.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(De.SIZE)}getView(){return this.get(De.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,n,s,r){return _R(this.frameState_,t,n,s,r)}handleBrowserEvent(t,n){n=n||t.type;const s=new ms(n,this,t);this.handleMapBrowserEvent(s)}handleMapBrowserEvent(t){if(!this.frameState_)return;const n=t.originalEvent,s=n.type;if(s===Md.POINTERDOWN||s===xt.WHEEL||s===xt.KEYDOWN){const r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,c=n.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===r?r.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const r=this.getInteractions().getArray().slice();for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,o=r;if(t){const c=t.viewHints;if(c[Ne.ANIMATING]||c[Ne.INTERACTING]){const h=Date.now()-t.time>8;r=h?0:8,o=h?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(En.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(En.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new nr(Si.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new nr(Si.LOADSTART,this,t))));const s=this.postRenderFunctions_;if(t)for(let r=0,o=s.length;r<o;++r)s[r](this,t);s.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let s=0,r=this.targetChangeHandlerKeys_.length;s<r;++s)Vt(this.targetChangeHandlerKeys_[s]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(xt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(xt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const s=this.targetElement_.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.unobserve(s.host),this.setSize(void 0)}const t=this.getTarget(),n=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new KC(this)),this.mapBrowserEventHandler_=new dR(this,this.moveTolerance_);for(const o in ne)this.mapBrowserEventHandler_.addEventListener(ne[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(xt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(xt.WHEEL,this.boundHandleBrowserEvent_,L1?{passive:!1}:!1);let s;if(this.keyboardEventTarget_)s=this.keyboardEventTarget_;else{const o=n.getRootNode();s=o instanceof ShadowRoot?o.host:n}this.targetChangeHandlerKeys_=[Lt(s,xt.KEYDOWN,this.handleBrowserEvent,this),Lt(s,xt.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Vt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Vt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=Lt(t,mr.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Lt(t,xt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Vt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new _s("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Lt(t,mr.PROPERTYCHANGE,this.render,this),Lt(t,xt.CHANGE,this.render,this),Lt(t,"addlayer",this.handleLayerAdd_,this),Lt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const t=this.frameState_.layerStatesArray;for(let n=0,s=t.length;n<s;++n){const r=t[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){o2(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const n=this.getSize(),s=this.getView(),r=this.frameState_;let o=null;if(n!==void 0&&cy(n)&&s&&s.isDef()){const c=s.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=s.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Td(h.center,h.resolution,h.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:Nt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=Td(h.nextCenter,h.nextResolution,f,n)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),r&&(!this.previousExtent_||!rc(this.previousExtent_)&&!Ul(o.extent,this.previousExtent_))&&(this.dispatchEvent(new nr(Si.MOVESTART,this,r)),this.previousExtent_=nc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[Ne.ANIMATING]&&!o.viewHints[Ne.INTERACTING]&&!Ul(o.extent,this.previousExtent_)&&(this.dispatchEvent(new nr(Si.MOVEEND,this,o)),h1(o.extent,this.previousExtent_))),this.dispatchEvent(new nr(Si.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Si.LOADSTART)||this.hasListener(Si.LOADEND)||this.hasListener(En.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new _s("removelayer",n)),this.set(De.LAYERGROUP,t)}setSize(t){this.set(De.SIZE,t)}setTarget(t){this.set(De.TARGET,t)}setView(t){if(!t||t instanceof Vn){this.set(De.VIEW,t);return}this.set(De.VIEW,new Vn);const n=this;t.then(function(s){n.setView(new Vn(s))})}updateSize(){const t=this.getTargetElement();let n;if(t){const r=getComputedStyle(t),o=t.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),c=t.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(n=[Math.max(0,o),Math.max(0,c)],!cy(n)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&c1("No map visible because the map container's width or height are 0."))}const s=this.getSize();n&&(!s||!bs(n,s))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(t){const n=this.getView();n&&n.setViewportSize(t)}};function qC(a){let t=null;a.keyboardEventTarget!==void 0&&(t=typeof a.keyboardEventTarget=="string"?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);const n={},s=a.layers&&typeof a.layers.getLayers=="function"?a.layers:new Tr({layers:a.layers});n[De.LAYERGROUP]=s,n[De.TARGET]=a.target,n[De.VIEW]=a.view instanceof Vn?a.view:new Vn;let r;a.controls!==void 0&&(Array.isArray(a.controls)?r=new Wn(a.controls.slice()):(kt(typeof a.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=a.controls));let o;a.interactions!==void 0&&(Array.isArray(a.interactions)?o=new Wn(a.interactions.slice()):(kt(typeof a.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=a.interactions));let c;return a.overlays!==void 0?Array.isArray(a.overlays)?c=new Wn(a.overlays.slice()):(kt(typeof a.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=a.overlays):c=new Wn,{controls:r,interactions:o,keyboardEventTarget:t,overlays:c,values:n}}class bg extends gc{constructor(t,n,s){super(),s=s||{},this.tileCoord=t,this.state=n,this.key="",this.transition_=s.transition===void 0?250:s.transition,this.transitionStarts_={},this.interpolate=!!s.interpolate}changed(){this.dispatchEvent(xt.CHANGE)}release(){this.setState(dt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==dt.EMPTY){if(this.state!==dt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){Dt()}getAlpha(t,n){if(!this.transition_)return 1;let s=this.transitionStarts_[t];if(!s)s=n,this.transitionStarts_[t]=s;else if(s===-1)return 1;const r=n-s+1e3/60;return r>=this.transition_?1:O1(r/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function jd(a){return a instanceof Image||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageBitmap?a:null}const WC=new Error("disposed"),QC=[256,256];class Ty extends bg{constructor(t){const n=dt.IDLE;super(t.tileCoord,n,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=jd(this.data_);return t?[t.width,t.height]:QC}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==dt.IDLE&&this.state!==dt.ERROR)return;this.state=dt.LOADING,this.changed();const t=this;this.loader_().then(function(n){t.data_=n,t.state=dt.LOADED,t.changed()}).catch(function(n){t.error_=n,t.state=dt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(WC),this.controller_=null),super.disposeInternal()}}class c2 extends bg{constructor(t,n,s,r,o,c){super(t,n,c),this.crossOrigin_=r,this.src_=s,this.key=s,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=dt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=dt.ERROR,this.unlistenImage_(),this.image_=$C(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=dt.LOADED:this.state=dt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==dt.ERROR&&(this.state=dt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==dt.IDLE&&(this.state=dt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=_C(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function $C(){const a=fe(1,1);return a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1),a.canvas}class Cg{constructor(t,n,s,r){this.minX=t,this.maxX=n,this.minY=s,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,n){return this.minX<=t&&t<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function Ja(a,t,n,s,r){return r!==void 0?(r.minX=a,r.maxX=t,r.minY=n,r.maxY=s,r):new Cg(a,t,n,s)}let cd;const hr=[];function Ry(a,t,n,s,r){a.beginPath(),a.moveTo(0,0),a.lineTo(t,n),a.lineTo(s,r),a.closePath(),a.save(),a.clip(),a.fillRect(0,0,Math.max(t,s)+1,Math.max(n,r)),a.restore()}function hd(a,t){return Math.abs(a[t*4]-210)>2||Math.abs(a[t*4+3]-.75*255)>2}function JC(){if(cd===void 0){const a=fe(6,6,hr);a.globalCompositeOperation="lighter",a.fillStyle="rgba(210, 0, 0, 0.75)",Ry(a,4,5,4,0),Ry(a,4,5,0,5);const t=a.getImageData(0,0,3,3).data;cd=hd(t,0)||hd(t,4)||hd(t,8),yc(a),hr.push(a.canvas)}return cd}function by(a,t,n,s){const r=cc(n,t,a);let o=Yp(t,s,n);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=a.getMetersPerUnit();h!==void 0&&(o/=h);const f=a.getExtent();if(!f||fr(f,r)){const g=Yp(a,o,r)/o;isFinite(g)&&g>0&&(o/=g)}return o}function tw(a,t,n,s){const r=ia(n);let o=by(a,t,r,s);return(!isFinite(o)||o<=0)&&m1(n,function(c){return o=by(a,t,c,s),isFinite(o)&&o>0}),o}function ew(a,t,n,s,r,o,c,h,f,g,_,p,y,x){const E=fe(Math.round(n*a),Math.round(n*t),hr);if(p||(E.imageSmoothingEnabled=!1),f.length===0)return E.canvas;E.scale(n,n);function R(O){return Math.round(O*n)/n}E.globalCompositeOperation="lighter";const b=Rn();f.forEach(function(O,H,W){_T(b,O.extent)});let C;const M=n/s,z=(p?1:1+Math.pow(2,-24))/M;C=fe(Math.round(Ft(b)*M),Math.round(Pe(b)*M),hr),p||(C.imageSmoothingEnabled=!1),f.forEach(function(O,H,W){if(O.image.width>0&&O.image.height>0){if(O.clipExtent){C.save();const et=(O.clipExtent[0]-b[0])*M,it=-(O.clipExtent[3]-b[3])*M,st=Ft(O.clipExtent)*M,lt=Pe(O.clipExtent)*M;C.rect(p?et:Math.round(et),p?it:Math.round(it),p?st:Math.round(et+st)-Math.round(et),p?lt:Math.round(it+lt)-Math.round(it)),C.clip()}const B=(O.extent[0]-b[0])*M,Z=-(O.extent[3]-b[3])*M,$=Ft(O.extent)*M,nt=Pe(O.extent)*M;C.drawImage(O.image,g,g,O.image.width-2*g,O.image.height-2*g,p?B:Math.round(B),p?Z:Math.round(Z),p?$:Math.round(B+$)-Math.round(B),p?nt:Math.round(Z+nt)-Math.round(Z)),O.clipExtent&&C.restore()}});const D=la(c);return h.getTriangles().forEach(function(O,H,W){const B=O.source,Z=O.target;let $=B[0][0],nt=B[0][1],et=B[1][0],it=B[1][1],st=B[2][0],lt=B[2][1];const N=R((Z[0][0]-D[0])/o),q=R(-(Z[0][1]-D[1])/o),J=R((Z[1][0]-D[0])/o),at=R(-(Z[1][1]-D[1])/o),w=R((Z[2][0]-D[0])/o),Y=R(-(Z[2][1]-D[1])/o),U=$,tt=nt;$=0,nt=0,et-=U,it-=tt,st-=U,lt-=tt;const rt=[[et,it,0,0,J-N],[st,lt,0,0,w-N],[0,0,et,it,at-q],[0,0,st,lt,Y-q]],ht=ST(rt);if(!ht)return;if(E.save(),E.beginPath(),JC()||!p){E.moveTo(J,at);const jt=4,wt=N-J,re=q-at;for(let Ee=0;Ee<jt;Ee++)E.lineTo(J+R((Ee+1)*wt/jt),at+R(Ee*re/(jt-1))),Ee!=jt-1&&E.lineTo(J+R((Ee+1)*wt/jt),at+R((Ee+1)*re/(jt-1)));E.lineTo(w,Y)}else E.moveTo(J,at),E.lineTo(N,q),E.lineTo(w,Y);E.clip(),E.transform(ht[0],ht[2],ht[1],ht[3],N,q),E.translate(b[0]-U,b[3]-tt);let ut;if(C)ut=C.canvas,E.scale(z,-z);else{const jt=f[0],wt=jt.extent;ut=jt.image,E.scale(Ft(wt)/ut.width,-Pe(wt)/ut.height)}E.drawImage(ut,0,0),E.restore()}),C&&(yc(C),hr.push(C.canvas)),_&&(E.save(),E.globalCompositeOperation="source-over",E.strokeStyle="black",E.lineWidth=1,h.getTriangles().forEach(function(O,H,W){const B=O.target,Z=(B[0][0]-D[0])/o,$=-(B[0][1]-D[1])/o,nt=(B[1][0]-D[0])/o,et=-(B[1][1]-D[1])/o,it=(B[2][0]-D[0])/o,st=-(B[2][1]-D[1])/o;E.beginPath(),E.moveTo(nt,et),E.lineTo(Z,$),E.lineTo(it,st),E.closePath(),E.stroke()}),E.restore()),E.canvas}const nw=10,Cy=.25;class iw{constructor(t,n,s,r,o,c,h){this.sourceProj_=t,this.targetProj_=n;let f={};const g=h?JT(z=>xe(h,cc(z,this.targetProj_,this.sourceProj_))):Zu(this.targetProj_,this.sourceProj_);this.transformInv_=function(z){const D=z[0]+"/"+z[1];return f[D]||(f[D]=g(z)),f[D]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ft(r)>=Ft(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ft(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ft(this.targetProj_.getExtent()):null;const _=la(s),p=ac(s),y=sc(s),x=ic(s),E=this.transformInv_(_),R=this.transformInv_(p),b=this.transformInv_(y),C=this.transformInv_(x),M=nw+(c?Math.max(0,Math.ceil(Math.log2(Sd(s)/(c*c*256*256)))):0);if(this.addQuad_(_,p,y,x,E,R,b,C,M),this.wrapsXInSource_){let z=1/0;this.triangles_.forEach(function(D,O,H){z=Math.min(z,D.source[0][0],D.source[1][0],D.source[2][0])}),this.triangles_.forEach(D=>{if(Math.max(D.source[0][0],D.source[1][0],D.source[2][0])-z>this.sourceWorldWidth_/2){const O=[[D.source[0][0],D.source[0][1]],[D.source[1][0],D.source[1][1]],[D.source[2][0],D.source[2][1]]];O[0][0]-z>this.sourceWorldWidth_/2&&(O[0][0]-=this.sourceWorldWidth_),O[1][0]-z>this.sourceWorldWidth_/2&&(O[1][0]-=this.sourceWorldWidth_),O[2][0]-z>this.sourceWorldWidth_/2&&(O[2][0]-=this.sourceWorldWidth_);const H=Math.min(O[0][0],O[1][0],O[2][0]);Math.max(O[0][0],O[1][0],O[2][0])-H<this.sourceWorldWidth_/2&&(D.source=O)}})}f={}}addTriangle_(t,n,s,r,o,c){this.triangles_.push({source:[r,o,c],target:[t,n,s]})}addQuad_(t,n,s,r,o,c,h,f,g){const _=Ip([o,c,h,f]),p=this.sourceWorldWidth_?Ft(_)/this.sourceWorldWidth_:null,y=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&p>.5&&p<1;let E=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const b=Ip([t,n,s,r]);E=Ft(b)/this.targetWorldWidth_>Cy||E}!x&&this.sourceProj_.isGlobal()&&p&&(E=p>Cy||E)}if(!E&&this.maxSourceExtent_&&isFinite(_[0])&&isFinite(_[1])&&isFinite(_[2])&&isFinite(_[3])&&!Ve(_,this.maxSourceExtent_))return;let R=0;if(!E&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)E=!0;else if(R=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),R!=1&&R!=2&&R!=4&&R!=8)return}if(g>0){if(!E){const b=[(t[0]+s[0])/2,(t[1]+s[1])/2],C=this.transformInv_(b);let M;x?M=(na(o[0],y)+na(h[0],y))/2-na(C[0],y):M=(o[0]+h[0])/2-C[0];const z=(o[1]+h[1])/2-C[1];E=M*M+z*z>this.errorThresholdSquared_}if(E){if(Math.abs(t[0]-s[0])<=Math.abs(t[1]-s[1])){const b=[(n[0]+s[0])/2,(n[1]+s[1])/2],C=this.transformInv_(b),M=[(r[0]+t[0])/2,(r[1]+t[1])/2],z=this.transformInv_(M);this.addQuad_(t,n,b,M,o,c,C,z,g-1),this.addQuad_(M,b,s,r,z,C,h,f,g-1)}else{const b=[(t[0]+n[0])/2,(t[1]+n[1])/2],C=this.transformInv_(b),M=[(s[0]+r[0])/2,(s[1]+r[1])/2],z=this.transformInv_(M);this.addQuad_(t,b,M,r,o,C,z,f,g-1),this.addQuad_(b,n,s,M,C,c,h,z,g-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(R&11)==0&&this.addTriangle_(t,s,r,o,h,f),(R&14)==0&&this.addTriangle_(t,s,n,o,h,c),R&&((R&13)==0&&this.addTriangle_(n,r,t,c,f,o),(R&7)==0&&this.addTriangle_(n,r,s,c,f,h))}calculateSourceExtent(){const t=Rn();return this.triangles_.forEach(function(n,s,r){const o=n.source;jl(t,o[0]),jl(t,o[1]),jl(t,o[2])}),t}getTriangles(){return this.triangles_}}const sw=.5;class h2 extends bg{constructor(t,n,s,r,o,c,h,f,g,_,p,y){super(o,dt.IDLE,y),this.renderEdges_=p!==void 0?p:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const x=r.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent();let R=this.sourceTileGrid_.getExtent();const b=E?ea(x,E):x;if(Sd(b)===0){this.state=dt.EMPTY;return}const C=t.getExtent();C&&(R?R=ea(R,C):R=C);const M=r.getResolution(this.wrappedTileCoord_[0]),z=tw(t,s,b,M);if(!isFinite(z)||z<=0){this.state=dt.EMPTY;return}const D=_!==void 0?_:sw;if(this.triangulation_=new iw(t,s,b,R,z*D,M),this.triangulation_.getTriangles().length===0){this.state=dt.EMPTY;return}this.sourceZ_=n.getZForResolution(z);let O=this.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(O[1]=Qt(O[1],R[1],R[3]),O[3]=Qt(O[3],R[1],R[3])):O=ea(O,R)),!Sd(O))this.state=dt.EMPTY;else{let H=0,W=0;t.canWrapX()&&(H=Ft(C),W=Math.floor((O[0]-C[0])/H)),y1(O.slice(),t,!0).forEach(Z=>{const $=n.getTileRangeForExtentAndZ(Z,this.sourceZ_);for(let nt=$.minX;nt<=$.maxX;nt++)for(let et=$.minY;et<=$.maxY;et++){const it=g(this.sourceZ_,nt,et,h);if(it){const st=W*H;this.sourceTiles_.push({tile:it,offset:st})}}++W}),this.sourceTiles_.length===0&&(this.state=dt.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(n=>{const s=n.tile;if(s&&s.getState()==dt.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(s.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const o=this.clipExtent_?.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),t.push({extent:r,clipExtent:o,image:s.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=dt.ERROR;else{const n=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(n),r=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],c=this.targetTileGrid_.getResolution(n),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ew(r,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=dt.LOADED}this.changed()}load(){if(this.state==dt.IDLE){this.state=dt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const s=n.getState();if(s==dt.IDLE||s==dt.LOADING){t++;const r=Lt(n,xt.CHANGE,o=>{const c=n.getState();(c==dt.LOADED||c==dt.ERROR||c==dt.EMPTY)&&(Vt(r),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},s,r){n.getState()==dt.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Vt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(yc(this.canvas_.getContext("2d")),hr.push(this.canvas_),this.canvas_=null),super.release()}}class aw{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof hc&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let n=this.oldest_;for(;n;)t(n.value_,n.key_,this),n=n.newer}get(t,n){const s=this.entries_[t];return kt(s!==void 0,"Tried to get a value for a key that does not exist in the cache"),s===this.newest_||(s===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(s.newer.older=s.older,s.older.newer=s.newer),s.newer=null,s.older=this.newest_,this.newest_.newer=s,this.newest_=s),s.value_}remove(t){const n=this.entries_[t];return kt(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[t],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.key_;return t}getValues(){const t=new Array(this.count_);let n=0,s;for(s=this.newest_;s;s=s.older)t[n++]=s.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){return this.entries_[t]?.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,n){this.get(t),this.entries_[t].value_=n}set(t,n){kt(!(t in this.entries_),"Tried to set a value for a key that is used already");const s={key_:t,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_}setSize(t){this.highWaterMark=t}}function Qu(a,t,n,s){return s!==void 0?(s[0]=a,s[1]=t,s[2]=n,s):[a,t,n]}function rw(a,t,n){return a+"/"+t+"/"+n}function lw(a){return ow(a[0],a[1],a[2])}function ow(a,t,n){return(t<<a)+n}function uw(a,t){const n=a[0],s=a[1],r=a[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;const o=t.getFullTileRange(n);return o?o.containsXY(s,r):!0}class f2{constructor(){this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Ku(),{get:(t,n)=>{if(typeof Ku()[n]=="function")return this.push_(n),this.pushMethodArgs_},set:(t,n,s)=>(this.push_(n,s),!0)})}push_(...t){const n=this.instructions_,s=this.zIndex+this.offset_;n[s]||(n[s]=[]),n[s].push(...t)}pushMethodArgs_=(...t)=>(this.push_(t),this);pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(n=>{for(let s=0,r=n.length;s<r;++s){const o=n[s];if(typeof o=="function"){o(t);continue}const c=n[++s];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const cw=5;class hw extends no{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=cw}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return Dt()}getData(t){return null}prepareFrame(t){return Dt()}renderFrame(t,n){return Dt()}forEachFeatureAtCoordinate(t,n,s,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const n=t.target;(n.getState()===Et.LOADED||n.getState()===Et.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let n=t.getState();return n!=Et.LOADED&&n!=Et.ERROR&&t.addEventListener(xt.CHANGE,this.boundHandleImageChange_),n==Et.IDLE&&(t.load(),n=t.getState()),n==Et.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const wy=[];let ar=null;function fw(){ar=fe(1,1,void 0,{willReadFrequently:!0})}class d2 extends hw{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=zn(),this.pixelTransform=zn(),this.inversePixelTransform=zn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,n,s){ar||fw(),ar.clearRect(0,0,1,1);let r;try{ar.drawImage(t,n,s,1,1,0,0,1,1),r=ar.getImageData(0,0,1,1).data}catch{return ar=null,null}return r}getBackground(t){let s=this.getLayer().getBackground();return typeof s=="function"&&(s=s(t.viewState.resolution)),s||void 0}useContainer(t,n,s){const r=this.getLayer().getClassName();let o,c;if(t&&t.className===r&&(!s||t&&t.style.backgroundColor&&bs(_r(t.style.backgroundColor),_r(s)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&RR(c.canvas.style.transform,n)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=r;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=fe();const f=c.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&s&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=s)}clipUnrotated(t,n,s){const r=la(s),o=ac(s),c=sc(s),h=ic(s);xe(n.coordinateToPixelTransform,r),xe(n.coordinateToPixelTransform,o),xe(n.coordinateToPixelTransform,c),xe(n.coordinateToPixelTransform,h);const f=this.inversePixelTransform;xe(f,r),xe(f,o),xe(f,c),xe(f,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,n){const s=t.extent,r=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Ft(s)/r*c),f=Math.round(Pe(s)/r*c);Oi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-f/2),D1(this.inversePixelTransform,this.pixelTransform);const g=TR(this.pixelTransform);if(this.useContainer(n,g,this.getBackground(t)),!this.containerReused){const _=this.context.canvas;_.width!=h||_.height!=f?(_.width=h,_.height=f):this.context.clearRect(0,0,h,f),g!==_.style.transform&&(_.style.transform=g)}}dispatchRenderEvent_(t,n,s){const r=this.getLayer();if(r.hasListener(t)){const o=new l2(t,this.inversePixelTransform,s,n);r.dispatchEvent(o)}}preRender(t,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(En.PRERENDER,t,n)}postRender(t,n){n.declutter||this.dispatchRenderEvent_(En.POSTRENDER,t,n)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new f2),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(En.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(En.POSTRENDER,this.context,t))}getRenderTransform(t,n,s,r,o,c,h){const f=o/2,g=c/2,_=r/n,p=-_,y=-t[0]+h,x=-t[1];return Oi(this.tempTransform,f,g,_,p,-s,y,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function fd(a,t,n,s,r){return`${Nt(a)},${t},${rw(n,s,r)}`}function dd(a,t,n){if(!(n in a))return a[n]=new Set([t]),!0;const s=a[n],r=s.has(t);return r||s.add(t),!r}function dw(a,t,n){const s=a[n];return s?s.delete(t):!1}function Ay(a,t){const n=a.layerStatesArray[a.layerIndex];n.extent&&(t=ea(t,ys(n.extent,a.viewState.projection)));const s=n.layer.getRenderSource();if(!s.getWrapX()){const r=s.getTileGridForProjection(a.viewState.projection).getExtent();r&&(t=ea(t,r))}return t}class gw extends d2{constructor(t,n){super(t),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new Cg(0,0,0,0),this.tempTileCoord_=Qu(0,0,0);const s=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new aw(s),this.maxStaleKeys=s*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,n,s,r){const o=this.tileCache_,h=this.getLayer().getSource(),f=fd(h,h.getKey(),t,n,s);let g;if(o.containsKey(f))g=o.get(f);else{if(g=h.getTile(t,n,s,r.pixelRatio,r.viewState.projection),!g)return null;o.set(f,g)}return g}getTile(t,n,s,r){const o=this.getOrCreateTile(t,n,s,r);return o||null}getData(t){const n=this.frameState;if(!n)return null;const s=this.getLayer(),r=xe(n.pixelToCoordinateTransform,t.slice()),o=s.getExtent();if(o&&!fr(o,r))return null;const c=n.viewState,h=s.getRenderSource(),f=h.getTileGridForProjection(c.projection),g=h.getTilePixelRatio(n.pixelRatio);for(let _=f.getZForResolution(c.resolution);_>=f.getMinZoom();--_){const p=f.getTileCoordForCoordAndZ(r,_),y=this.getTile(_,p[1],p[2],n);if(!y||y.getState()!==dt.LOADED)continue;const x=f.getOrigin(_),E=We(f.getTileSize(_)),R=f.getResolution(_);let b;if(y instanceof c2||y instanceof h2)b=y.getImage();else if(y instanceof Ty){if(b=jd(y.getData()),!b)continue}else continue;const C=Math.floor(g*((r[0]-x[0])/R-p[1]*E[0])),M=Math.floor(g*((x[1]-r[1])/R-p[2]*E[1])),z=Math.round(g*h.getGutterForProjection(c.projection));return this.getImageData(b,C+z,M+z)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const s=n.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==s&&(this.renderedSourceRevision_=s,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=s,!0}enqueueTiles(t,n,s,r,o){const c=t.viewState,h=this.getLayer(),f=h.getRenderSource(),g=f.getTileGridForProjection(c.projection),_=Nt(f);_ in t.wantedTiles||(t.wantedTiles[_]={});const p=t.wantedTiles[_],y=h.getMapInternal(),x=Math.max(s-o,g.getMinZoom(),g.getZForResolution(Math.min(h.getMaxResolution(),y?y.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):g.getResolution(0)),f.zDirection)),E=c.rotation,R=E?_1(c.center,c.resolution,E,t.size):void 0;for(let b=s;b>=x;--b){const C=g.getTileRangeForExtentAndZ(n,b,this.tempTileRange_),M=g.getResolution(b);for(let z=C.minX;z<=C.maxX;++z)for(let D=C.minY;D<=C.maxY;++D){if(E&&!g.tileCoordIntersectsViewport([b,z,D],R))continue;const O=this.getTile(b,z,D,t);if(!O||!dd(r,O,b))continue;const W=O.getKey();if(p[W]=!0,O.getState()===dt.IDLE&&!t.tileQueue.isKeyQueued(W)){const B=Qu(b,z,D,this.tempTileCoord_);t.tileQueue.enqueue([O,_,g.getTileCoordCenter(B),M])}}}}findStaleTile_(t,n){const s=this.tileCache_,r=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let f=0;f<h.length;++f){const g=fd(this.getLayer().getSource(),h[f],r,o,c);if(s.containsKey(g)){const _=s.peek(g);if(_.getState()===dt.LOADED)return _.endTransition(Nt(this)),dd(n,_,r),!0}}return!1}findAltTiles_(t,n,s,r){const o=t.getTileRangeForTileCoordAndZ(n,s,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,f=this.getLayer().getRenderSource(),g=f.getKey();for(let _=o.minX;_<=o.maxX;++_)for(let p=o.minY;p<=o.maxY;++p){const y=fd(f,g,s,_,p);let x=!1;if(h.containsKey(y)){const E=h.peek(y);E.getState()===dt.LOADED&&(dd(r,E,s),x=!0)}x||(c=!1)}return c}renderFrame(t,n){this.renderComplete=!0;const s=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,c=r.resolution,h=r.center,f=t.pixelRatio,g=this.getLayer(),_=g.getSource(),p=_.getTileGridForProjection(o),y=p.getZForResolution(c,_.zDirection),x=p.getResolution(y),E=_.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==E&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=E):this.renderedSourceKey_=E;let R=t.extent;const b=_.getTilePixelRatio(f);this.prepareContainer(t,n);const C=this.context.canvas.width,M=this.context.canvas.height,z=s.extent&&ys(s.extent);z&&(R=ea(R,ys(s.extent)));const D=x*C/2/b,O=x*M/2/b,H=[h[0]-D,h[1]-O,h[0]+D,h[1]+O],W={};this.renderedTiles.length=0;const B=g.getPreload();if(t.nextExtent){const J=p.getZForResolution(r.nextResolution,_.zDirection),at=Ay(t,t.nextExtent);this.enqueueTiles(t,at,J,W,B)}const Z=Ay(t,R);if(this.enqueueTiles(t,Z,y,W,0),B>0&&setTimeout(()=>{this.enqueueTiles(t,Z,y-1,W,B-1)},0),!(y in W))return this.container;const $=Nt(this),nt=t.time;for(const J of W[y]){const at=J.getState();if(at===dt.EMPTY)continue;const w=J.tileCoord;if(at===dt.LOADED&&J.getAlpha($,nt)===1){J.endTransition($);continue}if(at!==dt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(w,W)){dw(W,J,y),t.animate=!0;continue}if(this.findAltTiles_(p,w,y+1,W))continue;const tt=p.getMinZoom();for(let rt=y-1;rt>=tt&&!this.findAltTiles_(p,w,rt,W);--rt);}const et=x/c*f/b,it=this.getRenderContext(t);Oi(this.tempTransform,C/2,M/2,et,et,0,-C/2,-M/2),s.extent&&this.clipUnrotated(it,t,z),_.getInterpolate()||(it.imageSmoothingEnabled=!1),this.preRender(it,t);const st=Object.keys(W).map(Number);st.sort(wi);let lt;const N=[],q=[];for(let J=st.length-1;J>=0;--J){const at=st[J],w=_.getTilePixelSize(at,f,o),U=p.getResolution(at)/x,tt=w[0]*U*et,rt=w[1]*U*et,ht=p.getTileCoordForCoordAndZ(la(H),at),ut=p.getTileCoordExtent(ht),jt=xe(this.tempTransform,[b*(ut[0]-H[0])/x,b*(H[3]-ut[3])/x]),wt=b*_.getGutterForProjection(o);for(const re of W[at]){if(re.getState()!==dt.LOADED)continue;const Ee=re.tileCoord,ei=ht[1]-Ee[1],Cs=Math.round(jt[0]-(ei-1)*tt),ni=ht[2]-Ee[2],bn=Math.round(jt[1]-(ni-1)*rt),Ue=Math.round(jt[0]-ei*tt),cn=Math.round(jt[1]-ni*rt),Se=Cs-Ue,ji=bn-cn,ki=st.length===1;let Pn=!1;lt=[Ue,cn,Ue+Se,cn,Ue+Se,cn+ji,Ue,cn+ji];for(let Cn=0,Pi=N.length;Cn<Pi;++Cn)if(!ki&&at<q[Cn]){const ie=N[Cn];Ve([Ue,cn,Ue+Se,cn+ji],[ie[0],ie[3],ie[4],ie[7]])&&(Pn||(it.save(),Pn=!0),it.beginPath(),it.moveTo(lt[0],lt[1]),it.lineTo(lt[2],lt[3]),it.lineTo(lt[4],lt[5]),it.lineTo(lt[6],lt[7]),it.moveTo(ie[6],ie[7]),it.lineTo(ie[4],ie[5]),it.lineTo(ie[2],ie[3]),it.lineTo(ie[0],ie[1]),it.clip())}N.push(lt),q.push(at),this.drawTile(re,t,Ue,cn,Se,ji,wt,ki),Pn&&it.restore(),this.renderedTiles.unshift(re),this.updateUsedTiles(t.usedTiles,_,re)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Ul(this.renderedExtent_,H),this.renderedExtent_=H,this.renderedPixelRatio=f,this.postRender(this.context,t),s.extent&&it.restore(),it.imageSmoothingEnabled=!0,this.renderComplete){const J=(at,w)=>{const Y=Nt(_),U=w.wantedTiles[Y],tt=U?Object.keys(U).length:0;this.updateCacheSize(tt),this.tileCache_.expireCache()};t.postRenderFunctions.push(J)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,n,s,r,o,c,h,f){let g;if(t instanceof Ty){if(g=jd(t.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(t);if(!g)return;const _=this.getRenderContext(n),p=Nt(this),y=n.layerStatesArray[n.layerIndex],x=y.opacity*(f?t.getAlpha(p,n.time):1),E=x!==_.globalAlpha;E&&(_.save(),_.globalAlpha=x),_.drawImage(g,h,h,g.width-2*h,g.height-2*h,s,r,o,c),E&&_.restore(),x!==y.opacity?n.animate=!0:f&&t.endTransition(p)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,n,s){const r=Nt(n);r in t||(t[r]={}),t[r][s.getKey()]=!0}}const Nu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class mw extends vc{constructor(t){t=t||{};const n=Object.assign({},t),s=t.cacheSize;delete t.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=s,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Nu.PRELOAD)}setPreload(t){this.set(Nu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Nu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Nu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class _w extends mw{constructor(t){super(t)}createRenderer(){return new gw(this,{cacheSize:this.getCacheSize()})}}const tr=[0,0,0],hs=5;class g2{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,kt(rR(this.resolutions_,(r,o)=>o-r),"`resolutions` must be sorted in descending order");let n;if(!t.origins){for(let r=0,o=this.resolutions_.length-1;r<o;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,kt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const s=t.extent;s!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=la(s)),kt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,kt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:fg,kt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=s!==void 0?s:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((r,o)=>{const c=new Cg(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(s){const h=this.getTileRangeForExtentAndZ(s,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):s&&this.calculateTileRanges_(s)}forEachTileCoord(t,n,s){const r=this.getTileRangeForExtentAndZ(t,n);for(let o=r.minX,c=r.maxX;o<=c;++o)for(let h=r.minY,f=r.maxY;h<=f;++h)s([n,o,h])}forEachTileCoordParentTileRange(t,n,s,r){let o,c,h,f=null,g=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):f=this.getTileCoordExtent(t,r);g>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=Ja(c,c,h,h,s)):o=this.getTileRangeForExtentAndZ(f,g,s),n(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,n,s){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return Ja(o,o+1,c,c+1,n)}const r=this.getTileCoordExtent(t,s||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,n)}return null}getTileRangeForTileCoordAndZ(t,n,s){if(n>this.maxZoom||n<this.minZoom)return null;const r=t[0],o=t[1],c=t[2];if(n===r)return Ja(o,c,o,c,s);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,n-r),g=Math.floor(o*f),_=Math.floor(c*f);if(n<r)return Ja(g,g,_,_,s);const p=Math.floor(f*(o+1))-1,y=Math.floor(f*(c+1))-1;return Ja(g,p,_,y,s)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,n,s)}getTileRangeForExtentAndZ(t,n,s){this.getTileCoordForXYAndZ_(t[0],t[3],n,!1,tr);const r=tr[1],o=tr[2];this.getTileCoordForXYAndZ_(t[2],t[1],n,!0,tr);const c=tr[1],h=tr[2];return Ja(r,c,o,h,s)}getTileCoordCenter(t){const n=this.getOrigin(t[0]),s=this.getResolution(t[0]),r=We(this.getTileSize(t[0]),this.tmpSize_);return[n[0]+(t[1]+.5)*r[0]*s,n[1]-(t[2]+.5)*r[1]*s]}getTileCoordExtent(t,n){const s=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=We(this.getTileSize(t[0]),this.tmpSize_),c=s[0]+t[1]*o[0]*r,h=s[1]-(t[2]+1)*o[1]*r,f=c+o[0]*r,g=h+o[1]*r;return Ss(c,h,f,g,n)}getTileCoordForCoordAndResolution(t,n,s){return this.getTileCoordForXYAndResolution_(t[0],t[1],n,!1,s)}getTileCoordForXYAndResolution_(t,n,s,r,o){const c=this.getZForResolution(s),h=s/this.getResolution(c),f=this.getOrigin(c),g=We(this.getTileSize(c),this.tmpSize_);let _=h*(t-f[0])/s/g[0],p=h*(f[1]-n)/s/g[1];return r?(_=Ru(_,hs)-1,p=Ru(p,hs)-1):(_=Tu(_,hs),p=Tu(p,hs)),Qu(c,_,p,o)}getTileCoordForXYAndZ_(t,n,s,r,o){const c=this.getOrigin(s),h=this.getResolution(s),f=We(this.getTileSize(s),this.tmpSize_);let g=(t-c[0])/h/f[0],_=(c[1]-n)/h/f[1];return r?(g=Ru(g,hs)-1,_=Ru(_,hs)-1):(g=Tu(g,hs),_=Tu(_,hs)),Qu(s,g,_,o)}getTileCoordForCoordAndZ(t,n,s){return this.getTileCoordForXYAndZ_(t[0],t[1],n,!1,s)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,n){const s=eg(this.resolutions_,t,n||0);return Qt(s,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,n){return P1(n,0,n.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const n=this.resolutions_.length,s=new Array(n);for(let r=this.minZoom;r<n;++r)s[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=s}}function m2(a){let t=a.getDefaultTileGrid();return t||(t=xw(a),a.setDefaultTileGrid(t)),t}function pw(a,t,n){const s=t[0],r=a.getTileCoordCenter(t),o=wg(n);if(!fr(o,r)){const c=Ft(o),h=Math.ceil((o[0]-r[0])/c);return r[0]+=c*h,a.getTileCoordForCoordAndZ(r,s)}return t}function yw(a,t,n,s){s=s!==void 0?s:"top-left";const r=_2(a,t,n);return new g2({extent:a,origin:yT(a,s),resolutions:r,tileSize:n})}function vw(a){const t=a||{},n=t.extent||$e("EPSG:3857").getExtent(),s={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:_2(n,t.maxZoom,t.tileSize,t.maxResolution)};return new g2(s)}function _2(a,t,n,s){t=t!==void 0?t:VR,n=We(n!==void 0?n:fg);const r=Pe(a),o=Ft(a);s=s>0?s:Math.max(o/n[0],r/n[1]);const c=t+1,h=new Array(c);for(let f=0;f<c;++f)h[f]=s/Math.pow(2,f);return h}function xw(a,t,n,s){const r=wg(a);return yw(r,t,n,s)}function wg(a){a=$e(a);let t=a.getExtent();if(!t){const n=180*Vd.degrees/a.getMetersPerUnit();t=Ss(-n,-n,n,n)}return t}const Ew=/\{z\}/g,Sw=/\{x\}/g,Tw=/\{y\}/g,Rw=/\{-y\}/g;function bw(a,t,n,s,r){return a.replace(Ew,t.toString()).replace(Sw,n.toString()).replace(Tw,s.toString()).replace(Rw,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-s).toString()})}function Cw(a){const t=[];let n=/\{([a-z])-([a-z])\}/.exec(a);if(n){const s=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let o;for(o=s;o<=r;++o)t.push(a.replace(n[0],String.fromCharCode(o)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(a),n){const s=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=s;r++)t.push(a.replace(n[0],r.toString()));return t}return t.push(a),t}function ww(a,t){return(function(n,s,r){if(!n)return;let o;const c=n[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return bw(a,c,n[1],n[2],o)})}function Aw(a,t){const n=a.length,s=new Array(n);for(let r=0;r<n;++r)s[r]=ww(a[r],t);return Mw(s)}function Mw(a){return a.length===1?a[0]:(function(t,n,s){if(!t)return;const r=lw(t),o=na(r,a.length);return a[o](t,n,s)})}class p2 extends kn{constructor(t){super(),this.projection=$e(t.projection),this.attributions_=My(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(s,r){n.viewResolver=s,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=My(t),this.changed()}setState(t){this.state_=t,this.changed()}}function My(a){return a?typeof a=="function"?a:(Array.isArray(a)||(a=[a]),t=>a):null}class Lw extends p2{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const n=[256,256];this.tileGrid&&We(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=t.key||Nt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const n=t?this.getTileGridForProjection(t):this.tileGrid;return n?n.getResolutions():null}getTile(t,n,s,r,o){return Dt()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:m2(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,n,s){const r=this.getTileGridForProjection(s),o=this.getTilePixelRatio(n),c=We(r.getTileSize(t),this.tmpSize);return o==1?c:Xb(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,n){const s=n!==void 0?n:this.getProjection(),r=n!==void 0?this.getTileGridForProjection(s):this.tileGrid||this.getTileGridForProjection(s);return this.getWrapX()&&s.isGlobal()&&(t=pw(r,t,s)),uw(t,r)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class Ow extends Ii{constructor(t,n){super(t),this.tile=n}}const gd={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class Ag extends Lw{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ag.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const n=t.target,s=Nt(n),r=n.getState();let o;r==dt.LOADING?(this.tileLoadingKeys_[s]=!0,o=gd.TILELOADSTART):s in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[s],o=r==dt.ERROR?gd.TILELOADERROR:r==dt.LOADED?gd.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new Ow(o,n))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,n){this.tileUrlFunction=t,typeof n<"u"?this.setKey(n):this.changed()}setUrl(t){const n=Cw(t);this.urls=n,this.setUrls(n)}setUrls(t){this.urls=t;const n=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Aw(t,this.tileGrid),n):this.setKey(n)}tileUrlFunction(t,n,s){}}class Dw extends Ag{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Nw,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:c2,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!Hf(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const n=this.getProjection();if(this.tileGrid&&(!n||Hf(n,t)))return this.tileGrid;const s=Nt(t);return s in this.tileGridForProjection||(this.tileGridForProjection[s]=m2(t)),this.tileGridForProjection[s]}createTile_(t,n,s,r,o,c){const h=[t,n,s],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,r,o):void 0,_=new this.tileClass(h,g!==void 0?dt.IDLE:dt.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=c,_.addEventListener(xt.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,n,s,r,o){const c=this.getProjection();if(!c||!o||Hf(c,o))return this.getTileInternal(t,n,s,r,c||o);const h=[t,n,s],f=this.getKey(),g=this.getTileGridForProjection(c),_=this.getTileGridForProjection(o),p=this.getTileCoordForTileUrlFunction(h,o),y=new h2(c,g,o,_,h,p,this.getTilePixelRatio(r),this.getGutter(),(x,E,R,b)=>this.getTileInternal(x,E,R,b,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return y.key=f,y}getTileInternal(t,n,s,r,o){const c=this.getKey();return this.createTile_(t,n,s,r,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,n){const s=$e(t);if(s){const r=Nt(s);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}}function Nw(a,t){a.getImage().src=t}class Iw extends Dw{constructor(t){t=t||{};const n=t.projection!==void 0?t.projection:"EPSG:3857",s=t.tileGrid!==void 0?t.tileGrid:vw({extent:wg(n),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:n,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}const zw='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class jw extends Iw{constructor(t){t=t||{};let n;t.attributions!==void 0?n=t.attributions:n=[zw];const s=t.crossOrigin!==void 0?t.crossOrigin:"anonymous",r=t.url!==void 0?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:s,interpolate:t.interpolate,maxZoom:t.maxZoom!==void 0?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:r,wrapX:t.wrapX,zDirection:t.zDirection})}}const kw=()=>{const a=j.useRef(null),t=j.useRef(null);return j.useEffect(()=>((async()=>{if(!a.current||t.current)return;const s=new VC({target:a.current,layers:[new _w({source:new jw})],view:new Vn({center:$n([126.978,37.5665]),zoom:11})});t.current=s})(),()=>{t.current&&t.current.setTarget(null)}),[]),{mapRef:a,mapInstance:t.current}};class y2{drawCustom(t,n,s,r,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,n,s){}drawFeature(t,n,s){}drawGeometryCollection(t,n,s){}drawLineString(t,n,s){}drawMultiLineString(t,n,s){}drawMultiPoint(t,n,s){}drawMultiPolygon(t,n,s){}drawPoint(t,n,s){}drawPolygon(t,n,s){}drawText(t,n,s){}setFillStrokeStyle(t,n){}setImageStyle(t,n){}setTextStyle(t,n){}}const ft={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Iu=[ft.FILL],vs=[ft.STROKE],Js=[ft.BEGIN_PATH],Ly=[ft.CLOSE_PATH];class lo extends y2{constructor(t,n,s,r){super(),this.tolerance=t,this.maxExtent=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=s,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const n=this.pixelRatio;return n==1?t:t.map(function(s){return s*n})}appendFlatPointCoordinates(t,n){const s=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,f=t.length;h<f;h+=n)r[0]=t[h],r[1]=t[h+1],fr(s,r)&&(o[c++]=r[0],o[c++]=r[1]);return c}appendFlatLineCoordinates(t,n,s,r,o,c){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();c&&(n+=r);let _=t[n],p=t[n+1];const y=this.tmpCoordinate_;let x=!0,E,R,b;for(E=n+r;E<s;E+=r)y[0]=t[E],y[1]=t[E+1],b=Ed(g,y),b!==R?(x&&(h[f++]=_,h[f++]=p,x=!1),h[f++]=y[0],h[f++]=y[1]):b===ve.INTERSECTING?(h[f++]=y[0],h[f++]=y[1],x=!1):x=!0,_=y[0],p=y[1],R=b;return(o&&x||E===n+r)&&(h[f++]=_,h[f++]=p),f}drawCustomCoordinates_(t,n,s,r,o){for(let c=0,h=s.length;c<h;++c){const f=s[c],g=this.appendFlatLineCoordinates(t,n,f,r,!1,!1);o.push(g),n=f}return n}drawCustom(t,n,s,r,o){this.beginGeometry(t,n,o);const c=t.getType(),h=t.getStride(),f=this.coordinates.length;let g,_,p,y,x;switch(c){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),y=[];const E=t.getEndss();x=0;for(let R=0,b=E.length;R<b;++R){const C=[];x=this.drawCustomCoordinates_(g,x,E[R],h,C),y.push(C)}this.instructions.push([ft.CUSTOM,f,y,t,s,Jp,o]),this.hitDetectionInstructions.push([ft.CUSTOM,f,y,t,r||s,Jp,o]);break;case"Polygon":case"MultiLineString":p=[],g=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),x=this.drawCustomCoordinates_(g,0,t.getEnds(),h,p),this.instructions.push([ft.CUSTOM,f,p,t,s,Hu,o]),this.hitDetectionInstructions.push([ft.CUSTOM,f,p,t,r||s,Hu,o]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),_=this.appendFlatLineCoordinates(g,0,g.length,h,!1,!1),this.instructions.push([ft.CUSTOM,f,_,t,s,Ws,o]),this.hitDetectionInstructions.push([ft.CUSTOM,f,_,t,r||s,Ws,o]);break;case"MultiPoint":g=t.getFlatCoordinates(),_=this.appendFlatPointCoordinates(g,h),_>f&&(this.instructions.push([ft.CUSTOM,f,_,t,s,Ws,o]),this.hitDetectionInstructions.push([ft.CUSTOM,f,_,t,r||s,Ws,o]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),_=this.coordinates.length,this.instructions.push([ft.CUSTOM,f,_,t,s,void 0,o]),this.hitDetectionInstructions.push([ft.CUSTOM,f,_,t,r||s,void 0,o]);break}this.endGeometry(n)}beginGeometry(t,n,s){this.beginGeometryInstruction1_=[ft.BEGIN_GEOMETRY,n,0,t,s],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[ft.BEGIN_GEOMETRY,n,0,t,s],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let n;const s=t.length;let r,o,c=-1;for(n=0;n<s;++n)r=t[n],o=r[0],o==ft.END_GEOMETRY?c=n:o==ft.BEGIN_GEOMETRY&&(r[2]=n,aR(this.hitDetectionInstructions,c,n),c=-1)}fillStyleToState(t,n={}){if(t){const s=t.getColor();n.fillPatternScale=s&&typeof s=="object"&&"src"in s?this.pixelRatio:1,n.fillStyle=Qn(s||Ke)}else n.fillStyle=void 0;return n}strokeStyleToState(t,n={}){if(t){const s=t.getColor();n.strokeStyle=Qn(s||Hl);const r=t.getLineCap();n.lineCap=r!==void 0?r:pr;const o=t.getLineDash();n.lineDash=o?o.slice():Ai;const c=t.getLineDashOffset();n.lineDashOffset=c||Mi;const h=t.getLineJoin();n.lineJoin=h!==void 0?h:yr;const f=t.getWidth();n.lineWidth=f!==void 0?f:Vl;const g=t.getMiterLimit();n.miterLimit=g!==void 0?g:Xl,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0;return n}setFillStrokeStyle(t,n){const s=this.state;this.fillStyleToState(t,s),this.strokeStyleToState(n,s)}createFill(t){const n=t.fillStyle,s=[ft.SET_FILL_STYLE,n];return typeof n!="string"&&s.push(t.fillPatternScale),s}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[ft.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,n){const s=t.fillStyle;(typeof s!="string"||t.currentFillStyle!=s)&&(this.instructions.push(n.call(this,t)),t.currentFillStyle=s)}updateStrokeStyle(t,n){const s=t.strokeStyle,r=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,f=t.lineWidth,g=t.miterLimit;(t.currentStrokeStyle!=s||t.currentLineCap!=r||o!=t.currentLineDash&&!bs(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=f||t.currentMiterLimit!=g)&&(n.call(this,t),t.currentStrokeStyle=s,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=f,t.currentMiterLimit=g)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const n=[ft.END_GEOMETRY,t];this.instructions.push(n),this.hitDetectionInstructions.push(n)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=h1(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Yd(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class Pw extends lo{constructor(t,n,s,r){super(t,n,s,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,n,s){if(!this.image_||this.maxExtent&&!fr(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(r,o);this.instructions.push([ft.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ft.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}drawMultiPoint(t,n,s){if(!this.image_)return;this.beginGeometry(t,n,s);const r=t.getFlatCoordinates(),o=[];for(let f=0,g=r.length;f<g;f+=t.getStride())(!this.maxExtent||fr(this.maxExtent,r.slice(f,f+2)))&&o.push(r[f],r[f+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([ft.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([ft.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(n)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,n){const s=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=s[0],this.anchorY_=s[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}class Uw extends lo{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinates_(t,n,s,r){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,n,s,r,!1,!1),h=[ft.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),s}drawLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ft.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi],Js);const h=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(h,0,h.length,f),this.hitDetectionInstructions.push(vs),this.endGeometry(n)}drawMultiLineString(t,n,s){const r=this.state,o=r.strokeStyle,c=r.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(t,n,s),this.hitDetectionInstructions.push([ft.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi],Js);const h=t.getEnds(),f=t.getFlatCoordinates(),g=t.getStride();let _=0;for(let p=0,y=h.length;p<y;++p)_=this.drawFlatCoordinates_(f,_,h[p],g);this.hitDetectionInstructions.push(vs),this.endGeometry(n)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(vs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(vs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Js)}}class Oy extends lo{constructor(t,n,s,r){super(t,n,s,r)}drawFlatCoordinatess_(t,n,s,r){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=s.length;this.instructions.push(Js),this.hitDetectionInstructions.push(Js);for(let g=0;g<f;++g){const _=s[g],p=this.coordinates.length,y=this.appendFlatLineCoordinates(t,n,_,r,!0,!h),x=[ft.MOVE_TO_LINE_TO,p,y];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(Ly),this.hitDetectionInstructions.push(Ly)),n=_}return c&&(this.instructions.push(Iu),this.hitDetectionInstructions.push(Iu)),h&&(this.instructions.push(vs),this.hitDetectionInstructions.push(vs)),n}drawCircle(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_FILL_STYLE,Ke]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getFlatCoordinates(),f=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,f,!1,!1);const _=[ft.CIRCLE,g];this.instructions.push(Js,_),this.hitDetectionInstructions.push(Js,_),r.fillStyle!==void 0&&(this.instructions.push(Iu),this.hitDetectionInstructions.push(Iu)),r.strokeStyle!==void 0&&(this.instructions.push(vs),this.hitDetectionInstructions.push(vs)),this.endGeometry(n)}drawPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_FILL_STYLE,Ke]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getEnds(),f=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(f,0,h,g),this.endGeometry(n)}drawMultiPolygon(t,n,s){const r=this.state,o=r.fillStyle,c=r.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,n,s),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_FILL_STYLE,Ke]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([ft.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,Ai,Mi]);const h=t.getEndss(),f=t.getOrientedFlatCoordinates(),g=t.getStride();let _=0;for(let p=0,y=h.length;p<y;++p)_=this.drawFlatCoordinatess_(f,_,h[p],g);this.endGeometry(n)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const n=this.coordinates;for(let s=0,r=n.length;s<r;++s)n[s]=Ks(n[s],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;this.updateFillStyle(t,this.createFill),this.updateStrokeStyle(t,this.applyStroke)}}function Gw(a,t,n,s,r){const o=[];let c=n,h=0,f=t.slice(n,2);for(;h<a&&c+r<s;){const[g,_]=f.slice(-2),p=t[c+r],y=t[c+r+1],x=Math.sqrt((p-g)*(p-g)+(y-_)*(y-_));if(h+=x,h>=a){const E=(a-h+x)/x,R=un(g,p,E),b=un(_,y,E);f.push(R,b),o.push(f),f=[R,b],h==a&&(c+=r),h=0}else if(h<a)f.push(t[c+r],t[c+r+1]),c+=r;else{const E=x-h,R=un(g,p,E/x),b=un(_,y,E/x);f.push(R,b),o.push(f),f=[R,b],h=0,c+=r}}return h>0&&o.push(f),o}function Fw(a,t,n,s,r){let o=n,c=n,h=0,f=0,g=n,_,p,y,x,E,R,b,C,M,z;for(p=n;p<s;p+=r){const D=t[p],O=t[p+1];E!==void 0&&(M=D-E,z=O-R,x=Math.sqrt(M*M+z*z),b!==void 0&&(f+=y,_=Math.acos((b*M+C*z)/(y*x)),_>a&&(f>h&&(h=f,o=g,c=p),f=0,g=p-r)),y=x,b=M,C=z),E=D,R=O}return f+=x,f>h?[g,p]:[o,c]}const $u={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class Bw extends lo{constructor(t,n,s,r){super(t,n,s,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[Ke]={fillStyle:Ke},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,n,s){const r=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!r&&!o)return;const h=this.coordinates;let f=h.length;const g=t.getType();let _=null,p=t.getStride();if(c.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Ve(this.maxExtent,t.getExtent()))return;let y;if(_=t.getFlatCoordinates(),g=="LineString")y=[_.length];else if(g=="MultiLineString")y=t.getEnds();else if(g=="Polygon")y=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){const b=t.getEndss();y=[];for(let C=0,M=b.length;C<M;++C)y.push(b[C][0])}this.beginGeometry(t,n,s);const x=c.repeat,E=x?void 0:c.textAlign;let R=0;for(let b=0,C=y.length;b<C;++b){let M;x?M=Gw(x*this.resolution,_,R,y[b],p):M=[_.slice(R,y[b])];for(let z=0,D=M.length;z<D;++z){const O=M[z];let H=0,W=O.length;if(E==null){const Z=Fw(c.maxAngle,O,0,O.length,2);H=Z[0],W=Z[1]}for(let Z=H;Z<W;Z+=p)h.push(O[Z],O[Z+1]);const B=h.length;R=y[b],this.drawChars_(f,B),f=B}}this.endGeometry(n)}else{let y=c.overflow?null:[];switch(g){case"Point":case"MultiPoint":_=t.getFlatCoordinates();break;case"LineString":_=t.getFlatMidpoint();break;case"Circle":_=t.getCenter();break;case"MultiLineString":_=t.getFlatMidpoints(),p=2;break;case"Polygon":_=t.getFlatInteriorPoint(),c.overflow||y.push(_[2]/this.resolution),p=3;break;case"MultiPolygon":const D=t.getFlatInteriorPoints();_=[];for(let O=0,H=D.length;O<H;O+=3)c.overflow||y.push(D[O+2]/this.resolution),_.push(D[O],D[O+1]);if(_.length===0)return;p=2;break}const x=this.appendFlatPointCoordinates(_,p);if(x===f)return;if(y&&(x-f)/2!==_.length/p){let D=f/2;y=y.filter((O,H)=>{const W=h[(D+H)*2]===_[H*p]&&h[(D+H)*2+1]===_[H*p+1];return W||--D,W})}this.saveTextStates_();const E=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,R=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,n,s);let b=c.padding;if(b!=$s&&(c.scale[0]<0||c.scale[1]<0)){let D=c.padding[0],O=c.padding[1],H=c.padding[2],W=c.padding[3];c.scale[0]<0&&(O=-O,W=-W),c.scale[1]<0&&(D=-D,H=-H),b=[D,O,H,W]}const C=this.pixelRatio;this.instructions.push([ft.DRAW_IMAGE,f,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,b==$s?$s:b.map(function(D){return D*C}),E,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]);const M=1/C,z=E?E.slice(0):null;z&&(z[1]=Ke),this.hitDetectionInstructions.push([ft.DRAW_IMAGE,f,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[M,M],NaN,this.declutterMode_,this.declutterImageWithText_,b,z,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?Ke:this.fillKey_,this.textOffsetX_,this.textOffsetY_,y]),this.endGeometry(n)}}saveTextStates_(){const t=this.textStrokeState_,n=this.textState_,s=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:n.font,textAlign:n.textAlign||Kl,justify:n.justify,textBaseline:n.textBaseline||Vu,scale:n.scale});const c=this.fillKey_;s&&(c in this.fillStates||(this.fillStates[c]={fillStyle:s.fillStyle}))}drawChars_(t,n){const s=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=$u[r.textBaseline],_=this.textOffsetY_*f,p=this.text_,y=s?s.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([ft.DRAW_CHARS,t,n,g,r.overflow,h,r.maxAngle,f,_,o,y*f,p,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([ft.DRAW_CHARS,t,n,g,r.overflow,h&&Ke,r.maxAngle,f,_,o,y*f,p,c,1/f,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,n){let s,r,o;if(!t)this.text_="";else{const c=t.getFill();c?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Qn(c.getColor()||Ke)):(r=null,this.textFillState_=r);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const R=h.getLineDash(),b=h.getLineDashOffset(),C=h.getWidth(),M=h.getMiterLimit();o.lineCap=h.getLineCap()||pr,o.lineDash=R?R.slice():Ai,o.lineDashOffset=b===void 0?Mi:b,o.lineJoin=h.getLineJoin()||yr,o.lineWidth=C===void 0?Vl:C,o.miterLimit=M===void 0?Xl:M,o.strokeStyle=Qn(h.getColor()||Hl)}s=this.textState_;const f=t.getFont()||$1;TC(f);const g=t.getScaleArray();s.overflow=t.getOverflow(),s.font=f,s.maxAngle=t.getMaxAngle(),s.placement=t.getPlacement(),s.textAlign=t.getTextAlign(),s.repeat=t.getRepeat(),s.justify=t.getJustify(),s.textBaseline=t.getTextBaseline()||Vu,s.backgroundFill=t.getBackgroundFill(),s.backgroundStroke=t.getBackgroundStroke(),s.padding=t.getPadding()||$s,s.scale=g===void 0?[1,1]:g;const _=t.getOffsetX(),p=t.getOffsetY(),y=t.getRotateWithView(),x=t.getKeepUpright(),E=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=_===void 0?0:_,this.textOffsetY_=p===void 0?0:p,this.textRotateWithView_=y===void 0?!1:y,this.textKeepUpright_=x===void 0?!0:x,this.textRotation_=E===void 0?0:E,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:Nt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=s.font+s.scale+(s.textAlign||"?")+(s.repeat||"?")+(s.justify||"?")+(s.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+Nt(r.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=n}}const Zw={Circle:Oy,Default:lo,Image:Pw,LineString:Uw,Polygon:Oy,Text:Bw};class Yw{constructor(t,n,s,r){this.tolerance_=t,this.maxExtent_=n,this.pixelRatio_=r,this.resolution_=s,this.buildersByZIndex_={}}finish(){const t={};for(const n in this.buildersByZIndex_){t[n]=t[n]||{};const s=this.buildersByZIndex_[n];for(const r in s){const o=s[r].finish();t[n][r]=o}}return t}getBuilder(t,n){const s=t!==void 0?t.toString():"0";let r=this.buildersByZIndex_[s];r===void 0&&(r={},this.buildersByZIndex_[s]=r);let o=r[n];if(o===void 0){const c=Zw[n];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[n]=o}return o}}function v2(a,t,n,s){let r=a[t],o=a[t+1],c=0;for(let h=t+s;h<n;h+=s){const f=a[h],g=a[h+1];c+=Math.sqrt((f-r)*(f-r)+(g-o)*(g-o)),r=f,o=g}return c}function Xw(a,t,n,s,r,o,c,h,f,g,_,p,y=!0){let x=a[t],E=a[t+1],R=0,b=0,C=0,M=0;function z(){R=x,b=E,t+=s,x=a[t],E=a[t+1],M+=C,C=Math.sqrt((x-R)*(x-R)+(E-b)*(E-b))}do z();while(t<n-s&&M+C<o);let D=C===0?0:(o-M)/C;const O=un(R,x,D),H=un(b,E,D),W=t-s,B=M,Z=o+h*f(g,r,_);for(;t<n-s&&M+C<Z;)z();D=C===0?0:(Z-M)/C;const $=un(R,x,D),nt=un(b,E,D);let et=!1;if(y)if(p){const q=[O,H,$,nt];N1(q,0,4,2,p,q,q),et=q[0]>q[2]}else et=O>$;const it=Math.PI,st=[],lt=W+s===t;t=W,C=0,M=B,x=a[t],E=a[t+1];let N;if(lt){z(),N=Math.atan2(E-b,x-R),et&&(N+=N>0?-it:it);const q=($+O)/2,J=(nt+H)/2;return st[0]=[q,J,(Z-o)/2,N,r],st}r=r.replace(/\n/g," ");for(let q=0,J=r.length;q<J;){z();let at=Math.atan2(E-b,x-R);if(et&&(at+=at>0?-it:it),N!==void 0){let ht=at-N;if(ht+=ht>it?-2*it:ht<-it?2*it:0,Math.abs(ht)>c)return null}N=at;const w=q;let Y=0;for(;q<J;++q){const ht=et?J-q-1:q,ut=h*f(g,r[ht],_);if(t+s<n&&M+C<o+Y+ut/2)break;Y+=ut}if(q===w)continue;const U=et?r.substring(J-w,J-q):r.substring(w,q);D=C===0?0:(o+Y/2-M)/C;const tt=un(R,x,D),rt=un(b,E,D);st.push([tt,rt,Y/2,at,U]),o+=Y}return st}const er=Rn(),fs=[],vi=[],xi=[],ds=[];function Dy(a){return a[3].declutterBox}const Ny=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function md(a,t){return t==="start"?t=Ny.test(a)?"right":"left":t==="end"&&(t=Ny.test(a)?"left":"right"),$u[t]}function Hw(a,t,n){return n>0&&a.push(`
`,""),a.push(t,""),a}function Kw(a,t,n){return n%2===0&&(a+=t),a}class Vw{constructor(t,n,s,r,o){this.overlaps=s,this.pixelRatio=n,this.resolution=t,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=zn(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new f2:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,n,s,r){const o=t+n+s+r;if(this.labels_[o])return this.labels_[o];const c=r?this.strokeStates[r]:null,h=s?this.fillStates[s]:null,f=this.textStates[n],g=this.pixelRatio,_=[f.scale[0]*g,f.scale[1]*g],p=f.justify?$u[f.justify]:md(Array.isArray(t)?t[0]:t,f.textAlign||Kl),y=r&&c.lineWidth?c.lineWidth:0,x=Array.isArray(t)?t:String(t).split(`
`).reduce(Hw,[]),{width:E,height:R,widths:b,heights:C,lineWidths:M}=bC(f,x),z=E+y,D=[],O=(z+2)*_[0],H=(R+y)*_[1],W={width:O<0?Math.floor(O):Math.ceil(O),height:H<0?Math.floor(H):Math.ceil(H),contextInstructions:D};(_[0]!=1||_[1]!=1)&&D.push("scale",_),r&&(D.push("strokeStyle",c.strokeStyle),D.push("lineWidth",y),D.push("lineCap",c.lineCap),D.push("lineJoin",c.lineJoin),D.push("miterLimit",c.miterLimit),D.push("setLineDash",[c.lineDash]),D.push("lineDashOffset",c.lineDashOffset)),s&&D.push("fillStyle",h.fillStyle),D.push("textBaseline","middle"),D.push("textAlign","center");const B=.5-p;let Z=p*z+B*y;const $=[],nt=[];let et=0,it=0,st=0,lt=0,N;for(let q=0,J=x.length;q<J;q+=2){const at=x[q];if(at===`
`){it+=et,et=0,Z=p*z+B*y,++lt;continue}const w=x[q+1]||f.font;w!==N&&(r&&$.push("font",w),s&&nt.push("font",w),N=w),et=Math.max(et,C[st]);const Y=[at,Z+B*b[st]+p*(b[st]-M[lt]),.5*(y+et)+it];Z+=b[st],r&&$.push("strokeText",Y),s&&nt.push("fillText",Y),++st}return Array.prototype.push.apply(D,$),Array.prototype.push.apply(D,nt),this.labels_[o]=W,W}replayTextBackground_(t,n,s,r,o,c,h){t.beginPath(),t.moveTo.apply(t,n),t.lineTo.apply(t,s),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,n),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,n,s,r,o,c,h,f,g,_,p,y,x,E,R,b){h*=y[0],f*=y[1];let C=s-h,M=r-f;const z=o+g>t?t-g:o,D=c+_>n?n-_:c,O=E[3]+z*y[0]+E[1],H=E[0]+D*y[1]+E[2],W=C-E[3],B=M-E[0];(R||p!==0)&&(fs[0]=W,ds[0]=W,fs[1]=B,vi[1]=B,vi[0]=W+O,xi[0]=vi[0],xi[1]=B+H,ds[1]=xi[1]);let Z;return p!==0?(Z=Oi(zn(),s,r,1,1,p,-s,-r),xe(Z,fs),xe(Z,vi),xe(Z,xi),xe(Z,ds),Ss(Math.min(fs[0],vi[0],xi[0],ds[0]),Math.min(fs[1],vi[1],xi[1],ds[1]),Math.max(fs[0],vi[0],xi[0],ds[0]),Math.max(fs[1],vi[1],xi[1],ds[1]),er)):Ss(Math.min(W,W+O),Math.min(B,B+H),Math.max(W,W+O),Math.max(B,B+H),er),x&&(C=Math.round(C),M=Math.round(M)),{drawImageX:C,drawImageY:M,drawImageW:z,drawImageH:D,originX:g,originY:_,declutterBox:{minX:er[0],minY:er[1],maxX:er[2],maxY:er[3],value:b},canvasTransform:Z,scale:y}}replayImageOrLabel_(t,n,s,r,o,c,h){const f=!!(c||h),g=r.declutterBox,_=h?h[2]*r.scale[0]/2:0;return g.minX-_<=n[0]&&g.maxX+_>=0&&g.minY-_<=n[1]&&g.maxY+_>=0&&(f&&this.replayTextBackground_(t,fs,vi,xi,ds,c,h),CC(t,r.canvasTransform,o,s,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){const n=this.alignAndScaleFill_;if(n){const s=xe(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(s[0]%r,s[1]%r),n!==1&&t.scale(n,n),t.rotate(this.viewRotation_)}t.fill(),n&&t.restore()}setStrokeStyle_(t,n){t.strokeStyle=n[1],n[1]&&(t.lineWidth=n[2],t.lineCap=n[3],t.lineJoin=n[4],t.miterLimit=n[5],t.lineDashOffset=n[7],t.setLineDash(n[6]))}drawLabelWithPointPlacement_(t,n,s,r){const o=this.textStates[n],c=this.createLabel(t,n,r,s),h=this.strokeStates[s],f=this.pixelRatio,g=md(Array.isArray(t)?t[0]:t,o.textAlign||Kl),_=$u[o.textBaseline||Vu],p=h&&h.lineWidth?h.lineWidth:0,y=c.width/f-2*o.scale[0],x=g*y+2*(.5-g)*p,E=_*c.height/f+2*(.5-_)*p;return{label:c,anchorX:x,anchorY:E}}execute_(t,n,s,r,o,c,h,f){const g=this.zIndexContext_;let _;this.pixelCoordinates_&&bs(s,this.renderedTransform_)?_=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),_=Es(this.coordinates,0,this.coordinates.length,2,s,this.pixelCoordinates_),xR(this.renderedTransform_,s));let p=0;const y=r.length;let x=0,E,R,b,C,M,z,D,O,H,W,B,Z,$,nt=0,et=0;const it=this.coordinateCache_,st=this.viewRotation_,lt=Math.round(Math.atan2(-s[1],s[0])*1e12)/1e12,N={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:st},q=this.instructions!=r||this.overlaps?0:200;let J,at,w,Y;for(;p<y;){const U=r[p];switch(U[0]){case ft.BEGIN_GEOMETRY:J=U[1],Y=U[3],J.getGeometry()?h!==void 0&&!Ve(h,Y.getExtent())?p=U[2]+1:++p:p=U[2],g&&(g.zIndex=U[4]);break;case ft.BEGIN_PATH:nt>q&&(this.fill_(t),nt=0),et>q&&(t.stroke(),et=0),!nt&&!et&&(t.beginPath(),M=NaN,z=NaN),++p;break;case ft.CIRCLE:x=U[1];const rt=_[x],ht=_[x+1],ut=_[x+2],jt=_[x+3],wt=ut-rt,re=jt-ht,Ee=Math.sqrt(wt*wt+re*re);t.moveTo(rt+Ee,ht),t.arc(rt,ht,Ee,0,2*Math.PI,!0),++p;break;case ft.CLOSE_PATH:t.closePath(),++p;break;case ft.CUSTOM:x=U[1],E=U[2];const ei=U[3],Cs=U[4],ni=U[5];N.geometry=ei,N.feature=J,p in it||(it[p]=[]);const bn=it[p];ni?ni(_,x,E,2,bn):(bn[0]=_[x],bn[1]=_[x+1],bn.length=2),g&&(g.zIndex=U[6]),Cs(bn,N),++p;break;case ft.DRAW_IMAGE:x=U[1],E=U[2],H=U[3],R=U[4],b=U[5];let Ue=U[6];const cn=U[7],Se=U[8],ji=U[9],ki=U[10];let Pn=U[11];const Cn=U[12];let Pi=U[13];C=U[14]||"declutter";const ie=U[15];if(!H&&U.length>=20){W=U[19],B=U[20],Z=U[21],$=U[22];const ze=this.drawLabelWithPointPlacement_(W,B,Z,$);H=ze.label,U[3]=H;const An=U[23];R=(ze.anchorX-An)*this.pixelRatio,U[4]=R;const Ae=U[24];b=(ze.anchorY-Ae)*this.pixelRatio,U[5]=b,Ue=H.height,U[6]=Ue,Pi=H.width,U[13]=Pi}let Rr;U.length>25&&(Rr=U[25]);let br,Un,de;U.length>17?(br=U[16],Un=U[17],de=U[18]):(br=$s,Un=null,de=null),ki&&lt?Pn+=st:!ki&&!lt&&(Pn-=st);let Gn=0;for(;x<E;x+=2){if(Rr&&Rr[Gn++]<Pi/this.pixelRatio)continue;const ze=this.calculateImageOrLabelDimensions_(H.width,H.height,_[x],_[x+1],Pi,Ue,R,b,Se,ji,Pn,Cn,o,br,!!Un||!!de,J),An=[t,n,H,ze,cn,Un,de];if(f){let Ae,Je,Ge;if(ie){const Rt=E-x;if(!ie[Rt]){ie[Rt]={args:An,declutterMode:C};continue}const Jt=ie[Rt];Ae=Jt.args,Je=Jt.declutterMode,delete ie[Rt],Ge=Dy(Ae)}let ge,Ht;if(Ae&&(Je!=="declutter"||!f.collides(Ge))&&(ge=!0),(C!=="declutter"||!f.collides(ze.declutterBox))&&(Ht=!0),Je==="declutter"&&C==="declutter"){const Rt=ge&&Ht;ge=Rt,Ht=Rt}ge&&(Je!=="none"&&f.insert(Ge),this.replayImageOrLabel_.apply(this,Ae)),Ht&&(C!=="none"&&f.insert(ze.declutterBox),this.replayImageOrLabel_.apply(this,An))}else this.replayImageOrLabel_.apply(this,An)}++p;break;case ft.DRAW_CHARS:const we=U[1],uo=U[2],Cr=U[3],bc=U[4];$=U[5];const ua=U[6],ws=U[7],Fn=U[8];Z=U[9];const Ui=U[10];W=U[11],Array.isArray(W)&&(W=W.reduce(Kw,"")),B=U[12];const Gi=[U[13],U[13]];C=U[14]||"declutter";const Cc=U[15],ca=this.textStates[B],Fi=ca.font,ii=[ca.scale[0]*ws,ca.scale[1]*ws];let wn;Fi in this.widths_?wn=this.widths_[Fi]:(wn={},this.widths_[Fi]=wn);const co=v2(_,we,uo,2),wr=Math.abs(ii[0])*my(Fi,W,wn);if(bc||wr<=co){const ze=this.textStates[B].textAlign,An=(co-wr)*md(W,ze),Ae=Xw(_,we,uo,2,W,An,ua,Math.abs(ii[0]),my,Fi,wn,lt?0:this.viewRotation_,Cc);t:if(Ae){const Je=[];let Ge,ge,Ht,Rt,Jt;if(Z)for(Ge=0,ge=Ae.length;Ge<ge;++Ge){Jt=Ae[Ge],Ht=Jt[4],Rt=this.createLabel(Ht,B,"",Z),R=Jt[2]+(ii[0]<0?-Ui:Ui),b=Cr*Rt.height+(.5-Cr)*2*Ui*ii[1]/ii[0]-Fn;const tn=this.calculateImageOrLabelDimensions_(Rt.width,Rt.height,Jt[0],Jt[1],Rt.width,Rt.height,R,b,0,0,Jt[3],Gi,!1,$s,!1,J);if(f&&C==="declutter"&&f.collides(tn.declutterBox))break t;Je.push([t,n,Rt,tn,1,null,null])}if($)for(Ge=0,ge=Ae.length;Ge<ge;++Ge){Jt=Ae[Ge],Ht=Jt[4],Rt=this.createLabel(Ht,B,$,""),R=Jt[2],b=Cr*Rt.height-Fn;const tn=this.calculateImageOrLabelDimensions_(Rt.width,Rt.height,Jt[0],Jt[1],Rt.width,Rt.height,R,b,0,0,Jt[3],Gi,!1,$s,!1,J);if(f&&C==="declutter"&&f.collides(tn.declutterBox))break t;Je.push([t,n,Rt,tn,1,null,null])}f&&C!=="none"&&f.load(Je.map(Dy));for(let tn=0,wc=Je.length;tn<wc;++tn)this.replayImageOrLabel_.apply(this,Je[tn])}}++p;break;case ft.END_GEOMETRY:if(c!==void 0){J=U[1];const ze=c(J,Y,C);if(ze)return ze}++p;break;case ft.FILL:q?nt++:this.fill_(t),++p;break;case ft.MOVE_TO_LINE_TO:for(x=U[1],E=U[2],at=_[x],w=_[x+1],t.moveTo(at,w),M=at+.5|0,z=w+.5|0,x+=2;x<E;x+=2)at=_[x],w=_[x+1],D=at+.5|0,O=w+.5|0,(x==E-2||D!==M||O!==z)&&(t.lineTo(at,w),M=D,z=O);++p;break;case ft.SET_FILL_STYLE:this.alignAndScaleFill_=U[2],nt&&(this.fill_(t),nt=0,et&&(t.stroke(),et=0)),t.fillStyle=U[1],++p;break;case ft.SET_STROKE_STYLE:et&&(t.stroke(),et=0),this.setStrokeStyle_(t,U),++p;break;case ft.STROKE:q?et++:t.stroke(),++p;break;default:++p;break}}nt&&this.fill_(t),et&&t.stroke()}execute(t,n,s,r,o,c){this.viewRotation_=r,this.execute_(t,n,s,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,n,s,r,o){return this.viewRotation_=s,this.execute_(t,[t.canvas.width,t.canvas.height],n,this.hitDetectionInstructions,!0,r,o)}}const Vs=["Polygon","Circle","LineString","Image","Text","Default"],x2=["Image","Text"],qw=Vs.filter(a=>!x2.includes(a));class Ww{constructor(t,n,s,r,o,c,h){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=s,this.resolution_=n,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=zn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,n){const s=this.getClipCoords(n);t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(s[2],s[3]),t.lineTo(s[4],s[5]),t.lineTo(s[6],s[7]),t.clip()}createExecutors_(t,n){for(const s in t){let r=this.executorsByZIndex_[s];r===void 0&&(r={},this.executorsByZIndex_[s]=r);const o=t[s];for(const c in o){const h=o[c];r[c]=new Vw(this.resolution_,this.pixelRatio_,this.overlaps_,h,n)}}}hasExecutors(t){for(const n in this.executorsByZIndex_){const s=this.executorsByZIndex_[n];for(let r=0,o=t.length;r<o;++r)if(t[r]in s)return!0}return!1}forEachFeatureAtCoordinate(t,n,s,r,o,c){r=Math.round(r);const h=r*2+1,f=Oi(this.hitDetectionTransform_,r+.5,r+.5,1/n,-1/n,-s,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=fe(h,h));const _=this.hitDetectionContext_;_.canvas.width!==h||_.canvas.height!==h?(_.canvas.width=h,_.canvas.height=h):g||_.clearRect(0,0,h,h);let p;this.renderBuffer_!==void 0&&(p=Rn(),jl(p,t),Yd(p,n*(this.renderBuffer_+r),p));const y=Qw(r);let x;function E(O,H,W){const B=_.getImageData(0,0,h,h).data;for(let Z=0,$=y.length;Z<$;Z++)if(B[y[Z]]>0){if(!c||W==="none"||x!=="Image"&&x!=="Text"||c.includes(O)){const nt=(y[Z]-3)/4,et=r-nt%h,it=r-(nt/h|0),st=o(O,H,et*et+it*it);if(st)return st}_.clearRect(0,0,h,h);break}}const R=Object.keys(this.executorsByZIndex_).map(Number);R.sort(wi);let b,C,M,z,D;for(b=R.length-1;b>=0;--b){const O=R[b].toString();for(M=this.executorsByZIndex_[O],C=Vs.length-1;C>=0;--C)if(x=Vs[C],z=M[x],z!==void 0&&(D=z.executeHitDetection(_,f,s,E,p),D))return D}}getClipCoords(t){const n=this.maxExtent_;if(!n)return null;const s=n[0],r=n[1],o=n[2],c=n[3],h=[s,r,s,c,o,c,o,r];return Es(h,0,8,2,t,h),h}isEmpty(){return dr(this.executorsByZIndex_)}execute(t,n,s,r,o,c,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(h?sR:wi),c=c||Vs;const g=Vs.length;for(let _=0,p=f.length;_<p;++_){const y=f[_].toString(),x=this.executorsByZIndex_[y];for(let E=0,R=c.length;E<R;++E){const b=c[E],C=x[b];if(C!==void 0){const M=h===null?void 0:C.getZIndexContext(),z=M?M.getContext():t,D=this.maxExtent_&&b!=="Image"&&b!=="Text";if(D&&(z.save(),this.clip(z,s)),!M||b==="Text"||b==="Image"?C.execute(z,n,s,r,o,h):M.pushFunction(O=>C.execute(O,n,s,r,o,h)),D&&z.restore(),M){M.offset();const O=f[_]*g+Vs.indexOf(b);this.deferredZIndexContexts_[O]||(this.deferredZIndexContexts_[O]=[]),this.deferredZIndexContexts_[O].push(M)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,n=Object.keys(t).map(Number).sort(wi);for(let s=0,r=n.length;s<r;++s)t[n[s]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[n[s]].length=0}}const _d={};function Qw(a){if(_d[a]!==void 0)return _d[a];const t=a*2+1,n=a*a,s=new Array(n+1);for(let o=0;o<=a;++o)for(let c=0;c<=a;++c){const h=o*o+c*c;if(h>n)break;let f=s[h];f||(f=[],s[h]=f),f.push(((a+o)*t+(a+c))*4+3),o>0&&f.push(((a-o)*t+(a+c))*4+3),c>0&&(f.push(((a+o)*t+(a-c))*4+3),o>0&&f.push(((a-o)*t+(a-c))*4+3))}const r=[];for(let o=0,c=s.length;o<c;++o)s[o]&&r.push(...s[o]);return _d[a]=r,r}class $w extends y2{constructor(t,n,s,r,o,c,h){super(),this.context_=t,this.pixelRatio_=n,this.extent_=s,this.transform_=r,this.transformRotation_=r?lc(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=zn()}drawImages_(t,n,s,r){if(!this.image_)return;const o=Es(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let _=0,p=o.length;_<p;_+=2){const y=o[_]-this.imageAnchorX_,x=o[_+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const E=y+this.imageAnchorX_,R=x+this.imageAnchorY_;Oi(h,E,R,1,1,g,-E,-R),c.save(),c.transform.apply(c,h),c.translate(E,R),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,y,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}drawText_(t,n,s,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Es(t,n,s,r,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);n<s;n+=r){const f=o[n]+this.textOffsetX_,g=o[n+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(f-this.textOffsetX_,g-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,f,g),this.textFillState_&&c.fillText(this.text_,f,g))}}moveToLineTo_(t,n,s,r,o){const c=this.context_,h=Es(t,n,s,r,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)c.lineTo(h[g],h[g+1]);return o&&c.closePath(),s}drawRings_(t,n,s,r){for(let o=0,c=s.length;o<c;++o)n=this.moveToLineTo_(t,n,s[o],r,!0);return n}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ve(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=LR(t,this.transform_,this.pixelCoordinates_),s=n[2]-n[0],r=n[3]-n[1],o=Math.sqrt(s*s+r*r),c=this.context_;c.beginPath(),c.arc(n[0],n[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,n){const s=n.getGeometryFunction()(t);s&&(this.setStyle(n),this.drawGeometry(s))}drawGeometryCollection(t){const n=t.getGeometriesArray();for(let s=0,r=n.length;s<r;++s)this.drawGeometry(n[s])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getFlatCoordinates(),s=t.getStride();this.image_&&this.drawImages_(n,0,n.length,s),this.text_!==""&&this.drawText_(n,0,n.length,s)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ve(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getFlatCoordinates();n.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),n.stroke()}if(this.text_!==""){const n=t.getFlatMidpoint();this.drawText_(n,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const n=t.getExtent();if(Ve(this.extent_,n)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const s=this.context_,r=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();s.beginPath();for(let f=0,g=c.length;f<g;++f)o=this.moveToLineTo_(r,o,c[f],h,!1);s.stroke()}if(this.text_!==""){const s=t.getFlatMidpoints();this.drawText_(s,0,s.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ve(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_;n.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Ve(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const n=this.context_,s=t.getOrientedFlatCoordinates();let r=0;const o=t.getEndss(),c=t.getStride();n.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];r=this.drawRings_(s,r,g,c)}this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}if(this.text_!==""){const n=t.getFlatInteriorPoints();this.drawText_(n,0,n.length,2)}}}setContextFillState_(t){const n=this.context_,s=this.contextFillState_;s?s.fillStyle!=t.fillStyle&&(s.fillStyle=t.fillStyle,n.fillStyle=t.fillStyle):(n.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const n=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=t.lineCap&&(s.lineCap=t.lineCap,n.lineCap=t.lineCap),bs(s.lineDash,t.lineDash)||n.setLineDash(s.lineDash=t.lineDash),s.lineDashOffset!=t.lineDashOffset&&(s.lineDashOffset=t.lineDashOffset,n.lineDashOffset=t.lineDashOffset),s.lineJoin!=t.lineJoin&&(s.lineJoin=t.lineJoin,n.lineJoin=t.lineJoin),s.lineWidth!=t.lineWidth&&(s.lineWidth=t.lineWidth,n.lineWidth=t.lineWidth),s.miterLimit!=t.miterLimit&&(s.miterLimit=t.miterLimit,n.miterLimit=t.miterLimit),s.strokeStyle!=t.strokeStyle&&(s.strokeStyle=t.strokeStyle,n.strokeStyle=t.strokeStyle)):(n.lineCap=t.lineCap,n.setLineDash(t.lineDash),n.lineDashOffset=t.lineDashOffset,n.lineJoin=t.lineJoin,n.lineWidth=t.lineWidth,n.miterLimit=t.miterLimit,n.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const n=this.context_,s=this.contextTextState_,r=t.textAlign?t.textAlign:Kl;s?(s.font!=t.font&&(s.font=t.font,n.font=t.font),s.textAlign!=r&&(s.textAlign=r,n.textAlign=r),s.textBaseline!=t.textBaseline&&(s.textBaseline=t.textBaseline,n.textBaseline=t.textBaseline)):(n.font=t.font,n.textAlign=r,n.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,n){if(!t)this.fillState_=null;else{const s=t.getColor();this.fillState_={fillStyle:Qn(s||Ke)}}if(!n)this.strokeState_=null;else{const s=n.getColor(),r=n.getLineCap(),o=n.getLineDash(),c=n.getLineDashOffset(),h=n.getLineJoin(),f=n.getWidth(),g=n.getMiterLimit(),_=o||Ai;this.strokeState_={lineCap:r!==void 0?r:pr,lineDash:this.pixelRatio_===1?_:_.map(p=>p*this.pixelRatio_),lineDashOffset:(c||Mi)*this.pixelRatio_,lineJoin:h!==void 0?h:yr,lineWidth:(f!==void 0?f:Vl)*this.pixelRatio_,miterLimit:g!==void 0?g:Xl,strokeStyle:Qn(s||Hl)}}}setImageStyle(t){let n;if(!t||!(n=t.getSize())){this.image_=null;return}const s=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*s,this.imageAnchorY_=r[1]*s,this.imageHeight_=n[1]*s,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/s,c[1]*this.pixelRatio_/s],this.imageWidth_=n[0]*s}setTextStyle(t){if(!t)this.text_="";else{const n=t.getFill();if(!n)this.textFillState_=null;else{const x=n.getColor();this.textFillState_={fillStyle:Qn(x||Ke)}}const s=t.getStroke();if(!s)this.textStrokeState_=null;else{const x=s.getColor(),E=s.getLineCap(),R=s.getLineDash(),b=s.getLineDashOffset(),C=s.getLineJoin(),M=s.getWidth(),z=s.getMiterLimit();this.textStrokeState_={lineCap:E!==void 0?E:pr,lineDash:R||Ai,lineDashOffset:b||Mi,lineJoin:C!==void 0?C:yr,lineWidth:M!==void 0?M:Vl,miterLimit:z!==void 0?z:Xl,strokeStyle:Qn(x||Hl)}}const r=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),f=t.getRotation(),g=t.getScaleArray(),_=t.getText(),p=t.getTextAlign(),y=t.getTextBaseline();this.textState_={font:r!==void 0?r:$1,textAlign:p!==void 0?p:Kl,textBaseline:y!==void 0?y:Vu},this.text_=_!==void 0?Array.isArray(_)?_.reduce((x,E,R)=>x+=R%2?" ":E,""):_:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const qn=.5;function Jw(a,t,n,s,r,o,c,h,f){const g=r,_=a[0]*qn,p=a[1]*qn,y=fe(_,p);y.imageSmoothingEnabled=!1;const x=y.canvas,E=new $w(y,qn,r,null,c,h,null),R=n.length,b=Math.floor((256*256*256-1)/R),C={};for(let z=1;z<=R;++z){const D=n[z-1],O=D.getStyleFunction()||s;if(!O)continue;let H=O(D,o);if(!H)continue;Array.isArray(H)||(H=[H]);const B=(z*b).toString(16).padStart(7,"#00000");for(let Z=0,$=H.length;Z<$;++Z){const nt=H[Z],et=nt.getGeometryFunction()(D);if(!et||!Ve(g,et.getExtent()))continue;const it=nt.clone(),st=it.getFill();st&&st.setColor(B);const lt=it.getStroke();lt&&(lt.setColor(B),lt.setLineDash(null)),it.setText(void 0);const N=nt.getImage();if(N){const w=N.getImageSize();if(!w)continue;const Y=fe(w[0],w[1],void 0,{alpha:!1}),U=Y.canvas;Y.fillStyle=B,Y.fillRect(0,0,U.width,U.height),it.setImage(new Di({img:U,anchor:N.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:N.getOrigin(),opacity:1,size:N.getSize(),scale:N.getScale(),rotation:N.getRotation(),rotateWithView:N.getRotateWithView()}))}const q=it.getZIndex()||0;let J=C[q];J||(J={},C[q]=J,J.Polygon=[],J.Circle=[],J.LineString=[],J.Point=[]);const at=et.getType();if(at==="GeometryCollection"){const w=et.getGeometriesArrayRecursive();for(let Y=0,U=w.length;Y<U;++Y){const tt=w[Y];J[tt.getType().replace("Multi","")].push(tt,it)}}else J[at.replace("Multi","")].push(et,it)}}const M=Object.keys(C).map(Number).sort(wi);for(let z=0,D=M.length;z<D;++z){const O=C[M[z]];for(const H in O){const W=O[H];for(let B=0,Z=W.length;B<Z;B+=2){E.setStyle(W[B+1]);for(let $=0,nt=t.length;$<nt;++$)E.setTransform(t[$]),E.drawGeometry(W[B])}}}return y.getImageData(0,0,x.width,x.height)}function t3(a,t,n){const s=[];if(n){const r=Math.floor(Math.round(a[0])*qn),o=Math.floor(Math.round(a[1])*qn),c=(Qt(r,0,n.width-1)+Qt(o,0,n.height-1)*n.width)*4,h=n.data[c],f=n.data[c+1],_=n.data[c+2]+256*(f+256*h),p=Math.floor((256*256*256-1)/t.length);_&&_%p===0&&s.push(t[_/p-1])}return s}const e3=.5,E2={Point:u3,LineString:r3,Polygon:h3,MultiPoint:c3,MultiLineString:l3,MultiPolygon:o3,GeometryCollection:a3,Circle:i3};function n3(a,t){return parseInt(Nt(a),10)-parseInt(Nt(t),10)}function Iy(a,t){const n=S2(a,t);return n*n}function S2(a,t){return e3*a/t}function i3(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const f=a.getBuilder(n.getZIndex(),"Circle");f.setFillStrokeStyle(o,c),f.drawCircle(t,s,r)}const h=n.getText();if(h&&h.getText()){const f=a.getBuilder(n.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,s)}}function zy(a,t,n,s,r,o,c,h){const f=[],g=n.getImage();if(g){let y=!0;const x=g.getImageState();x==Et.LOADED||x==Et.ERROR?y=!1:x==Et.IDLE&&g.load(),y&&f.push(g.ready())}const _=n.getFill();_&&_.loading()&&f.push(_.ready());const p=f.length>0;return p&&Promise.all(f).then(()=>r(null)),s3(a,t,n,s,o,c,h),p}function s3(a,t,n,s,r,o,c){const h=n.getGeometryFunction()(t);if(!h)return;const f=h.simplifyTransformed(s,r);if(n.getRenderer())T2(a,f,n,t,c);else{const _=E2[f.getType()];_(a,f,n,t,c,o)}}function T2(a,t,n,s,r){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,f=c.length;h<f;++h)T2(a,c[h],n,s,r);return}a.getBuilder(n.getZIndex(),"Default").drawCustom(t,s,n.getRenderer(),n.getHitDetectionRenderer(),r)}function a3(a,t,n,s,r,o){const c=t.getGeometriesArray();let h,f;for(h=0,f=c.length;h<f;++h){const g=E2[c[h].getType()];g(a,c[h],n,s,r,o)}}function r3(a,t,n,s,r){const o=n.getStroke();if(o){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function l3(a,t,n,s,r){const o=n.getStroke();if(o){const h=a.getBuilder(n.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,s,r)}const c=n.getText();if(c&&c.getText()){const h=a.getBuilder(n.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,s,r)}}function o3(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(c||o){const f=a.getBuilder(n.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawMultiPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const f=a.getBuilder(n.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,s,r)}}function u3(a,t,n,s,r,o){const c=n.getImage(),h=n.getText(),f=h&&h.getText(),g=o&&c&&f?{}:void 0;if(c){if(c.getImageState()!=Et.LOADED)return;const _=a.getBuilder(n.getZIndex(),"Image");_.setImageStyle(c,g),_.drawPoint(t,s,r)}if(f){const _=a.getBuilder(n.getZIndex(),"Text");_.setTextStyle(h,g),_.drawText(t,s,r)}}function c3(a,t,n,s,r,o){const c=n.getImage(),h=c&&c.getOpacity()!==0,f=n.getText(),g=f&&f.getText(),_=o&&h&&g?{}:void 0;if(h){if(c.getImageState()!=Et.LOADED)return;const p=a.getBuilder(n.getZIndex(),"Image");p.setImageStyle(c,_),p.drawMultiPoint(t,s,r)}if(g){const p=a.getBuilder(n.getZIndex(),"Text");p.setTextStyle(f,_),p.drawText(t,s,r)}}function h3(a,t,n,s,r){const o=n.getFill(),c=n.getStroke();if(o||c){const f=a.getBuilder(n.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawPolygon(t,s,r)}const h=n.getText();if(h&&h.getText()){const f=a.getBuilder(n.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,s,r)}}class f3 extends d2{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Rn(),this.wrappedRenderedExtent_=Rn(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,n,s){const r=n.extent,o=n.viewState,c=o.center,h=o.resolution,f=o.projection,g=o.rotation,_=f.getExtent(),p=this.getLayer().getSource(),y=this.getLayer().getDeclutter(),x=n.pixelRatio,E=n.viewHints,R=!(E[Ne.ANIMATING]||E[Ne.INTERACTING]),b=this.context,C=Math.round(Ft(r)/h*x),M=Math.round(Pe(r)/h*x),z=p.getWrapX()&&f.canWrapX(),D=z?Ft(_):null,O=z?Math.ceil((r[2]-_[2])/D)+1:1;let H=z?Math.floor((r[0]-_[0])/D):0;do{let W=this.getRenderTransform(c,h,0,x,C,M,H*D);n.declutter&&(W=W.slice(0)),t.execute(b,[b.canvas.width,b.canvas.height],W,g,R,s===void 0?Vs:s?x2:qw,s?y&&n.declutter[y]:void 0)}while(++H<O)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=fe(this.context.canvas.width,this.context.canvas.height,wy))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,yc(this.context),wy.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,n){const s=t.layerStatesArray[t.layerIndex];this.opacity_=s.opacity;const r=t.viewState;this.prepareContainer(t,n);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(En.PRERENDER)||this.getLayer().hasListener(En.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,t),r.projection,this.clipped_=!1,h&&s.extent&&this.clipping){const f=ys(s.extent);h=Ve(f,t.extent),this.clipped_=h&&!rr(f,t.extent),this.clipped_&&this.clipUnrotated(o,t,f)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(n=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const s=this.frameState.size.slice(),r=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),_=[],p=s[0]*qn,y=s[1]*qn;_.push(this.getRenderTransform(r,o,c,qn,p,y,0).slice());const x=g.getSource(),E=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!rr(E,f)){let R=f[0];const b=Ft(E);let C=0,M;for(;R<E[0];)--C,M=b*C,_.push(this.getRenderTransform(r,o,c,qn,p,y,M).slice()),R+=b;for(C=0,R=f[2];R>E[2];)++C,M=b*C,_.push(this.getRenderTransform(r,o,c,qn,p,y,M).slice()),R-=b}this.hitDetectionImageData_=Jw(s,_,this.renderedFeatures_,g.getStyleFunction(),f,o,c,Iy(o,this.renderedPixelRatio_))}n(t3(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,n,s,r,o){if(!this.replayGroup_)return;const c=n.viewState.resolution,h=n.viewState.rotation,f=this.getLayer(),g={},_=function(y,x,E){const R=Nt(y),b=g[R];if(b){if(b!==!0&&E<b.distanceSq){if(E===0)return g[R]=!0,o.splice(o.lastIndexOf(b),1),r(y,f,x);b.geometry=x,b.distanceSq=E}}else{if(E===0)return g[R]=!0,r(y,f,x);o.push(g[R]={feature:y,layer:f,geometry:x,distanceSq:E,callback:r})}},p=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,s,_,p?n.declutter?.[p]?.all().map(y=>y.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const n=this.getLayer(),s=n.getSource();if(!s)return!1;const r=t.viewHints[Ne.ANIMATING],o=t.viewHints[Ne.INTERACTING],c=n.getUpdateWhileAnimating(),h=n.getUpdateWhileInteracting();if(this.ready&&!c&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=t.extent,g=t.viewState,_=g.projection,p=g.resolution,y=t.pixelRatio,x=n.getRevision(),E=n.getRenderBuffer();let R=n.getRenderOrder();R===void 0&&(R=n3);const b=g.center.slice(),C=Yd(f,E*p),M=C.slice(),z=[C.slice()],D=_.getExtent();if(s.getWrapX()&&_.canWrapX()&&!rr(D,t.extent)){const st=Ft(D),lt=Math.max(Ft(C)/2,st);C[0]=D[0]-lt,C[2]=D[2]+lt,v1(b,_);const N=p1(z[0],_);N[0]<D[0]&&N[2]<D[2]?z.push([N[0]+st,N[1],N[2]+st,N[3]]):N[0]>D[0]&&N[2]>D[2]&&z.push([N[0]-st,N[1],N[2]-st,N[3]])}if(this.ready&&this.renderedResolution_==p&&this.renderedRevision_==x&&this.renderedRenderOrder_==R&&this.renderedFrameDeclutter_===!!t.declutter&&rr(this.wrappedRenderedExtent_,C))return bs(this.renderedExtent_,M)||(this.hitDetectionImageData_=null,this.renderedExtent_=M),this.renderedCenter_=b,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const O=new Yw(S2(p,y),C,p,y);let H;for(let st=0,lt=z.length;st<lt;++st)s.loadFeatures(z[st],p,_);const W=Iy(p,y);let B=!0;const Z=(st,lt)=>{let N;const q=st.getStyleFunction()||n.getStyleFunction();if(q&&(N=q(st,p)),N){const J=this.renderFeature(st,W,N,O,H,this.getLayer().getDeclutter(),lt);B=B&&!J}},$=C1(C),nt=s.getFeaturesInExtent($);R&&nt.sort(R);for(let st=0,lt=nt.length;st<lt;++st)Z(nt[st],st);this.renderedFeatures_=nt,this.ready=B;const et=O.finish(),it=new Ww(C,p,y,s.getOverlaps(),et,n.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=p,this.renderedRevision_=x,this.renderedRenderOrder_=R,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=M,this.wrappedRenderedExtent_=C,this.renderedCenter_=b,this.renderedProjection_=_,this.renderedPixelRatio_=y,this.replayGroup_=it,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,n,s,r,o,c,h){if(!s)return!1;let f=!1;if(Array.isArray(s))for(let g=0,_=s.length;g<_;++g)f=zy(r,t,s[g],n,this.boundHandleStyleImageChange_,o,c,h)||f;else f=zy(r,t,s,n,this.boundHandleStyleImageChange_,o,c,h);return f}}class Ri extends r2{constructor(t){super(t)}createRenderer(){return new f3(this)}}let d3=!1;function g3(a,t,n,s,r,o,c){const h=new XMLHttpRequest;h.open("GET",typeof a=="function"?a(n,s,r):a,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=d3,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=t.getType();try{let _;g=="text"||g=="json"?_=h.responseText:g=="xml"?_=h.responseXML||h.responseText:g=="arraybuffer"&&(_=h.response),_?o(t.readFeatures(_,{extent:n,featureProjection:r}),t.readProjection(_)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function jy(a,t){return function(n,s,r,o,c){g3(a,t,n,s,r,(h,f)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),c!==void 0&&c()})}}function m3(a,t){return[[-1/0,-1/0,1/0,1/0]]}class Rs extends kn{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const n=t;this.setGeometry(n)}else{const n=t;this.setProperties(n)}}clone(){const t=new Rs(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const n=this.getGeometry();n&&t.setGeometry(n.clone());const s=this.getStyle();return s&&t.setStyle(s),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Vt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=Lt(t,xt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?_3(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function _3(a){if(typeof a=="function")return a;let t;return Array.isArray(a)?t=a:(kt(typeof a.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[a]),function(){return t}}function p3(a,t,n,s){const r=[];let o=Rn();for(let c=0,h=n.length;c<h;++c){const f=n[c];o=Hd(a,t,f[0],s),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=f[f.length-1]}return r}function kd(a,t,n,s,r,o,c){let h,f;const g=(n-t)/s;if(g===1)h=t;else if(g===2)h=t,f=r;else if(g!==0){let _=a[t],p=a[t+1],y=0;const x=[0];for(let b=t+s;b<n;b+=s){const C=a[b],M=a[b+1];y+=Math.sqrt((C-_)*(C-_)+(M-p)*(M-p)),x.push(y),_=C,p=M}const E=r*y,R=iR(x,E);R<0?(f=(E-x[-R-2])/(x[-R-1]-x[-R-2]),h=t+(-R-2)*s):h=t+R*s}c=c>1?c:2,o=o||new Array(c);for(let _=0;_<c;++_)o[_]=h===void 0?NaN:f===void 0?a[h+_]:un(a[h+_],a[h+s+_],f);return o}function y3(a,t,n,s,r,o){if(n==t)return null;let c;if(r<a[t+s-1])return o?(c=a.slice(t,t+s),c[s-1]=r,c):null;if(a[n-1]<r)return o?(c=a.slice(n-s,n),c[s-1]=r,c):null;if(r==a[t+s-1])return a.slice(t,t+s);let h=t/s,f=n/s;for(;h<f;){const y=h+f>>1;r<a[(y+1)*s-1]?f=y:h=y+1}const g=a[h*s-1];if(r==g)return a.slice((h-1)*s,(h-1)*s+s);const _=a[(h+1)*s-1],p=(r-g)/(_-g);c=[];for(let y=0;y<s-1;++y)c.push(un(a[(h-1)*s+y],a[h*s+y],p));return c.push(r),c}class Ju extends mc{constructor(t,n){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(n,t):this.setCoordinates(t,n)}appendCoordinate(t){fc(this.flatCoordinates,t),this.changed()}clone(){const t=new Ju(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,n,s,r){return r<Xd(this.getExtent(),t,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ig(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),sg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,n,s,r))}forEachSegment(t){return k1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,n){return this.layout!="XYM"&&this.layout!="XYZM"?null:(n=n!==void 0?n:!1,y3(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n))}getCoordinates(){return Ws(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,n){return kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,this.stride)}getLength(){return v2(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const n=[];return n.length=_c(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new Ju(n,"XY")}getType(){return"LineString"}intersectsExtent(t){return lg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,n){this.setLayout(n,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ag(this.flatCoordinates,0,t,this.stride),this.changed()}}const ky=zn();class Nn{constructor(t,n,s,r,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=n,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=s||null,this.properties_=o,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?d1(this.flatCoordinates_):Hd(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=ia(this.getExtent());this.flatInteriorPoints_=rg(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=ZR(this.flatCoordinates_,this.ends_),n=p3(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=UR(this.flatCoordinates_,0,t,2,n)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=kd(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let n=0;const s=this.ends_;for(let r=0,o=s.length;r<o;++r){const c=s[r],h=kd(t,n,c,2,.5);fc(this.flatMidpoints_,h),n=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,n){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=$e(t);const n=t.getExtent(),s=t.getWorldExtent();if(n&&s){const r=Pe(s)/Pe(n);Oi(ky,s[0],s[3],r,-r,0,0,0),Es(this.flatCoordinates_,0,this.flatCoordinates_.length,2,ky,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){return new Nn(this.type_,this.flatCoordinates_.slice(),this.ends_?.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=w1((t,n)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),n&&this.simplifiedGeometry_.applyTransform(n);const s=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":s.length=_c(s,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,s,0),r=[s.length];break;case"MultiLineString":r=[],s.length=jR(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,s,0,r);break;case"Polygon":r=[],s.length=z1(s,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),s,0,r);break}return r&&(this.simplifiedGeometry_=new Nn(this.type_,s,r,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Nn.prototype.getFlatCoordinates=Nn.prototype.getOrientedFlatCoordinates;class Py{constructor(t){this.rbush_=new H1(t),this.items_={}}insert(t,n){const s={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:n};this.rbush_.insert(s),this.items_[Nt(n)]=s}load(t,n){const s=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const c=t[r],h=n[r],f={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};s[r]=f,this.items_[Nt(h)]=f}this.rbush_.load(s)}remove(t){const n=Nt(t),s=this.items_[n];return delete this.items_[n],this.rbush_.remove(s)!==null}update(t,n){const s=this.items_[Nt(n)],r=[s.minX,s.minY,s.maxX,s.maxY];Ul(r,t)||(this.remove(n),this.insert(t,n))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(t){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(n).map(function(r){return r.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,n){return this.forEach_(this.getInExtent(t),n)}forEach_(t,n){let s;for(let r=0,o=t.length;r<o;r++)if(s=n(t[r]),s)return s;return s}isEmpty(){return dr(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const n=this.rbush_.toJSON();return Ss(n.minX,n.minY,n.maxX,n.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const n in t.items_)this.items_[n]=t.items_[n]}}const xn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class gs extends Ii{constructor(t,n,s){super(t),this.feature=n,this.features=s}}class bi extends p2{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Bl,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(kt(this.format_,"`format` must be set when `url` is set"),this.loader_=jy(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:m3;const n=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=n?new Py:null,this.loadedExtentsRtree_=new Py,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let s,r;Array.isArray(t.features)?r=t.features:t.features&&(s=t.features,r=s.getArray()),!n&&s===void 0&&(s=new Wn(r)),r!==void 0&&this.addFeaturesInternal(r),s!==void 0&&this.bindFeaturesCollection_(s)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const n=Nt(t);if(!this.addToIndex_(n,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(n,t);const s=t.getGeometry();if(s){const r=s.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[n]=t;this.dispatchEvent(new gs(xn.ADDFEATURE,t))}setupChangeEvents_(t,n){n instanceof Nn||(this.featureChangeKeys_[t]=[Lt(n,xt.CHANGE,this.handleFeatureChange_,this),Lt(n,mr.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,n){let s=!0;if(n.getId()!==void 0){const r=String(n.getId());if(!(r in this.idIndex_))this.idIndex_[r]=n;else if(n instanceof Nn){const o=this.idIndex_[r];o instanceof Nn?Array.isArray(o)?o.push(n):this.idIndex_[r]=[o,n]:s=!1}else s=!1}return s&&(kt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=n),s}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const n=[],s=[],r=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],f=Nt(h);this.addToIndex_(f,h)&&s.push(h)}for(let o=0,c=s.length;o<c;o++){const h=s[o],f=Nt(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const _=g.getExtent();n.push(_),r.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(n,r),this.hasListener(xn.ADDFEATURE))for(let o=0,c=s.length;o<c;o++)this.dispatchEvent(new gs(xn.ADDFEATURE,s[o]))}bindFeaturesCollection_(t){let n=!1;this.addEventListener(xn.ADDFEATURE,function(s){n||(n=!0,t.push(s.feature),n=!1)}),this.addEventListener(xn.REMOVEFEATURE,function(s){n||(n=!0,t.remove(s.feature),n=!1)}),t.addEventListener(Xe.ADD,s=>{n||(n=!0,this.addFeature(s.element),n=!1)}),t.addEventListener(Xe.REMOVE,s=>{n||(n=!0,this.removeFeature(s.element),n=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const s in this.featureChangeKeys_)this.featureChangeKeys_[s].forEach(Vt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(s=>{this.removeFeatureInternal(s)});for(const s in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[s])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const n=new gs(xn.CLEAR);this.dispatchEvent(n),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,n){const s=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(s,function(r){const o=r.getGeometry();if(o instanceof Nn||o.intersectsCoordinate(t))return n(r)})}forEachFeatureInExtent(t,n){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,n);this.featuresCollection_&&this.featuresCollection_.forEach(n)}forEachFeatureIntersectingExtent(t,n){return this.forEachFeatureInExtent(t,function(s){const r=s.getGeometry();if(r instanceof Nn||r.intersectsExtent(t)){const o=n(s);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),dr(this.nullGeometryFeatures_)||fc(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const n=[];return this.forEachFeatureAtCoordinateDirect(t,function(s){n.push(s)}),n}getFeaturesInExtent(t,n){if(this.featuresRtree_){if(!(n&&n.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const r=y1(t,n);return[].concat(...r.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,n){const s=t[0],r=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return n=n||Fl,this.featuresRtree_.forEachInExtent(f,function(g){if(n(g)){const _=g.getGeometry(),p=h;if(h=_ instanceof Nn?0:_.closestPointXY(s,r,c,h),h<p){o=g;const y=Math.sqrt(h);f[0]=s-y,f[1]=r-y,f[2]=s+y,f[3]=r+y}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const n=this.idIndex_[t.toString()];return n!==void 0?n:null}getFeatureByUid(t){const n=this.uidIndex_[t];return n!==void 0?n:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const n=t.target,s=Nt(n),r=n.getGeometry();if(!r)s in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(n),this.nullGeometryFeatures_[s]=n);else{const c=r.getExtent();s in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[s],this.featuresRtree_&&this.featuresRtree_.insert(c,n)):this.featuresRtree_&&this.featuresRtree_.update(c,n)}const o=n.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==n&&(this.removeFromIdIndex_(n),this.idIndex_[c]=n)}else this.removeFromIdIndex_(n),this.uidIndex_[s]=n;this.changed(),this.dispatchEvent(new gs(xn.CHANGEFEATURE,n))}hasFeature(t){const n=t.getId();return n!==void 0?n in this.idIndex_:Nt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&dr(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,n,s){const r=this.loadedExtentsRtree_,o=this.strategy_(t,n,s);for(let c=0,h=o.length;c<h;++c){const f=o[c];r.forEachInExtent(f,function(_){return rr(_.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new gs(xn.FEATURESLOADSTART)),this.loader_.call(this,f,n,s,_=>{--this.loadingExtentsCount_,this.dispatchEvent(new gs(xn.FEATURESLOADEND,void 0,_))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new gs(xn.FEATURESLOADERROR))}),r.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const n=this.loadedExtentsRtree_,s=n.forEachInExtent(t,function(r){if(Ul(r.extent,t))return r});s&&n.remove(s)}removeFeatures(t){let n=!1;for(let s=0,r=t.length;s<r;++s)n=this.removeFeatureInternal(t[s])||n;n&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const n=Nt(t);if(!(n in this.uidIndex_))return!1;n in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[n]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.featureChangeKeys_[n]?.forEach(Vt),delete this.featureChangeKeys_[n];const r=t.getId();if(r!==void 0){const o=r.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[n],this.hasListener(xn.REMOVEFEATURE)&&this.dispatchEvent(new gs(xn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n];break}}setLoader(t){this.loader_=t}setUrl(t){kt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(jy(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const v3={userLocation:{color:"#FF6B9D",size:40,anchor:[.5,1]},bikeStation:{color:"#0066FF",size:40,anchor:[.5,1]},repairShop:{color:"#FFB800",size:40,anchor:[.5,1]},toilet:{color:"#34C759",size:40,anchor:[.5,1]},waterFountain:{color:"#5AC8FA",size:40,anchor:[.5,1]}},x3=a=>{const{color:t,size:n}=a;return`
    <svg width="${n}" height="${n+8}" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="pinGradient-${t}" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:${t};stop-opacity:1" />
          <stop offset="100%" style="stop-color:${t};stop-opacity:0.8" />
        </linearGradient>
        <filter id="shadow-${t}" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.3"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="url(#pinGradient-${t})" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-${t})"/>
      <circle cx="20" cy="12" r="6" fill="white" opacity="0.9"/>
      <circle cx="20" cy="12" r="3" fill="${t}"/>
    </svg>
  `},oo=(a,t,n=null)=>{const s=v3[a],r=new Rs({geometry:new Ts($n([t.longitude,t.latitude])),type:a,data:n});return r.setStyle(new Qe({image:new Di({anchor:s.anchor,anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(x3(s)),scale:1})})),r},E3=a=>oo("userLocation",a),S3=(a,t)=>oo("bikeStation",a,t),T3=(a,t)=>oo("repairShop",a,t),R3=(a,t)=>oo("toilet",a,t),b3=(a,t)=>oo("waterFountain",a,t),C3=[{station_id:1,name:"한강진역 대여소",type:"UNMANNED",address:"서울특별시 용산구 이태원로 250",longitude:126.9945,latitude:37.5398,geom:{type:"Point",coordinates:[126.9945,37.5398]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:18,has_repair:!1,contact:"1899-9161",created_at:"2024-01-10T09:00:00Z",updated_at:"2025-10-10T10:00:00Z"},{station_id:2,name:"홍대입구역 대여소",type:"MANNED",address:"서울특별시 마포구 양화로 160",longitude:126.9238,latitude:37.5563,geom:{type:"Point",coordinates:[126.9238,37.5563]},operation_start:"06:00",operation_end:"23:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2e3,bike_count:40,has_repair:!0,contact:"02-3142-0090",created_at:"2024-02-05T09:00:00Z",updated_at:"2025-09-25T13:00:00Z"},{station_id:3,name:"송파 올림픽 대여소",type:"MANNED",address:"서울특별시 송파구 올림픽로 300",longitude:127.1251,latitude:37.5175,geom:{type:"Point",coordinates:[127.1251,37.5175]},operation_start:"06:00",operation_end:"21:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2800,bike_count:40,has_repair:!0,contact:"02-5678-1234",created_at:"2024-06-10T09:30:00Z",updated_at:"2025-10-05T11:30:00Z"},{station_id:4,name:"서울역 광장 대여소",type:"MANNED",address:"서울특별시 중구 한강대로 405",longitude:126.9709,latitude:37.5542,geom:{type:"Point",coordinates:[126.9709,37.5542]},operation_start:"05:30",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:33,has_repair:!0,contact:"02-753-1020",created_at:"2024-03-01T09:00:00Z",updated_at:"2025-09-29T11:30:00Z"},{station_id:5,name:"광화문 광장 대여소",type:"MANNED",address:"서울특별시 종로구 세종대로 175",longitude:126.9768,latitude:37.5711,geom:{type:"Point",coordinates:[126.9768,37.5711]},operation_start:"07:00",operation_end:"20:00",holiday:"매주 월요일",fee_type:"PAID",fee_amount:2e3,bike_count:25,has_repair:!0,contact:"02-720-1114",created_at:"2024-03-10T10:00:00Z",updated_at:"2025-09-20T15:30:00Z"},{station_id:6,name:"잠원한강공원 대여소",type:"MANNED",address:"서울특별시 마포구 성산동 324-5",longitude:126.9062,latitude:37.5608,geom:{type:"Point",coordinates:[126.9062,37.5608]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:35,has_repair:!0,contact:"02-3456-7890",created_at:"2024-05-01T08:00:00Z",updated_at:"2025-10-01T10:00:00Z"},{station_id:7,name:"양재 시민의숲 대여소",type:"UNMANNED",address:"서울특별시 서초구 매헌로 99",longitude:127.0359,latitude:37.4709,geom:{type:"Point",coordinates:[127.0359,37.4709]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:20,has_repair:!1,contact:"1899-9161",created_at:"2024-04-10T09:30:00Z",updated_at:"2025-10-01T10:00:00Z"},{station_id:8,name:"코엑스 대여소",type:"MANNED",address:"서울특별시 강남구 영동대로 513",longitude:127.0591,latitude:37.5111,geom:{type:"Point",coordinates:[127.0591,37.5111]},operation_start:"07:00",operation_end:"22:30",holiday:"연중무휴",fee_type:"PAID",fee_amount:3500,bike_count:45,has_repair:!0,contact:"02-6000-0082",created_at:"2024-05-05T08:00:00Z",updated_at:"2025-09-29T15:10:00Z"},{station_id:9,name:"잠실새내역 대여소",type:"UNMANNED",address:"서울특별시 송파구 올림픽로 120",longitude:127.1008,latitude:37.5135,geom:{type:"Point",coordinates:[127.1008,37.5135]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:22,has_repair:!1,contact:"1899-9161",created_at:"2024-05-20T10:00:00Z",updated_at:"2025-09-28T17:00:00Z"},{station_id:10,name:"올림픽공원 북문 대여소",type:"MANNED",address:"서울특별시 송파구 올림픽로 424",longitude:127.1205,latitude:37.523,geom:{type:"Point",coordinates:[127.1205,37.523]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:3e3,bike_count:50,has_repair:!0,contact:"02-410-1010",created_at:"2024-06-01T09:00:00Z",updated_at:"2025-09-27T13:00:00Z"},{station_id:11,name:"서울숲역 무인대여소",type:"UNMANNED",address:"서울특별시 성동구 왕십리로 83",longitude:127.0419,latitude:37.5442,geom:{type:"Point",coordinates:[127.0419,37.5442]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:18,has_repair:!1,contact:"1899-9161",created_at:"2024-06-15T09:00:00Z",updated_at:"2025-09-29T14:30:00Z"},{station_id:12,name:"수서역 대여소",type:"MANNED",address:"서울특별시 강남구 광평로 270",longitude:127.1005,latitude:37.4871,geom:{type:"Point",coordinates:[127.1005,37.4871]},operation_start:"06:00",operation_end:"22:00",holiday:"연중무휴",fee_type:"PAID",fee_amount:2500,bike_count:30,has_repair:!0,contact:"02-3412-9000",created_at:"2024-07-01T08:00:00Z",updated_at:"2025-09-25T12:30:00Z"},{station_id:13,name:"수유역 무인대여소",type:"UNMANNED",address:"서울특별시 강북구 도봉로 342",longitude:127.0241,latitude:37.6373,geom:{type:"Point",coordinates:[127.0241,37.6373]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:12,has_repair:!1,contact:"1899-9161",created_at:"2024-07-15T10:00:00Z",updated_at:"2025-09-30T16:00:00Z"},{station_id:14,name:"도봉산 공원 대여소",type:"UNMANNED",address:"서울특별시 도봉구 도봉동 123",longitude:127.0315,latitude:37.689,geom:{type:"Point",coordinates:[127.0315,37.689]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:20,has_repair:!1,contact:"1899-9161",created_at:"2024-07-20T10:00:00Z",updated_at:"2025-09-30T15:00:00Z"},{station_id:15,name:"노원역 무인대여소",type:"UNMANNED",address:"서울특별시 노원구 동일로 1415",longitude:127.061,latitude:37.6548,geom:{type:"Point",coordinates:[127.061,37.6548]},operation_start:"00:00",operation_end:"23:59",holiday:"연중무휴",fee_type:"FREE",fee_amount:0,bike_count:15,has_repair:!1,contact:"1899-9161",created_at:"2024-08-20T08:30:00Z",updated_at:"2025-09-27T13:30:00Z"}],w3=[{facility_id:1,external_id:"강북구_수리센터_002",name:"수유 한강공원 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강북구 수유동 123-4",gu:"강북구",longitude:127.0265,latitude:37.6368,geom:{type:"Point",coordinates:[127.0265,37.6368]},install_area:"PARK",operation_hours:"07:00-20:00",created_at:"2024-05-10T09:30:00Z",updated_at:"2025-10-02T11:00:00Z"},{facility_id:2,external_id:"마포구_공기주입기_001",name:"마포구청역 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 마포구 성산로2길 54",gu:"마포구",longitude:126.9535,latitude:37.5639,geom:{type:"Point",coordinates:[126.9535,37.5639]},install_area:"SUBWAY",operation_hours:"24시간",created_at:"2024-06-01T08:00:00Z",updated_at:"2025-09-30T12:10:00Z"},{facility_id:3,external_id:"광진구_수리센터_001",name:"구의동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 광진구 구의동",gu:"광진구",longitude:127.072,latitude:37.5385,geom:{type:"Point",coordinates:[127.072,37.5385]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-10T11:20:15Z",updated_at:"2025-09-28T15:30:20Z"},{facility_id:4,external_id:"중구_공기주입기_001",name:"청계광장 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 중구 청계천로 1",gu:"중구",longitude:126.9828,latitude:37.5668,geom:{type:"Point",coordinates:[126.9828,37.5668]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-05-15T14:30:00Z",updated_at:"2025-10-02T12:15:45Z"},{facility_id:5,external_id:"강북구_수리센터_001",name:"수유역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강북구 번동",gu:"강북구",longitude:127.0215,latitude:37.6367,geom:{type:"Point",coordinates:[127.0215,37.6367]},install_area:"ETC",operation_hours:"10:00-19:00",created_at:"2024-06-01T08:00:00Z",updated_at:"2025-09-15T16:20:30Z"},{facility_id:6,external_id:"성북구_공기주입기_001",name:"정릉동 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 성북구 정릉동",gu:"성북구",longitude:127.0035,latitude:37.6165,geom:{type:"Point",coordinates:[127.0035,37.6165]},install_area:"PARK",operation_hours:"24시간",created_at:"2024-06-10T10:30:00Z",updated_at:"2025-09-20T14:10:25Z"},{facility_id:7,external_id:"서초구_수리센터_001",name:"방배역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 서초구 남부순환로 2584",gu:"서초구",longitude:127.0032,latitude:37.4925,geom:{type:"Point",coordinates:[127.0032,37.4925]},install_area:"SUBWAY",operation_hours:"10:00-19:00",created_at:"2024-05-20T11:00:00Z",updated_at:"2025-10-03T09:45:15Z"},{facility_id:8,external_id:"서초구_공기주입기_002",name:"서울고등법원앞 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 서초구 서초중앙로 153",gu:"서초구",longitude:127.0127,latitude:37.4928,geom:{type:"Point",coordinates:[127.0127,37.4928]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-15T13:20:00Z",updated_at:"2025-09-28T17:30:40Z"},{facility_id:9,external_id:"송파구_수리센터_001",name:"잠실역 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 송파구 잠실동",gu:"송파구",longitude:127.113,latitude:37.513,geom:{type:"Point",coordinates:[127.113,37.513]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-12T09:45:00Z",updated_at:"2025-10-01T14:25:50Z"},{facility_id:10,external_id:"강남구_수리센터_001",name:"수서동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 강남구 수서동",gu:"강남구",longitude:127.1005,latitude:37.485,geom:{type:"Point",coordinates:[127.1005,37.485]},install_area:"ETC",operation_hours:"08:00-20:00",created_at:"2024-04-30T10:15:00Z",updated_at:"2025-10-05T13:40:20Z"},{facility_id:11,external_id:"강남구_공기주입기_002",name:"영동6교 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 강남구 양재천서로 80",gu:"강남구",longitude:127.0375,latitude:37.484,geom:{type:"Point",coordinates:[127.0375,37.484]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-20T12:00:00Z",updated_at:"2025-09-22T16:50:10Z"},{facility_id:12,external_id:"마포구_공기주입기_003",name:"망원로 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 마포구 망원로 1-1",gu:"마포구",longitude:126.8988,latitude:37.5568,geom:{type:"Point",coordinates:[126.8988,37.5568]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-06-25T15:10:00Z",updated_at:"2025-09-30T18:20:45Z"},{facility_id:13,external_id:"관악구_수리센터_001",name:"관악 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 관악구 남부순환로 1583",gu:"관악구",longitude:126.9513,latitude:37.4781,geom:{type:"Point",coordinates:[126.9513,37.4781]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-07-01T08:30:00Z",updated_at:"2025-09-18T13:40:15Z"},{facility_id:14,external_id:"강서구_공기주입기_001",name:"가양동 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 강서구 허준로 202",gu:"강서구",longitude:126.8125,latitude:37.5675,geom:{type:"Point",coordinates:[126.8125,37.5675]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-07-10T10:00:00Z",updated_at:"2025-09-24T15:30:25Z"},{facility_id:15,external_id:"구로구_수리센터_001",name:"구로 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 구로구 새말로121-15",gu:"구로구",longitude:126.876,latitude:37.4985,geom:{type:"Point",coordinates:[126.876,37.4985]},install_area:"ETC",operation_hours:"10:00-17:00",created_at:"2024-07-15T11:20:00Z",updated_at:"2025-10-02T14:05:00Z"},{facility_id:16,external_id:"노원구_공기주입기_001",name:"노원 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 노원구 한글비석로 31길 27",gu:"노원구",longitude:127.0667,latitude:37.6543,geom:{type:"Point",coordinates:[127.0667,37.6543]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-08-01T09:00:00Z",updated_at:"2025-09-20T12:30:45Z"},{facility_id:17,external_id:"광진구_공기주입기_002",name:"강변역 공기주입기",facility_type:"AIR_PUMP",address:"서울특별시 광진구 자양동",gu:"광진구",longitude:127.085,latitude:37.538,geom:{type:"Point",coordinates:[127.085,37.538]},install_area:"ETC",operation_hours:"24시간",created_at:"2024-08-10T10:10:00Z",updated_at:"2025-09-25T13:15:30Z"},{facility_id:18,external_id:"성동구_수리센터_002",name:"옥수동 자전거수리센터",facility_type:"REPAIR_CENTER",address:"서울특별시 성동구 옥수동 168-1",gu:"성동구",longitude:127.0255,latitude:37.5458,geom:{type:"Point",coordinates:[127.0255,37.5458]},install_area:"ETC",operation_hours:"09:00-18:00",created_at:"2024-05-18T10:30:00Z",updated_at:"2025-09-27T11:55:30Z"}],A3=[{toilet_id:1,name:"남대문시장 공중화장실",address:"서울특별시 중구 남창동",gu:"중구",longitude:126.9769,latitude:37.5603,geom:{type:"Point",coordinates:[126.9769,37.5603]},open_type:"공공개방",open_hours:"상시",created_at:"2025-01-01T08:00:00Z",updated_at:"2025-09-01T12:00:00Z"},{toilet_id:2,name:"광화문 공중화장실",address:"서울특별시 종로구 종로1가",gu:"종로구",longitude:126.9768,latitude:37.5712,geom:{type:"Point",coordinates:[126.9768,37.5712]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-01-10T09:30:00Z",updated_at:"2025-09-12T13:45:00Z"},{toilet_id:3,name:"청계광장 화장실",address:"서울특별시 종로구 청계천로",gu:"종로구",longitude:126.9824,latitude:37.566,geom:{type:"Point",coordinates:[126.9824,37.566]},open_type:"공공개방",open_hours:"06:00-23:00",created_at:"2025-01-15T10:00:00Z",updated_at:"2025-09-15T16:30:00Z"},{toilet_id:4,name:"서울숲 공원 화장실",address:"서울특별시 성동구 뚝섬로",gu:"성동구",longitude:127.0425,latitude:37.5445,geom:{type:"Point",coordinates:[127.0425,37.5445]},open_type:"공공개방",open_hours:"06:00-21:00",created_at:"2025-02-01T11:00:00Z",updated_at:"2025-09-20T11:00:00Z"},{toilet_id:5,name:"난지 한강공원 화장실",address:"서울특별시 마포구 상암동 487-116",gu:"마포구",longitude:126.8759,latitude:37.5702,geom:{type:"Point",coordinates:[126.8759,37.5702]},open_type:"공공개방",open_hours:"상시",created_at:"2025-03-10T09:00:00Z",updated_at:"2025-10-02T14:20:00Z"},{toilet_id:6,name:"강남역 공중화장실",address:"서울특별시 강남구 강남대로",gu:"강남구",longitude:127.0278,latitude:37.498,geom:{type:"Point",coordinates:[127.0278,37.498]},open_type:"공공개방",open_hours:"상시",created_at:"2025-02-15T09:45:00Z",updated_at:"2025-10-01T13:10:00Z"},{toilet_id:7,name:"양재천 공원 화장실",address:"서울특별시 서초구 양재천로",gu:"서초구",longitude:127.04,latitude:37.4865,geom:{type:"Point",coordinates:[127.04,37.4865]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-02-20T10:30:00Z",updated_at:"2025-09-28T15:20:00Z"},{toilet_id:8,name:"남산 타워 화장실",address:"서울특별시 용산구 남산공원길",gu:"용산구",longitude:126.988,latitude:37.551,geom:{type:"Point",coordinates:[126.988,37.551]},open_type:"공공개방",open_hours:"추가 문의",created_at:"2025-03-01T10:00:00Z",updated_at:"2025-09-25T12:00:00Z"},{toilet_id:9,name:"올림픽공원 화장실 1호",address:"서울특별시 송파구 올림픽로",gu:"송파구",longitude:127.1215,latitude:37.5205,geom:{type:"Point",coordinates:[127.1215,37.5205]},open_type:"공공개방",open_hours:"상시",created_at:"2025-03-10T09:30:00Z",updated_at:"2025-09-30T11:55:00Z"},{toilet_id:10,name:"서울숲 공원 남문 화장실",address:"서울특별시 성동구 뚝섬로 273",gu:"성동구",longitude:127.0408,latitude:37.5445,geom:{type:"Point",coordinates:[127.0408,37.5445]},open_type:"공공개방",open_hours:"상시",created_at:"2025-02-05T10:00:00Z",updated_at:"2025-09-30T15:00:00Z"},{toilet_id:11,name:"이촌 한강공원 화장실",address:"서울특별시 용산구 이촌로",gu:"용산구",longitude:126.9678,latitude:37.5228,geom:{type:"Point",coordinates:[126.9678,37.5228]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-03-20T11:15:00Z",updated_at:"2025-10-05T16:40:00Z"},{toilet_id:12,name:"월드컵공원 화장실",address:"서울특별시 마포구 월드컵로",gu:"마포구",longitude:126.8975,latitude:37.568,geom:{type:"Point",coordinates:[126.8975,37.568]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-01T12:00:00Z",updated_at:"2025-09-20T14:35:00Z"},{toilet_id:13,name:"구의 공원 화장실",address:"서울특별시 광진구 구의동",gu:"광진구",longitude:127.073,latitude:37.538,geom:{type:"Point",coordinates:[127.073,37.538]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-05T13:00:00Z",updated_at:"2025-10-01T13:45:00Z"},{toilet_id:14,name:"화양 공원 화장실",address:"서울특별시 광진구 화양동",gu:"광진구",longitude:127.068,latitude:37.546,geom:{type:"Point",coordinates:[127.068,37.546]},open_type:"공공개방",open_hours:"상시",created_at:"2025-04-10T14:00:00Z",updated_at:"2025-09-28T11:55:00Z"},{toilet_id:15,name:"건대입구 화장실",address:"서울특별시 광진구 능동로",gu:"광진구",longitude:127.071,latitude:37.5405,geom:{type:"Point",coordinates:[127.071,37.5405]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-04-15T15:00:00Z",updated_at:"2025-10-03T12:20:00Z"},{toilet_id:16,name:"어린이대공원 뒤 화장실",address:"서울특별시 광진구 광나루로",gu:"광진구",longitude:127.055,latitude:37.5385,geom:{type:"Point",coordinates:[127.055,37.5385]},open_type:"공공개방",open_hours:"06:00-21:00",created_at:"2025-04-20T16:00:00Z",updated_at:"2025-10-04T15:00:00Z"},{toilet_id:17,name:"방화동 거리 화장실",address:"서울특별시 강서구 방화동",gu:"강서구",longitude:126.819,latitude:37.57,geom:{type:"Point",coordinates:[126.819,37.57]},open_type:"공공개방",open_hours:"상시",created_at:"2025-05-01T08:30:00Z",updated_at:"2025-09-25T10:50:00Z"},{toilet_id:18,name:"화곡동 공중화장실",address:"서울특별시 강서구 화곡동",gu:"강서구",longitude:126.84,latitude:37.5415,geom:{type:"Point",coordinates:[126.84,37.5415]},open_type:"공공개방",open_hours:"상시",created_at:"2025-05-05T09:45:00Z",updated_at:"2025-10-01T11:30:00Z"},{toilet_id:19,name:"목동 공원 화장실",address:"서울특별시 양천구 목동",gu:"양천구",longitude:126.8665,latitude:37.529,geom:{type:"Point",coordinates:[126.8665,37.529]},open_type:"공공개방",open_hours:"06:00-22:00",created_at:"2025-05-10T10:00:00Z",updated_at:"2025-10-02T14:05:00Z"},{toilet_id:20,name:"신촌 공중화장실",address:"서울특별시 서대문구 창천동",gu:"서대문구",longitude:126.9385,latitude:37.556,geom:{type:"Point",coordinates:[126.9385,37.556]},open_type:"공공개방",open_hours:"06:00-23:00",created_at:"2025-05-15T11:00:00Z",updated_at:"2025-09-20T12:45:00Z"}],M3=[{fountain_id:1,name:"서울숲 남문 음수대",address:"서울특별시 성동구 뚝섬로 273",gu:"성동구",longitude:127.0422,latitude:37.5443,geom:{type:"Point",coordinates:[127.0422,37.5443]},created_at:"2025-03-05T09:00:00Z",updated_at:"2025-10-08T11:30:00Z"},{fountain_id:2,name:"올림픽공원 중앙광장 음수대",address:"서울특별시 송파구 올림픽로 424",gu:"송파구",longitude:127.1231,latitude:37.5209,geom:{type:"Point",coordinates:[127.1231,37.5209]},created_at:"2025-02-25T10:30:00Z",updated_at:"2025-10-06T14:10:00Z"},{fountain_id:3,name:"북서울 꿈의숲 산책로 음수대",address:"서울특별시 강북구 월계로 173",gu:"강북구",longitude:127.0411,latitude:37.6212,geom:{type:"Point",coordinates:[127.0411,37.6212]},created_at:"2025-01-20T09:45:00Z",updated_at:"2025-10-06T15:40:00Z"},{fountain_id:4,name:"월드컵공원 평화의광장 음수대",address:"서울특별시 마포구 하늘공원로 108",gu:"마포구",longitude:126.8857,latitude:37.5665,geom:{type:"Point",coordinates:[126.8857,37.5665]},created_at:"2025-02-15T10:30:00Z",updated_at:"2025-10-07T13:10:00Z"},{fountain_id:5,name:"난지 한강공원 수변 음수대",address:"서울특별시 마포구 한강난지로 162",gu:"마포구",longitude:126.8774,latitude:37.5687,geom:{type:"Point",coordinates:[126.8774,37.5687]},created_at:"2025-03-12T09:30:00Z",updated_at:"2025-10-02T12:20:00Z"},{fountain_id:6,name:"잠실한강공원 자전거도로 음수대",address:"서울특별시 송파구 잠실동 19-1",gu:"송파구",install_location:"잠실한강공원 자전거도로 입구",longitude:127.0852,latitude:36.5199,geom:{type:"Point",coordinates:[127.0852,36.5199]},created_at:"2025-02-28T09:40:00Z",updated_at:"2025-10-05T10:50:00Z"},{fountain_id:7,name:"남산야외식물원 음수대",address:"서울특별시 중구 예장동 산5-6",gu:"중구",longitude:126.9882,latitude:37.5511,geom:{type:"Point",coordinates:[126.9882,37.5511]},created_at:"2025-03-05T10:00:00Z",updated_at:"2025-10-03T15:30:00Z"},{fountain_id:8,name:"서울로7017 음수대",address:"서울특별시 중구 청파로 432",gu:"중구",longitude:126.9698,latitude:37.5565,geom:{type:"Point",coordinates:[126.9698,37.5565]},created_at:"2025-04-10T09:15:00Z",updated_at:"2025-10-08T12:40:00Z"},{fountain_id:9,name:"홍제천 산책로 음수대",address:"서울특별시 서대문구 홍제동 331",gu:"서대문구",longitude:126.9412,latitude:37.5864,geom:{type:"Point",coordinates:[126.9412,37.5864]},created_at:"2025-02-15T09:00:00Z",updated_at:"2025-09-28T11:50:00Z"},{fountain_id:10,name:"양재시민의숲 입구 음수대",address:"서울특별시 서초구 매헌로 99",gu:"서초구",longitude:127.0359,latitude:37.4709,geom:{type:"Point",coordinates:[127.0359,37.4709]},created_at:"2025-04-01T09:20:00Z",updated_at:"2025-10-01T13:00:00Z"},{fountain_id:11,name:"북악스카이웨이 팔각정 음수대",address:"서울특별시 종로구 평창동 산6-1",gu:"종로구",longitude:126.9689,latitude:37.6098,geom:{type:"Point",coordinates:[126.9689,37.6098]},created_at:"2025-03-18T10:10:00Z",updated_at:"2025-09-30T14:50:00Z"},{fountain_id:12,name:"뚝섬유원지 강변 음수대",address:"서울특별시 광진구 강변북로 139",gu:"광진구",longitude:127.0668,latitude:37.5308,geom:{type:"Point",coordinates:[127.0668,37.5308]},created_at:"2025-01-15T09:30:00Z",updated_at:"2025-09-29T13:40:00Z"},{fountain_id:13,name:"청계천 광교 하류 음수대",address:"서울특별시 종로구 청계천로 1",gu:"종로구",longitude:126.9784,latitude:37.5698,geom:{type:"Point",coordinates:[126.9784,37.5698]},created_at:"2025-02-01T11:00:00Z",updated_at:"2025-09-30T16:20:00Z"},{fountain_id:14,name:"한강대교 남단 수변 음수대",address:"서울특별시 용산구 이촌로 72",gu:"용산구",longitude:126.9675,latitude:37.5225,geom:{type:"Point",coordinates:[126.9675,37.5225]},created_at:"2025-03-15T11:20:00Z",updated_at:"2025-10-03T15:40:00Z"}],L3=(a,t)=>{const n=j.useRef(null),s=j.useRef(null),r=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{if(!a)return;const c=C3.map(R=>S3({longitude:R.longitude,latitude:R.latitude},R)),h=new Ri({source:new bi({features:c}),zIndex:10,properties:{type:"bike"}});a.addLayer(h),n.current=h;const g=w3.filter(R=>R.facility_type==="REPAIR_CENTER").map(R=>T3({longitude:R.longitude,latitude:R.latitude},R)),_=new Ri({source:new bi({features:g}),zIndex:10,properties:{type:"repair"}});a.addLayer(_),s.current=_;const p=A3.map(R=>R3({longitude:R.longitude,latitude:R.latitude},R)),y=new Ri({source:new bi({features:p}),zIndex:10,properties:{type:"toilet"}});a.addLayer(y),r.current=y;const x=M3.map(R=>b3({longitude:R.longitude,latitude:R.latitude},R)),E=new Ri({source:new bi({features:x}),zIndex:10,properties:{type:"water"}});return a.addLayer(E),o.current=E,()=>{[n.current,s.current,r.current,o.current].forEach(R=>{R&&a&&a.removeLayer(R)})}},[a]),j.useEffect(()=>{a&&(n.current&&n.current.setVisible(t.includes("bike")),s.current&&s.current.setVisible(t.includes("repair")),r.current&&r.current.setVisible(t.includes("toilet")),o.current&&o.current.setVisible(t.includes("water")))},[t,a]),{stationsLayer:n.current,facilitiesLayer:s.current,toiletsLayer:r.current,fountainsLayer:o.current}},O3=a=>{const t=new Rs({geometry:new Ts($n([a.longitude,a.latitude])),type:"startPoint"}),n=`
    <svg width="40" height="48" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="shadow-start" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="#34C759" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-start)"/>
      <circle cx="20" cy="12" r="6" fill="white"/>
      <text x="20" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="#34C759">S</text>
    </svg>
  `;return t.setStyle(new Qe({image:new Di({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(n),scale:1})})),t},D3=a=>{const t=new Rs({geometry:new Ts($n([a.longitude,a.latitude])),type:"endPoint"}),n=`
    <svg width="40" height="48" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <filter id="shadow-end" x="-50%" y="-50%" width="200%" height="200%">
          <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
        </filter>
      </defs>
      <path d="M20 0C13.4 0 8 5.4 8 12c0 9 12 24 12 24s12-15 12-24c0-6.6-5.4-12-12-12z" 
            fill="#FF3B30" 
            stroke="#fff" 
            stroke-width="2"
            filter="url(#shadow-end)"/>
      <circle cx="20" cy="12" r="6" fill="white"/>
      <text x="20" y="16" text-anchor="middle" font-size="12" font-weight="bold" fill="#FF3B30">E</text>
    </svg>
  `;return t.setStyle(new Qe({image:new Di({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(n),scale:1})})),t},N3=a=>{const t=a.coordinates.map(s=>$n([s[0],s[1]])),n=new Rs({geometry:new Ju(t),type:"routeLine"});return n.setStyle([new Qe({stroke:new vr({color:"rgba(0, 102, 255, 0.3)",width:8})}),new Qe({stroke:new vr({color:"#0066FF",width:5})})]),n},I3="https://router.project-osrm.org/route/v1/bicycle",z3=15,j3=async(a,t)=>{try{const n=`${I3}/${a.longitude},${a.latitude};${t.longitude},${t.latitude}?overview=full&geometries=geojson`,s=await fetch(n);if(!s.ok)throw new Error(`OSRM API 요청 실패: ${s.status}`);const r=await s.json();if(!r.routes||r.routes.length===0)throw new Error("경로를 찾을 수 없습니다.");const o=r.routes[0],h=o.distance/1e3/z3*3600;return{geometry:o.geometry,distance:o.distance,duration:h,originalDuration:o.duration,waypoints:r.waypoints}}catch(n){throw console.error("경로 계산 오류:",n),n}},k3=a=>a<1e3?`${Math.round(a)}m`:`${(a/1e3).toFixed(1)}km`,P3=a=>{const t=Math.round(a/60);if(t<60)return`${t}분`;const n=Math.floor(t/60),s=t%60;return s===0?`${n}시간`:`${n}시간 ${s}분`},U3=a=>{const[t,n]=j.useState(!1),[s,r]=j.useState(null),[o,c]=j.useState(null),[h,f]=j.useState(null),[g,_]=j.useState(!1),[p,y]=j.useState(!1),x=j.useRef(null),E=j.useRef(null),R=j.useRef(null);j.useEffect(()=>{t?(_(!0),y(!1)):(M(),_(!1),y(!1))},[t]),j.useEffect(()=>{s&&o&&s.longitude&&o.longitude&&(E.current||(b("start",s),b("end",o)),C(s,o))},[s,o]);const b=(B,Z)=>{if(!a)return;const $=B==="start"?O3(Z):D3(Z);if($.set("type","routeMarker"),E.current)E.current.getSource().addFeature($);else{const nt=new bi({features:[$]}),et=new Ri({source:nt,zIndex:999});a.addLayer(et),E.current=et}},C=async(B,Z)=>{if(!B||!Z||!B.longitude||!B.latitude||!Z.longitude||!Z.latitude){console.error("출발지 또는 도착지 정보가 없습니다.");return}try{if(x.current&&a){const lt=x.current;a.removeLayer(lt);const N=lt.getSource();N&&N.clear(),x.current=null}const $=await j3(B,Z),nt=N3($.geometry),et=new bi({features:[nt]}),it=new Ri({source:et,zIndex:100,properties:{name:"routeLine"}});a.addLayer(it),x.current=it,f({distance:k3($.distance),duration:P3($.duration)});const st=et.getExtent();a.getView().fit(st,{padding:[100,100,100,100],duration:500})}catch($){console.error("경로 계산 실패:",$),alert("경로를 찾을 수 없습니다. 다시 시도해주세요."),M()}},M=()=>{if(a){if(console.log("🧹 clearRoute 실행"),x.current){const B=x.current,Z=B.getSource();Z&&(Z.clear(),Z.dispose?.()),a.removeLayer(B),a.getLayers().getArray().forEach(nt=>{nt.get("name")==="routeLine"&&a.removeLayer(nt)}),x.current=null,console.log("경로 라인 제거됨")}if(E.current){const B=E.current,Z=B.getSource();Z&&(Z.clear(),Z.dispose?.()),a.removeLayer(B),E.current=null,console.log("경로 마커 제거됨")}R.current&&(R.current(),console.log("선택된 코스 마커 제거됨")),r(null),c(null),f(null),n(!1),_(!1),y(!1),console.log("clearRoute 완료")}},z=B=>{const[Z,$]=Xf(B),nt={longitude:Z,latitude:$};r(nt),_(!1),y(!0),b("start",nt)},D=B=>{const[Z,$]=Xf(B),nt={longitude:Z,latitude:$};c(nt),y(!1),b("end",nt),C(s,nt)},O=()=>{n(B=>!B)},H=()=>{if(x.current){const B=x.current,Z=B.getSource();Z&&Z.clear(),a.removeLayer(B),x.current=null}if(E.current){const B=E.current,Z=B.getSource();Z&&Z.clear(),a.removeLayer(B),E.current=null}r(null),c(null),f(null),setTimeout(()=>{_(!0),y(!1)},50)};return{isRoutingMode:t,startPoint:s,endPoint:o,routeInfo:h,isSelectingStart:g,isSelectingEnd:p,toggleRoutingMode:O,selectStartPoint:z,selectEndPoint:D,resetStartPoint:H,resetEndPoint:()=>{if(!s){alert("출발지를 먼저 선택해주세요."),H();return}if(x.current){const B=x.current,Z=B.getSource();Z&&Z.clear(),a.removeLayer(B),x.current=null}if(E.current&&o){const B=E.current.getSource();B.getFeatures().forEach($=>{const nt=$.getGeometry().getCoordinates(),[et,it]=Xf(nt);Math.abs(et-o.longitude)<1e-4&&Math.abs(it-o.latitude)<1e-4&&B.removeFeature($)})}c(null),f(null),setTimeout(()=>{_(!1),y(!0)},50)},clearRoute:M,calculateRoute:C,setStartPoint:r,setEndPoint:c,setIsRoutingMode:n,clearSelectedRouteMarkerRef:R}},Oe={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};class G3 extends kn{constructor(t){super(),this.on,this.once,this.un,this.options=t,this.id=t.id,this.insertFirst=t.insertFirst!==void 0?t.insertFirst:!0,this.stopEvent=t.stopEvent!==void 0?t.stopEvent:!0,this.element=document.createElement("div"),this.element.className=t.className!==void 0?t.className:"ol-overlay-container "+JR,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.autoPan=t.autoPan===!0?{}:t.autoPan||void 0,this.rendered={transform_:"",visible:!0},this.mapPostrenderListenerKey=null,this.addChangeListener(Oe.ELEMENT,this.handleElementChanged),this.addChangeListener(Oe.MAP,this.handleMapChanged),this.addChangeListener(Oe.OFFSET,this.handleOffsetChanged),this.addChangeListener(Oe.POSITION,this.handlePositionChanged),this.addChangeListener(Oe.POSITIONING,this.handlePositioningChanged),t.element!==void 0&&this.setElement(t.element),this.setOffset(t.offset!==void 0?t.offset:[0,0]),this.setPositioning(t.positioning||"top-left"),t.position!==void 0&&this.setPosition(t.position)}getElement(){return this.get(Oe.ELEMENT)}getId(){return this.id}getMap(){return this.get(Oe.MAP)||null}getOffset(){return this.get(Oe.OFFSET)}getPosition(){return this.get(Oe.POSITION)}getPositioning(){return this.get(Oe.POSITIONING)}handleElementChanged(){U1(this.element);const t=this.getElement();t&&this.element.appendChild(t)}handleMapChanged(){this.mapPostrenderListenerKey&&(this.element?.remove(),Vt(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);const t=this.getMap();if(t){this.mapPostrenderListenerKey=Lt(t,Si.POSTRENDER,this.render,this),this.updatePixelPosition();const n=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?n.insertBefore(this.element,n.childNodes[0]||null):n.appendChild(this.element),this.performAutoPan()}}render(){this.updatePixelPosition()}handleOffsetChanged(){this.updatePixelPosition()}handlePositionChanged(){this.updatePixelPosition(),this.performAutoPan()}handlePositioningChanged(){this.updatePixelPosition()}setElement(t){this.set(Oe.ELEMENT,t)}setMap(t){this.set(Oe.MAP,t)}setOffset(t){this.set(Oe.OFFSET,t)}setPosition(t){this.set(Oe.POSITION,t)}performAutoPan(){this.autoPan&&this.panIntoView(this.autoPan)}panIntoView(t){const n=this.getMap();if(!n||!n.getTargetElement()||!this.get(Oe.POSITION))return;const s=this.getRect(n.getTargetElement(),n.getSize()),r=this.getElement(),o=this.getRect(r,[eb(r),nb(r)]);t=t||{};const c=t.margin===void 0?20:t.margin;if(!rr(s,o)){const h=o[0]-s[0],f=s[2]-o[2],g=o[1]-s[1],_=s[3]-o[3],p=[0,0];if(h<0?p[0]=h-c:f<0&&(p[0]=Math.abs(f)+c),g<0?p[1]=g-c:_<0&&(p[1]=Math.abs(_)+c),p[0]!==0||p[1]!==0){const y=n.getView().getCenterInternal(),x=n.getPixelFromCoordinateInternal(y);if(!x)return;const E=[x[0]+p[0],x[1]+p[1]],R=t.animation||{};n.getView().animateInternal({center:n.getCoordinateFromPixelInternal(E),duration:R.duration,easing:R.easing})}}}getRect(t,n){const s=t.getBoundingClientRect(),r=s.left+window.pageXOffset,o=s.top+window.pageYOffset;return[r,o,r+n[0],o+n[1]]}setPositioning(t){this.set(Oe.POSITIONING,t)}setVisible(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)}updatePixelPosition(){const t=this.getMap(),n=this.getPosition();if(!t||!t.isRendered()||!n){this.setVisible(!1);return}const s=t.getPixelFromCoordinate(n),r=t.getSize();this.updateRenderedPosition(s,r)}updateRenderedPosition(t,n){const s=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);const c=`${t[0]+r[0]}px`,h=`${t[1]+r[1]}px`;let f="0%",g="0%";o=="bottom-right"||o=="center-right"||o=="top-right"?f="-100%":(o=="bottom-center"||o=="center-center"||o=="top-center")&&(f="-50%"),o=="bottom-left"||o=="bottom-center"||o=="bottom-right"?g="-100%":(o=="center-left"||o=="center-center"||o=="center-right")&&(g="-50%");const _=`translate(${f}, ${g}) translate(${c}, ${h})`;this.rendered.transform_!=_&&(this.rendered.transform_=_,s.transform=_)}getOptions(){return this.options}}const F3=({type:a,data:t,onClose:n,onRouteClick:s})=>{if(!t)return null;const r=p=>{switch(p){case"bikeStation":return"🚲";case"repairShop":return"🔧";case"toilet":return"🚻";case"waterFountain":return"💧";case"bikeRoute":return"🚴";default:return"📍"}},o=p=>{switch(p){case"bikeStation":return"자전거 대여소";case"repairShop":return"수리센터";case"toilet":return"화장실";case"waterFountain":return"음수대";case"bikeRoute":return"추천 자전거 코스";default:return"정보"}},c=p=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"구분:"}),T.jsx("span",{className:"popup-value",children:p.type==="MANNED"?"유인":"무인"})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"운영시간:"}),T.jsxs("span",{className:"popup-value",children:[p.operation_start," - ",p.operation_end]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"휴무일:"}),T.jsx("span",{className:"popup-value",children:p.holiday})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"요금:"}),T.jsx("span",{className:"popup-value",children:p.fee_type==="FREE"?"무료":`${p.fee_amount.toLocaleString()}원`})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"자전거 수:"}),T.jsxs("span",{className:"popup-value",children:[p.bike_count,"대"]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"수리대:"}),T.jsx("span",{className:"popup-value",children:p.has_repair?"있음":"없음"})]}),p.contact&&T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"연락처:"}),T.jsx("span",{className:"popup-value",children:p.contact})]})]}),h=p=>{const y=x=>{switch(x){case"PARK":return"공원";case"OFFICE":return"관공서";case"SCHOOL":return"학교";case"SUBWAY":return"지하철역";case"ETC":return"기타";default:return x}};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"시설유형:"}),T.jsx("span",{className:"popup-value",children:p.facility_type==="REPAIR_CENTER"?"🔧 수리센터":"⚙️ 공기주입기"})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"운영시간:"}),T.jsx("span",{className:"popup-value",children:p.operation_hours})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"설치지역:"}),T.jsx("span",{className:"popup-value",children:y(p.install_area)})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"자치구:"}),T.jsx("span",{className:"popup-value",children:p.gu})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"시설ID:"}),T.jsx("span",{className:"popup-value",children:p.external_id})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"등록일:"}),T.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"최근 점검:"}),T.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]})},f=p=>{const y=p.open_hours==="상시";return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"개방형태:"}),T.jsx("span",{className:"popup-value",children:p.open_type})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"운영시간:"}),T.jsx("span",{className:"popup-value",children:y?T.jsxs("span",{style:{color:"#34C759",fontWeight:"600"},children:["⏰ ",p.open_hours]}):p.open_hours})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"자치구:"}),T.jsx("span",{className:"popup-value",children:p.gu})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"시설ID:"}),T.jsxs("span",{className:"popup-value",children:["#",p.toilet_id]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"등록일:"}),T.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"최근 점검:"}),T.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]})},g=p=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"자치구:"}),T.jsx("span",{className:"popup-value",children:p.gu})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"설치장소:"}),T.jsx("span",{className:"popup-value",children:p.name})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"등록일:"}),T.jsx("span",{className:"popup-value",children:new Date(p.created_at).toLocaleDateString("ko-KR")})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"최근 관리:"}),T.jsx("span",{className:"popup-value",children:new Date(p.updated_at).toLocaleDateString("ko-KR")})]})]}),_=p=>{const x=(E=>{switch(E){case"EASY":return{emoji:"🟢",text:"쉬움",color:"#34C759"};case"MEDIUM":return{emoji:"🟡",text:"보통",color:"#FF9500"};case"HARD":return{emoji:"🔴",text:"어려움",color:"#FF3B30"};default:return{emoji:"⚪",text:"알 수 없음",color:"#999"}}})(p.difficulty);return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"설명:"}),T.jsx("span",{className:"popup-value",children:p.description})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"거리:"}),T.jsxs("span",{className:"popup-value",style:{fontWeight:"700",color:"#0066FF"},children:[p.distance_km,"km"]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"예상 시간:"}),T.jsxs("span",{className:"popup-value",children:[p.estimated_time_min,"분"]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"난이도:"}),T.jsxs("span",{className:"popup-value",style:{color:x.color,fontWeight:"600"},children:[x.emoji," ",x.text]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"고도 상승:"}),T.jsxs("span",{className:"popup-value",children:[p.elevation_gain_m,"m"]})]}),T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"평점:"}),T.jsxs("span",{className:"popup-value",children:["⭐ ",p.rating," (",p.review_count,"개 리뷰)"]})]}),p.tags&&p.tags.length>0&&T.jsx("div",{className:"popup-tags",children:p.tags.slice(0,5).map((E,R)=>T.jsxs("span",{className:"popup-tag",children:["#",E]},R))}),s&&T.jsx("button",{className:"popup-route-button",onClick:E=>{E.stopPropagation(),s(p)},children:"🚴 이 코스로 길찾기"})]})};return T.jsxs("div",{className:"marker-popup",children:[T.jsx("button",{className:"marker-popup__close",onClick:n,children:"×"}),T.jsxs("div",{className:"marker-popup__header",children:[T.jsx("span",{className:"marker-popup__icon",children:r(a)}),T.jsxs("div",{children:[T.jsx("span",{className:"marker-popup__category",children:o(a)}),T.jsx("h3",{className:"marker-popup__title",children:t.name})]})]}),T.jsxs("div",{className:"marker-popup__body",children:[a!=="bikeRoute"&&t.address&&T.jsxs("div",{className:"popup-info-row",children:[T.jsx("span",{className:"popup-label",children:"주소:"}),T.jsx("span",{className:"popup-value",children:t.address})]}),a==="bikeStation"&&c(t),a==="repairShop"&&h(t),a==="toilet"&&f(t),a==="waterFountain"&&g(t),a==="bikeRoute"&&_(t)]})]})},B3=a=>{const[t,n]=j.useState(null),s=j.useRef(null),r=j.useRef(null),o=j.useRef(null);return j.useEffect(()=>{if(!a)return;const f=document.createElement("div");f.className="ol-popup",s.current=f;const g=new G3({element:f,autoPan:{animation:{duration:250}},positioning:"bottom-center",offset:[0,-52]});return a.addOverlay(g),r.current=g,()=>{if(o.current){const _=o.current;setTimeout(()=>{_.unmount()},0)}}},[a]),j.useEffect(()=>{if(s.current)if(o.current||(o.current=Uy.createRoot(s.current)),t){const f=()=>{n(null),r.current&&r.current.setPosition(void 0)},g=j.createElement(F3,{type:t.type,data:t.data,onClose:f,onRouteClick:t.onRouteClick});o.current.render(g)}else{const f=j.createElement("div",{style:{display:"none"}});o.current.render(f)}},[t]),{popupData:t,showPopup:(f,g,_,p)=>{n({type:g,data:_,onRouteClick:p}),r.current&&r.current.setPosition(f)},hidePopup:()=>{n(null),r.current&&r.current.setPosition(void 0)}}},Z3=a=>{const[t,n]=j.useState(!1),s=j.useRef(null),r=c=>{if(!a)return;s.current&&a.removeLayer(s.current);const h=E3(c),f=new bi({features:[h]}),g=new Ri({source:f,zIndex:1e3});a.addLayer(g),s.current=g},o=async()=>{window.setGPSButtonClick&&window.setGPSButtonClick();const c=await u1();if(a){const h=a.getView();h.getZoom(),n(!0),h.animate({zoom:12,duration:400}),setTimeout(()=>{h.animate({center:$n([c.longitude,c.latitude]),zoom:15,duration:1e3}),setTimeout(()=>r(c),1e3)},400)}};return j.useEffect(()=>{if(!a)return;let c=!1;const h=f=>{f&&f.pixel&&a.forEachFeatureAtPixel(f.pixel,_=>_)||(c||(n(!1),s.current&&(a.removeLayer(s.current),s.current=null)),c=!1)};return a.on("pointerdrag",h),window.setGPSButtonClick=()=>{c=!0},()=>{a.un("pointerdrag",h),delete window.setGPSButtonClick}},[a]),{isTrackingLocation:t,moveToCurrentLocation:o}},Y3=(a,t,n,s,r,o)=>{const c=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{if(!a||!xd)return;const y=xd.map(E=>{const R=new Rs({geometry:new Ts($n([E.start_point.longitude,E.start_point.latitude])),type:"bikeRoute",data:E}),b=`
        <svg width="44" height="52" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow-route-${E.route_id}" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="2" stdDeviation="3" flood-opacity="0.4"/>
            </filter>
          </defs>
          <path d="M22 0C15.4 0 10 5.4 10 12c0 9 12 28 12 28s12-19 12-28c0-6.6-5.4-12-12-12z" 
                fill="#AF52DE" 
                stroke="#fff" 
                stroke-width="2.5"
                filter="url(#shadow-route-${E.route_id})"/>
          <circle cx="22" cy="12" r="8" fill="white" opacity="0.95"/>
          <text x="22" y="17" text-anchor="middle" font-size="14">🚴</text>
        </svg>
      `;return R.setStyle(new Qe({image:new Di({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(b),scale:1})})),R}),x=new Ri({source:new bi({features:y}),zIndex:15,visible:!1,properties:{type:"bikeRoutes"}});return a.addLayer(x),c.current=x,()=>{c.current&&a&&a.removeLayer(c.current),h.current&&a&&a.removeLayer(h.current)}},[a]);const f=y=>{c.current&&c.current.setVisible(y),!y&&h.current&&(a.removeLayer(h.current),h.current=null)},g=()=>{h.current&&a&&(a.removeLayer(h.current),h.current=null,console.log("선택된 자전거 코스 마커 제거됨"))},_=y=>{g();const x=new Rs({geometry:new Ts($n([y.start_point.longitude,y.start_point.latitude])),type:"selectedBikeRoute",data:y}),E=`
        <svg width="44" height="52" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <filter id="shadow-selected" x="-50%" y="-50%" width="200%" height="200%">
              <feDropShadow dx="0" dy="3" stdDeviation="4" flood-opacity="0.5"/>
            </filter>
          </defs>
          <path d="M22 0C15.4 0 10 5.4 10 12c0 9 12 28 12 28s12-19 12-28c0-6.6-5.4-12-12-12z" 
                fill="#FF6B35" 
                stroke="#fff" 
                stroke-width="3"
                filter="url(#shadow-selected)"/>
          <circle cx="22" cy="12" r="8" fill="white" opacity="0.95"/>
          <text x="22" y="17" text-anchor="middle" font-size="14">🚴</text>
        </svg>
      `;x.setStyle(new Qe({image:new Di({anchor:[.5,1],anchorXUnits:"fraction",anchorYUnits:"fraction",src:"data:image/svg+xml;utf8,"+encodeURIComponent(E),scale:1.2})}));const R=new Ri({source:new bi({features:[x]}),zIndex:20});a.addLayer(R),h.current=R};return{handleBikeRouteClick:y=>{console.log("🚴 자전거 코스 선택됨:",y.name);const x={latitude:y.start_point.latitude,longitude:y.start_point.longitude,name:y.start_point.name||y.name+" 출발"},E={latitude:y.end_point.latitude,longitude:y.end_point.longitude,name:y.end_point.name||y.name+" 도착"};n(),t(!0),setTimeout(()=>{s(x),r(E),o(),_(y);const R=(x.longitude+E.longitude)/2,b=(x.latitude+E.latitude)/2;a&&a.getView().animate({center:$n([R,b]),zoom:12,duration:1200})},100)},toggleBikeRoutesVisibility:f,clearSelectedRouteMarker:g}},X3=(a,t)=>{const{isRoutingMode:n,isSelectingStart:s,isSelectingEnd:r,startPoint:o,endPoint:c,selectStartPoint:h,selectEndPoint:f,showPopup:g,hidePopup:_,handleBikeRouteClick:p}=t;j.useEffect(()=>{if(!a)return;const y=E=>{const R=a.forEachFeatureAtPixel(E.pixel,b=>b);if(n){if(R&&R.get("type")==="bikeRoute"){const b=R.get("data");p(b);return}if(s||!o&&!r){h(E.coordinate);return}if(r||o&&!c){f(E.coordinate);return}return}if(R&&R.get("type")!=="userLocation"&&R.get("type")!=="routeMarker"){const b=R.getGeometry().getCoordinates(),C=R.get("type"),M=R.get("data");g(b,C,M,C==="bikeRoute"?p:void 0)}else _()},x=E=>{const R=E.pixel,b=a.forEachFeatureAtPixel(R,C=>C);n&&!o||n&&o&&!c?a.getTargetElement().style.cursor="crosshair":b&&b.get("type")!=="userLocation"?a.getTargetElement().style.cursor="pointer":a.getTargetElement().style.cursor=""};return a.on("singleclick",y),a.on("pointermove",x),()=>{a.un("singleclick",y),a.un("pointermove",x)}},[a,n,s,r,o,c,h,f,g,_,p])},H3=({activeTab:a,mapInstanceRef:t,handleBikeRouteClickRef:n})=>{const{mapRef:s,mapInstance:r}=kw();j.useEffect(()=>{r&&t&&(t.current=r)},[r,t]);const[o,c]=j.useState([]);L3(r,o);const{isRoutingMode:h,startPoint:f,endPoint:g,routeInfo:_,isSelectingStart:p,isSelectingEnd:y,toggleRoutingMode:x,selectStartPoint:E,selectEndPoint:R,resetStartPoint:b,resetEndPoint:C,clearRoute:M,setStartPoint:z,setEndPoint:D,setIsRoutingMode:O,clearSelectedRouteMarkerRef:H}=U3(r),{showPopup:W,hidePopup:B}=B3(r),{isTrackingLocation:Z,moveToCurrentLocation:$}=Z3(r),{handleBikeRouteClick:nt,toggleBikeRoutesVisibility:et,clearSelectedRouteMarker:it}=Y3(r,O,M,z,D,B);j.useEffect(()=>{H&&(H.current=it)},[it,H]),j.useEffect(()=>{n&&(n.current=nt)},[nt,n]),j.useEffect(()=>{if(et){const lt=a==="route";console.log(`🚴 자전거 코스 표시: ${lt}`),et(lt)}},[a,et]),X3(r,{isRoutingMode:h,isSelectingStart:p,isSelectingEnd:y,startPoint:f,endPoint:g,selectStartPoint:E,selectEndPoint:R,showPopup:W,hidePopup:B,handleBikeRouteClick:nt});const st=lt=>{c(N=>N.includes(lt)?N.filter(q=>q!==lt):[...N,lt])};return T.jsxs("div",{className:"map-view-container",children:[T.jsxs("div",{className:"filter-overlay",children:[T.jsx(ps,{id:"bike",icon:"🚲",text:"대여소",activeColor:"#4A90E2",isActive:o.includes("bike"),onClick:st}),T.jsx(ps,{id:"repair",icon:"🔧",text:"수리점",activeColor:"#FF9500",isActive:o.includes("repair"),onClick:st}),T.jsx(ps,{id:"toilet",icon:"🚻",text:"화장실",activeColor:"#34C759",isActive:o.includes("toilet"),onClick:st}),T.jsx(ps,{id:"water",icon:"💧",text:"음수대",activeColor:"#5AC8FA",isActive:o.includes("water"),onClick:st})]}),T.jsx(nR,{isRoutingMode:h,onToggleMode:x,startPoint:f,endPoint:g,routeInfo:_,onClearRoute:M,isSelectingStart:p,isSelectingEnd:y,onStartPointClick:b,onEndPointClick:C}),T.jsx(o1,{onClick:$,isActive:Z}),T.jsx("div",{ref:s,className:"map-container"})]})};function K3(){const[a,t]=j.useState("map"),n=j.useRef(null),s=r=>{t(r)};return T.jsx(nS,{children:T.jsx(eR,{activeTab:a,onTabChange:s,mapInstanceRef:n,children:T.jsx(NE,{children:T.jsx(Qy,{path:"/",element:T.jsx(H3,{mapInstanceRef:n})})})})})}const V3=Uy.createRoot(document.getElementById("root"));V3.render(T.jsx(K3,{}));
